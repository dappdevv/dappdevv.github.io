var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(u(e,n))}function l(t,e,n,r){if(t){const i=h(t,e,n,r);return t[0](i)}}function h(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function f(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=h(e,n,r,a);t.p(i,s)}}const d="undefined"!=typeof window;let p=d?()=>window.performance.now():()=>Date.now(),m=d?t=>requestAnimationFrame(t):t;const v=new Set;function g(t){v.forEach(e=>{e.c(t)||(v.delete(e),e.f())}),0!==v.size&&m(g)}function y(t){let e;return 0===v.size&&m(g),{promise:new Promise(n=>{v.add(e={c:t,f:n})}),abort(){v.delete(e)}}}function b(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function k(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function I(){return E(" ")}function T(){return E("")}function S(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t){return""===t?null:+t}function P(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function N(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function O(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function R(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const B=new Set;let D,j=0;function U(t,e,n,r,i,o,a,s=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${a(r,1-r)}}\n`}const l=c+`100% {${a(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${s}`,f=t.ownerDocument;B.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(x("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${l}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${h} ${r}ms linear ${i}ms 1 both`,j+=1,h}function F(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),j-=i,j||m(()=>{j||(B.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),B.clear())}))}function $(t){D=t}function z(){if(!D)throw new Error("Function called outside component initialization");return D}function V(t){z().$$.on_mount.push(t)}function q(t){z().$$.on_destroy.push(t)}function H(){const t=z();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=R(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}function G(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const W=[],K=[],Z=[],X=[],J=Promise.resolve();let Y=!1;function Q(){Y||(Y=!0,J.then(it))}function tt(){return Q(),J}function et(t){Z.push(t)}let nt=!1;const rt=new Set;function it(){if(!nt){nt=!0;do{for(let t=0;t<W.length;t+=1){const e=W[t];$(e),ot(e.$$)}for($(null),W.length=0;K.length;)K.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];rt.has(e)||(rt.add(e),e())}Z.length=0}while(W.length);for(;X.length;)X.pop()();Y=!1,nt=!1,rt.clear()}}function ot(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let at;function st(){return at||(at=Promise.resolve(),at.then(()=>{at=null})),at}function ut(t,e,n){t.dispatchEvent(R(`${e?"intro":"outro"}${n}`))}const ct=new Set;let lt;function ht(){lt={r:0,c:[],p:lt}}function ft(){lt.r||o(lt.c),lt=lt.p}function dt(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function pt(t,e,n,r){if(t&&t.o){if(ct.has(t))return;ct.add(t),lt.c.push(()=>{ct.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const mt={duration:0};function vt(n,r,i){let o,s,u=r(n,i),c=!1,l=0;function h(){o&&F(n,o)}function f(){const{delay:r=0,duration:i=300,easing:a=e,tick:f=t,css:d}=u||mt;d&&(o=U(n,0,1,i,r,a,d,l++)),f(0,1);const m=p()+r,v=m+i;s&&s.abort(),c=!0,et(()=>ut(n,!0,"start")),s=y(t=>{if(c){if(t>=v)return f(1,0),ut(n,!0,"end"),h(),c=!1;if(t>=m){const e=a((t-m)/i);f(e,1-e)}}return c})}let d=!1;return{start(){d||(F(n),a(u)?(u=u(),st().then(f)):f())},invalidate(){d=!1},end(){c&&(h(),c=!1)}}}function gt(n,r,i,s){let u=r(n,i),c=s?0:1,l=null,h=null,f=null;function d(){f&&F(n,f)}function m(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(r){const{delay:i=0,duration:a=300,easing:s=e,tick:v=t,css:g}=u||mt,b={start:p()+i,b:r};r||(b.group=lt,lt.r+=1),l||h?h=b:(g&&(d(),f=U(n,c,r,a,i,s,g)),r&&v(0,1),l=m(b,a),et(()=>ut(n,r,"start")),y(t=>{if(h&&t>h.start&&(l=m(h,a),h=null,ut(n,l.b,"start"),g&&(d(),f=U(n,c,l.b,l.duration,0,s,u.css))),l)if(t>=l.end)v(c=l.b,1-c),ut(n,l.b,"end"),h||(l.b?d():--l.group.r||o(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;c=l.a+l.d*s(e/l.duration),v(c,1-c)}return!(!l&&!h)}))}return{run(t){a(u)?st().then(()=>{u=u(),v(t)}):v(t)},end(){d(),l=h=null}}}const yt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function bt(t){t&&t.c()}function wt(t,e,n){const{fragment:i,on_mount:s,on_destroy:u,after_update:c}=t.$$;i&&i.m(e,n),et(()=>{const e=s.map(r).filter(a);u?u.push(...e):o(e),t.$$.on_mount=[]}),c.forEach(et)}function _t(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(e,n,r,a,s,u,c=[-1]){const l=D;$(e);const h=n.props||{},f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,h,(t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&function(t,e){-1===t.$$.dirty[0]&&(W.push(t),Q(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],f.update(),d=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(_)}else f.fragment&&f.fragment.c();n.intro&&dt(e.$$.fragment),wt(e,n.target,n.anchor),it()}$(l)}class xt{$destroy(){_t(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class Et extends xt{constructor(t){super(),kt(this,t,null,null,s,{})}}var It="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function St(t,e){return t(e={exports:{}},e.exports),e.exports}function Ct(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Pt=function(){return(Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Mt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Lt(t){return this instanceof Lt?(this.v=t,this):new Lt(t)}var Ot=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return Pt},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},__decorate:function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},__exportStar:function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},__values:Mt,__read:Nt,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nt(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:Lt,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{!function(t){t.value instanceof Lt?Promise.resolve(t.value.v).then(u,c):l(o[0][2],t)}(i[t](e))}catch(t){l(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:Lt(t[r](e)),done:"return"===r}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=Mt(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}),Rt=function(t,e){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Bt=function(){return(Bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Dt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ut(t){return this instanceof Ut?(this.v=t,this):new Ut(t)}var Ft=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}Rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return Bt},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},__decorate:function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},__exportStar:function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},__values:Dt,__read:jt,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jt(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:Ut,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{!function(t){t.value instanceof Ut?Promise.resolve(t.value.v).then(u,c):l(o[0][2],t)}(i[t](e))}catch(t){l(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:Ut(t[r](e)),done:"return"===r}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=Dt(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}),$t=St((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){try{return a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){try{return"[object process]"===Object.prototype.toString.call(It.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,d.prototype.create),i}return Ft.__extends(e,t),e}(Error),d=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?p(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new f(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function p(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(s(o[0])||""),n=v(s(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=d,e.FirebaseError=f,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=y,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=a,e.base64Decode=s,e.base64Encode=function(t){var e=o(t);return a.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=g,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=_,e.getUA=l,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return l().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())},e.isNode=h,e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return l().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=g(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(_(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(_(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(_(t,e,r)+"must be a valid firebase namespace.")}}));Tt($t);$t.CONSTANTS,$t.Deferred,$t.ErrorFactory,$t.FirebaseError,$t.MAX_VALUE_MILLIS,$t.RANDOM_FACTOR,$t.Sha1,$t.areCookiesEnabled,$t.assert,$t.assertionError,$t.async,$t.base64,$t.base64Decode,$t.base64Encode,$t.calculateBackoffMillis,$t.contains,$t.createSubscribe,$t.decode,$t.deepCopy,$t.deepExtend,$t.errorPrefix,$t.getUA,$t.isAdmin,$t.isBrowser,$t.isBrowserExtension,$t.isElectron,$t.isEmpty,$t.isIE,$t.isIndexedDBAvailable,$t.isMobileCordova,$t.isNode,$t.isNodeSdk,$t.isReactNative,$t.isSafari,$t.isUWP,$t.isValidFormat,$t.isValidTimestamp,$t.issuedAtTime,$t.jsonEval,$t.map,$t.querystring,$t.querystringDecode,$t.safeGet,$t.stringLength,$t.stringToByteArray,$t.stringify,$t.validateArgCount,$t.validateCallback,$t.validateContextObject,$t.validateIndexedDBOpenable,$t.validateNamespace;var zt=function(t,e){return(zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Vt=function(){return(Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function qt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Gt(t){return this instanceof Gt?(this.v=t,this):new Gt(t)}var Wt=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return Vt},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},__decorate:function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},__exportStar:function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},__values:qt,__read:Ht,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ht(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:Gt,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{!function(t){t.value instanceof Gt?Promise.resolve(t.value.v).then(u,c):l(o[0][2],t)}(i[t](e))}catch(t){l(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:Gt(t[r](e)),done:"return"===r}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=qt(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}),Kt=St((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new $t.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Wt.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=Wt.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Wt.__read(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Wt.__awaiter(this,void 0,void 0,(function(){var t;return Wt.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Wt.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r}));Tt(Kt);var Zt,Xt=Kt.Component;Kt.ComponentContainer,Kt.Provider;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function Jt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Yt,Qt=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Yt||(Yt={}));var te={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},ee=Yt.INFO,ne=((Zt={})[Yt.DEBUG]="log",Zt[Yt.VERBOSE]="log",Zt[Yt.INFO]="info",Zt[Yt.WARN]="warn",Zt[Yt.ERROR]="error",Zt),re=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ne[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Jt(["["+i+"]  "+t.name+":"],n))}},ie=function(){function t(t){this.name=t,this._logLevel=ee,this._logHandler=re,this._userLogHandler=null,Qt.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Yt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?te[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Yt.DEBUG],t)),this._logHandler.apply(this,Jt([this,Yt.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Yt.VERBOSE],t)),this._logHandler.apply(this,Jt([this,Yt.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Yt.INFO],t)),this._logHandler.apply(this,Jt([this,Yt.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Yt.WARN],t)),this._logHandler.apply(this,Jt([this,Yt.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Jt([this,Yt.ERROR],t)),this._logHandler.apply(this,Jt([this,Yt.ERROR],t))},t}();var oe=Object.freeze({__proto__:null,get LogLevel(){return Yt},Logger:ie,setLogLevel:function(t){Qt.forEach((function(e){e.setLogLevel(t)}))},setUserLogHandler:function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=te[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Yt[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=Qt;r<i.length;r++){n(i[r])}}}),ae=St((function(t,e){
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n;Object.defineProperty(e,"__esModule",{value:!0});var r,i=((n={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",n["bad-app-name"]="Illegal App name: '{$appName}",n["duplicate-app"]="Firebase App named '{$appName}' already exists",n["app-deleted"]="Firebase App named '{$appName}' already deleted",n["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",n["invalid-log-argument"]="First argument to `onLog` must be null or a function.",n),o=new $t.ErrorFactory("app","Firebase",i),a=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),s=new oe.Logger("@firebase/app"),u=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=$t.deepCopy(t),this.container=new Kt.ComponentContainer(e.name),this._addComponent(new Kt.Component("app",(function(){return o}),"PUBLIC"));try{for(var a=Ot.__values(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){s.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw o.create("app-deleted",{appName:this.name_})},t}();u.prototype.name&&u.prototype.options||u.prototype.delete||console.log("dc");var c=
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function t(){var e=
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var a=i;void 0===a.name&&(a.name="[DEFAULT]");var s=a.name;if("string"!=typeof s||!s)throw o.create("bad-app-name",{appName:String(s)});if($t.contains(e,s))throw o.create("duplicate-app",{appName:s});var u=new t(n,a,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=a[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void s.warn(l.join(" "))}u(new Kt.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:oe.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw o.create("invalid-log-argument",{appName:name});oe.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!$t.contains(e,t))throw o.create("no-app",{appName:t});return e[t]}function u(a){var u,c,l=a.name;if(n.has(l))return s.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===a.type?r[l]:null;if(n.set(l,a),"PUBLIC"===a.type){var h=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[l])throw o.create("invalid-app-argument",{appName:l});return t[l]()};void 0!==a.serviceProps&&$t.deepExtend(h,a.serviceProps),r[l]=h,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,l);return n.apply(this,a.multipleInstances?t:[])}}try{for(var f=Ot.__values(Object.keys(e)),d=f.next();!d.done;d=f.next()){var p=d.value;e[p]._addComponent(a)}}catch(t){u={error:t}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[l]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(u);return e.INTERNAL=Ot.__assign(Ot.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){$t.deepExtend(e,t)},createSubscribe:$t.createSubscribe,ErrorFactory:$t.ErrorFactory,deepExtend:$t.deepExtend}),e}(),l=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if($t.isBrowser()&&void 0!==self.firebase){s.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var h=self.firebase.SDK_VERSION;h&&h.indexOf("LITE")>=0&&s.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=c.initializeApp;c.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $t.isNode()&&s.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,t)};var d=c;!function(t,e){t.INTERNAL.registerComponent(new Kt.Component("platform-logger",(function(t){return new l(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",e),t.registerVersion("fire-js","")}(d),e.default=d,e.firebase=d})),se=Tt(ae);ae.firebase;function ue(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var ce=ue(ae);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
ce.default.registerVersion("firebase","7.24.0","app");var le=ce.default;(function(){var t,e=ae.default,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof It&&It,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Pa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t,e,n){this.code=T+t,this.message=e||S[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new x(e.substring(T.length),t.message,t.serverResponse):null}k(x,Error),x.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},x.prototype.toJSON=function(){return this.w()};var I,T="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function L(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function O(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function R(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function B(){this.b=this.a=null}I=A("__EID__")?"__EID__":void 0,k(M,Error),M.prototype.name="CustomError",k(N,M),N.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new O((function(){return new U}),(function(t){t.reset()}));function j(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}B.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=F(t,e)}function G(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function K(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Y=/&/g,Q=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=s.navigator;if(st){var ut=st.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===bt&&e||"",this.b=yt}function gt(t){return t instanceof vt&&t.constructor===vt&&t.b===yt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.sa=!0,vt.prototype.ra=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},bt={},wt=new vt(bt,"");function _t(t,e){this.a=t===Ct&&e||"",this.b=St}function kt(t){return t instanceof _t&&t.constructor===_t&&t.b===St?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=gt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Et,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof vt?gt(t):encodeURIComponent(String(t))})),new _t(Ct,t)}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={},Ct={};function At(t,e){this.a=t===Ot&&e||"",this.b=Lt}function Pt(t){return t instanceof At&&t.constructor===At&&t.b===Lt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new At(Ot,t))}var Lt={},Ot={};function Rt(){this.a="",this.b=Dt}function Bt(t){return t instanceof Rt&&t.constructor===Rt&&t.b===Dt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Rt.prototype.sa=!0,Rt.prototype.ra=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Dt={};function jt(t){var e=new Rt;return e.a=t,e}jt("<!DOCTYPE html>");var Ut=jt("");function Ft(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function $t(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Y,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Q,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function zt(t){return zt[" "](t),t}jt("<br>"),zt[" "]=l;var Vt,qt,Ht=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),Kt=Wt||Gt,Zt=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Jt(){var t=s.document;return t?t.documentMode:void 0}t:{var Yt="",Qt=(qt=X,Zt?/rv:([^\);]+)(\)|;)/.exec(qt):Wt?/Edge\/([\d\.]+)/.exec(qt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Xt?/WebKit\/(\S+)/.exec(qt):Ht?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(Qt&&(Yt=Qt?Qt[1]:""),Gt){var te=Jt();if(null!=te&&te>parseFloat(Yt)){Vt=String(te);break t}}Vt=Yt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=J(String(Vt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}ee=s.document&&Gt?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(qt){}var ie=!Gt||9<=Number(ee);function oe(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!f(o)||p(o)&&0<o.nodeType?r(o):$(de(o)?Z(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function pe(t){s.setTimeout((function(){throw t}),0)}function me(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new _t(Ct,gt(wt));mt(t,"HTMLIFrameElement"),t.src=kt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Bt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}function ve(t,e){ce||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ce=function(){t.then(be)}}else ce=function(){var t=be;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ue||(ue=me()),ue(t)):s.setImmediate(t)}}(),ge||(ce(),ge=!0),ye.add(t,e)}var ge=!1,ye=new B;function be(){for(var t;t=j();){try{t.a.call(t.b)}catch(t){pe(t)}R(D,t)}ge=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Le(n,ke,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Le(n,xe,t)}))}catch(t){Le(this,xe,t)}}var _e=0,ke=2,xe=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new O((function(){return new Ee}),(function(t){t.reset()}));function Te(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof we)return t;var e=new we(l);return Le(e,ke,t),e}function Ce(t){return new we((function(e,n){n(t)}))}function Ae(t,e,n){Oe(t,e,n,null)||ve(w(e,t))}function Pe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Me(t,e){t.b||t.a!=ke&&t.a!=xe||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Te(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Me(t,i),i.a}function Le(t,e,n){t.a==_e&&(t===n&&(e=xe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=xe||n instanceof Fe||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof we)return Me(t,Te(e||l,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Re(t){t.h||(t.h=!0,ve(t.fc,t))}function Be(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function De(t,e,n,r){if(n==xe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,r);else try{e.c?e.g.call(e.f):je(e,n,r)}catch(t){Ue.call(null,t)}R(Ie,e)}function je(t,e,n){e==ke?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Ne(this,d(t)?t:null,d(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).na=function(t,e){return(t=Te(t,t,e)).c=!0,Me(this,t),this},t.s=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Fe(t);ve((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==_e&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Be(r),De(r,o,xe,n)))}e.c=null}else Le(e,xe,n)}(this,e)}),this)}},t.Zc=function(t){this.a=_e,Le(this,ke,t)},t.$c=function(t){this.a=_e,Le(this,xe,t)},t.fc=function(){for(var t;t=Be(this);)De(this,t,this.a,this.i);this.h=!1};var Ue=pe;function Fe(t){M.call(this,t)}function $e(){this.xa=this.xa,this.oa=this.oa}k(Fe,M),Fe.prototype.name="cancel";function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0))(function(t){Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)})(t)}$e.prototype.xa=!1,$e.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ve=Object.freeze||function(t){return t},qe=!Gt||9<=Number(ee),He=Gt&&!re("9"),Ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(t){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{zt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Ke,We);var Ze=Ve({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ke.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Je,this.va=this.Oa=!1}function Qe(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(Qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=nn(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new Ye(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function an(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?bn(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=mn(t);if(s||(t[rn]=s=new tn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=pn,e=qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?wn(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=gn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Qe(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&ln(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!qe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ke(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Ke(e,this))}function mn(t){return(t=t[rn])instanceof tn?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return d(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function yn(){$e.call(this),this.v=new tn(this),this.$b=this,this.fb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&en(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function xn(t){var e=null;return new we((function(n,r){-1==(e=kn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(yn,$e),yn.prototype[Xe]=!0,yn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;pt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=_n(a,r,!0,t)&&i}if(i=_n(a=t.b=n,r,!0,t)&&i,i=_n(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(a=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Qe(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Tn.prototype).V=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Mn(this,t.f),this.l=t.l,this.a=t.a,Nn(this,t.g),this.c=t.c,Ln(this,Yn(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=jn(n[2]||""),this.a=jn(n[3]||"",!0),Nn(this,n[4]),this.c=jn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=jn(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function Mn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,qn)),t.b=new Gn(e,t.i))}function On(t,e,n){t.b.set(e,n)}function Rn(t,e){return t.b.get(e)}function Bn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Dn(t,e,n,r){var i=new Pn(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&Nn(i,n),r&&(i.c=r),i}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,$n,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,$n,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Vn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Hn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.f;n?Mn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Nn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Ln(e,Yn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var $n=/[#\/\?@]/g,zn=/[#\?:]/g,Vn=/[#\?]/g,qn=/[#\?@]/g,Hn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Zn(t,e){Wn(t),e=Qn(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Xn(t,e){return Wn(t),e=Qn(t,e),Cn(t.a.b,e)}function Jn(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),Z(n)),t.b+=n.length)}function Yn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ir(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ir(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new er,t,e),e.join("")}function er(){}(t=Gn.prototype).add=function(t,e){Wn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,r){$(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Wn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=K(e,this.a.get(Qn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Xn(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,(function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e})),'"')}function or(){var t=Er();return Gt&&!!ee&&11==ee||/Edge\/\d+/.test(t)}function ar(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function sr(t,e){e=e||s.window;var n="about:blank";t&&(n=Pt(Nt(t))),e.location.href=n}function ur(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function cr(t){t=t||s.window;try{t.close()}catch(t){}}function lr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(Er())==br&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Nt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=fe(document,"A"),"HTMLAnchorElement"),e instanceof At||e instanceof At||(e="object"==typeof e&&e.sa?e.ra():String(e),Mt.test(e)||(e="about:invalid#zClosurez"),e=new At(Ot,e)),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Pt(e),a&&(Kt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$t(t)+'">'),r=a.document)&&(r.write(Bt(t)),r.close())):(a=r.open(Pt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function dr(){var t=null;return new we((function(e){"complete"==s.document.readyState?e():(t=function(){e()},un(window,"load",t))})).s((function(e){throw cn(window,"load",t),e}))}function pr(t){return t=t||Er(),!("file:"!==Ar()&&"ionic:"!==Ar()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function vr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function gr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function yr(){var t=gr();return"ReactNative"===t||"Node"===t}var br="Firefox",wr="Chrome";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?br:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":wr:"Safari"}var kr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function xr(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=gr())?r=_r(i=Er()):"Worker"===r&&(r=_r(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return s.navigator&&s.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Tr(){try{var t=s.localStorage,e=Or();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!s.indexedDB}catch(t){return vr()&&!!s.indexedDB}return!1}function Sr(){return(Cr()||"chrome-extension:"===Ar()||pr())&&!yr()&&Tr()&&!vr()}function Cr(){return"http:"===Ar()||"https:"===Ar()}function Ar(){return s.location&&s.location.protocol||null}function Pr(t){return!ur(t=t||Er())&&_r(t)!=br}function Mr(t){return void 0===t?null:tr(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Or(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=_r(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Dr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=gr(),this.b=ur(t)||"ReactNative"===e}function jr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Ur(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function $r(){return!(!Ir("fireauth.oauthhelper",s)&&!Ir("fireauth.iframe",s))}Dr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==Ar()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Vr={};function qr(t){Vr[t]||(Vr[t]=!0,Ur(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Hr.abcd}catch(qt){zr=!1}function Gr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function Kr(t){var e={};return Wr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,Zr(t[n]));return e}function Xr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[ti]),Gr(this,"displayName",t[Yr]||null);var n=null;t[Qr]&&(n=new Date(t[Qr]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Jr(t){try{var e=new ni(t)}catch(t){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Yr="displayName",Qr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Xr.call(this,t),Gr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[si],r=t[ci],i=t[li];if(t=Jr(t[ui]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,Gr(this,vi,i),Gr(this,mi,Zr(e))}k(ni,Xr),ni.prototype.w=function(){var t=ni.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",si="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",mi="data",vi="operation";function gi(t){var e=Rn(t=Bn(t),yi)||null,n=Rn(t,bi)||null,r=Rn(t,ki)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new x("argument-error",yi+", "+bi+"and "+ki+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,wi)||null,languageCode:Rn(t,_i)||null,tenantId:Rn(t,xi)||null})}var yi="apiKey",bi="oobCode",wi="continueUrl",_i="languageCode",ki="mode",xi="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new gi(t)}catch(t){return null}}function Ti(t){var e=t[Mi];if(void 0===e)throw new x("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new x("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Si];if(n&&"object"==typeof n){e=n[Oi];var r=n[Ni];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new x("argument-error",Ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new x("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new x("argument-error",Oi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new x("missing-android-pkg-name")}}else if(void 0!==n)throw new x("argument-error",Si+" property must be a non null object when specified.");if(this.f=null,(e=t[Pi])&&"object"==typeof e){if("string"==typeof(e=e[Ri])&&e.length)this.f=e;else if(void 0!==e)throw new x("argument-error",Ri+" property must be a non empty string when specified.")}else if(void 0!==e)throw new x("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new x("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ci])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new x("argument-error",Ci+" property must be a non empty string when specified.");this.i=t||null}var Si="android",Ci="dynamicLinkDomain",Ai="handleCodeInApp",Pi="iOS",Mi="url",Ni="installApp",Li="minimumVersion",Oi="packageName",Ri="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Di=null;function ji(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Di[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Ui(t){var e=$i(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Fi(t){try{return new Ui(t)}catch(t){return null}}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(ji(t))}catch(t){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],qi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Vi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Vi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Vi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:zi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Hi(t){for(var e in qi)if(qi[e].fa==t)return qi[e];return null}function Gi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=Qi,e["github.com"]=Yi,e["twitter.com"]=to;var n=t&&t[Ki];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Wi])return new Zi(t)}catch(t){}return null}var Wi="idToken",Ki="providerId";function Zi(t){var e=t[Ki];if(!e&&t[Wi]){var n=Fi(t[Wi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function Xi(t){Zi.call(this,t),Gr(this,"profile",Zr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function Qi(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function eo(t){var e=Bn(t),n=Rn(e,"link"),r=Rn(Bn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Bn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new x("internal-error","Internal assert: no raw session string available");if(t&&e)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}k(Xi,Zi),k(Ji,Xi),k(Yi,Xi),k(Qi,Xi),k(to,Xi);var ro="enroll",io="signin";function oo(){}function ao(t,e){return t.then((function(t){if(t[Ka]){var n=Fi(t[Ka]);if(!n||e!=n.h)throw new x("user-mismatch");return t}throw new x("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new x("user-mismatch"):t}))}function so(t,e){if(!e)throw new x("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function po(t,e){this.Pc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Hi(t)||{}).Ja||null,this.nb=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function vo(t){po.call(this,t,Vi),this.a=[]}function go(){vo.call(this,"facebook.com")}function yo(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function bo(){vo.call(this,"github.com")}function wo(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function _o(){vo.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function xo(){po.call(this,"twitter.com",zi)}function Eo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function So(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=Ao(e)))throw new x("argument-error","Invalid email link!");return new Io(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(t){return(t=Ii(t=eo(t)))&&t.operation===oi?t:null}function Po(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new x("internal-error");this.a=t,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Po(e)}return null}function No(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Lo(t){try{this.a=t||e.auth()}catch(t){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Oo(t,e){if(!t)throw new x("missing-verification-id");if(!e)throw new x("missing-verification-code");return new Po({cb:t,bb:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return yo(n);case"github.com":return wo(n);case"twitter.com":return Eo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new so(e,a):new lo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Bo(t){if(!t.isOAuthProvider)throw new x("invalid-oauth-provider")}function Do(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ja=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},so.prototype.ja=function(t){return vs(t,uo(this))},so.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,gs(t,n)},so.prototype.c=function(t,e){return ao(ys(t,uo(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(t){return vs(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,gs(t,n)},lo.prototype.c=function(t,e){return ao(ys(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Hb=ft(t),this},k(mo,po),k(vo,po),vo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},vo.prototype.Pb=function(){return Z(this.a)},vo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},k(go,vo),Gr(go,"PROVIDER_ID","facebook.com"),Gr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(bo,vo),Gr(bo,"PROVIDER_ID","github.com"),Gr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),k(_o,vo),Gr(_o,"PROVIDER_ID","google.com"),Gr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),k(xo,po),Gr(xo,"PROVIDER_ID","twitter.com"),Gr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ja=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Ts,{email:this.a,oobCode:this.f}):Qs(t,Ks,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Ss,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,Fs,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return ao(this.ja(t),e)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(So,{PROVIDER_ID:"password"}),Wr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ja=function(t){return t.eb(No(this))},Po.prototype.b=function(t,e){var n=No(this);return n.idToken=e,Qs(t,Xs,n)},Po.prototype.c=function(t,e){var n=No(this);return n.operation="REAUTH",ao(t=Qs(t,Js,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.eb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return Qs(t,zs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return Qs(t,Vs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Qs(t,js,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(Lo,{PROVIDER_ID:"phone"}),Wr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Fo,$o=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",x.call(this,e,n)}function Vo(t,e,n){x.call(this,t,n),(t=e||{}).Ib&&Gr(this,"email",t.Ib),t.ea&&Gr(this,"phoneNumber",t.ea),t.credential&&Gr(this,"credential",t.credential),t.Yb&&Gr(this,"tenantId",t.Yb)}function qo(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:Ro(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new x(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Ho(){}function Go(t){return t.c||(t.c=t.b())}function Wo(){}function Ko(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.pc,this),this.a.onerror=b(this.Rb,this),this.a.onprogress=b(this.qc,this),this.a.ontimeout=b(this.uc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Yo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Qo(t){this.f=t,this.b=this.c=this.a=null}function ta(t,e){this.name=t,this.value=e}k(zo,x),k(Vo,x),Vo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Vo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,k(Wo,Ho),Wo.prototype.a=function(){var t=Ko(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Ko(this)&&(t[0]=!0,t[1]=!0),t},Fo=new Wo,k(Zo,Ho),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(t,e,n,r,i){delete this.a},ta.prototype.toString=function(){return this.name};var ea=new ta("SEVERE",1e3),na=new ta("WARNING",900),ra=new ta("CONFIG",700),ia=new ta("FINE",500);Qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Yo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oa={},aa=null;function sa(t){var e;if(aa||(aa=new Qo(""),oa[""]=aa,aa.c=ra),!(e=oa[t])){e=new Qo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=sa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oa[t]=e}return e}function ua(t,e){t&&t.log(ia,e,void 0)}function ca(t){this.f=t}function la(t){yn.call(this),this.o=t,this.readyState=ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=sa("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(ca,Ho),ca.prototype.a=function(){return new la(this.f)},ca.prototype.b=function(t){return function(){return t}}({}),k(la,yn);var ha=0;function fa(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function da(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,pa(t)}function pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ma(t){yn.call(this),this.headers=new Tn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=va,this.u=this.R=!1}(t=la.prototype).open=function(t,e){if(this.readyState!=ha)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,pa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,da(this,!1)),this.readyState=ha},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,pa(this)),this.a&&(this.readyState=3,pa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,fa(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?da(this,!0):pa(this),3==this.readyState&&fa(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,da(this,!0))},t.rc=function(t){this.a&&(this.response=t,da(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(na,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&da(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(na,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(na,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},k(ma,yn);var va="";ma.prototype.b=sa("goog.net.XhrIo");var ga=/^https?$/i,ya=["POST","PUT"];function ba(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Fo.a(),t.A=t.O?Go(t.O):Go(Fo),t.a.onreadystatechange=b(t.Ub,t);try{ua(t.b,Ca(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return ua(t.b,Ca(t,"Error opening Xhr: "+e.message)),void _a(t,e)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)$(t,e,void 0);else for(var n=In(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=wa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!H(ya,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ia(t),0<t.g&&(t.u=function(t){return Gt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ua(t.b,Ca(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.o=kn(t.Ma,t.g,t)),ua(t.b,Ca(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ua(t.b,Ca(t,"Send error: "+e.message)),_a(t,e)}}function wa(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ka(t),Ea(t)}function ka(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xa(t){if(t.c&&void 0!==a)if(t.A[1]&&4==Ta(t)&&2==Sa(t))ua(t.b,Ca(t,"Local request error detected and ignored"));else if(t.i&&4==Ta(t))kn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ta(t)){ua(t.b,Ca(t,"Request complete")),t.c=!1;try{var e,n=Sa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(An)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!ga.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ta(t)?t.a.statusText:""}catch(e){ua(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Sa(t)+"]",ka(t)}}finally{Ea(t)}}}function Ea(t,e){if(t.a){Ia(t);var n=t.a,r=t.A[0]?l:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ea,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ia(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(s.clearTimeout(t.o),t.o=null)}function Ta(t){return t.a?t.a.readyState:0}function Sa(t){try{return 2<Ta(t)?t.a.status:-1}catch(t){return-1}}function Ca(t,e){return e+" ["+t.P+" "+t.l+" "+Sa(t)+"]"}function Aa(t){var e=Fa;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Pa(t,e,n){t.a=!0,t.c=n,t.f=!e,Oa(t)}function Ma(t){if(t.a){if(!t.m)throw new Ra(t);t.m=!1}}function Na(t,e,n,r){t.g.push([e,n,r]),t.a&&Oa(t)}function La(t){return q(t.g,(function(t){return d(t[1])}))}function Oa(t){if(t.h&&t.a&&La(t)){var e=t.h,n=ja[e];n&&(s.clearTimeout(n.a),delete ja[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,La(t)||(n=!0)}}t.c=e,r&&(u=b(t.v,t,!0),r=b(t.v,t,!1),e instanceof Aa?(Na(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Da(e),ja[e.a]=e,t.h=e.a)}function Ra(){M.call(this)}function Ba(){M.call(this)}function Da(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ma.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ua(this.b,Ca(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ua(this.b,Ca(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ea(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ea(this,!0)),ma.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?xa(this):this.Ic())},t.Ic=function(){xa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case va:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ea,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ua(this.b,"Can not get response: "+t.message),null}},Aa.prototype.cancel=function(t){if(this.a)this.c instanceof Aa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Ba(this),Ma(this),Pa(this,!1,t))}},Aa.prototype.v=function(t,e){this.i=!1,Pa(this,t,e)},Aa.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Na(this,r,(function(t){t instanceof Ba?o.cancel():i(t)})),o.then(t,e,n)},Aa.prototype.$goog_Thenable=!0,k(Ra,M),Ra.prototype.message="Deferred has already fired",Ra.prototype.name="AlreadyCalledError",k(Ba,M),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",Da.prototype.c=function(){throw delete ja[this.a],this.b};var ja={};function Ua(t){var e,n=document,r=kt(t).toString(),i=fe(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Aa(o);return e=window.setTimeout((function(){$a(i,!0);var t=new qa(Va,"Timeout reached for loading script "+r);Ma(a),Pa(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,!1,e),Ma(a),Pa(a,!0,null))},i.onerror=function(){$a(i,!0,e);var t=new qa(za,"Error while loading script "+r);Ma(a),Pa(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=kt(e),null===c&&(c=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Fa(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&$a(t,!0,this.Ma)}}function $a(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var za=0,Va=1;function qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function Ha(t){this.f=t}function Ga(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Za,this.g=ft(t.secureTokenHeaders||Xa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ja,this.a=ft(t.firebaseHeaders||Ya),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==gr(),!(r=s.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!vr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,vr()?this.f=new ca(self):yr()?this.f=new Ha(r):this.f=new Zo,this.b=null}k(qa,M),k(Ha,Ho),Ha.prototype.a=function(){return new this.f},Ha.prototype.b=function(){return{}};var Wa,Ka="idToken",Za=new Dr(3e4,6e4),Xa={"Content-Type":"application/x-www-form-urlencoded"},Ja=new Dr(3e4,6e4),Ya={"Content-Type":"application/json"};function Qa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ts(t,e){e&&(t.l=es("https://securetoken.googleapis.com/v1/token",e),t.h=es("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=es("https://identitytoolkit.googleapis.com/v2/",e))}function es(t,e){return t=Bn(t),e=Bn(e.url),t.c=t.a+t.c,Mn(t,e.f),t.a=e.a,Nn(t,e.g),t.toString()}function ns(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function rs(t,e,n,r,i,o,a){(function(){var t=Er();return!((t=_r(t)!=wr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Gt||!ee||9<ee)})()||vr()?t=b(t.u,t):(Wa||(Wa=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[os]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Na(t,null,e,void 0)}(Ua(xt(is,{onload:os})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.o,t)),t(e,n,r,i,o,a)}Ga.prototype.S=function(){return this.b},Ga.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ma(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}bn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ua(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),wn(a,"ready",(function(){u&&clearTimeout(u),ze(this)})),wn(a,"timeout",(function(){u&&clearTimeout(u),ze(this),e&&e(null)})),ba(a,t,n,r,i)};var is=new vt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),os="__fcb"+Math.floor(1e6*Math.random()).toString();function as(t,e,n,r,i,o,a){var s=Bn(e+n);On(s,"key",t.c),a&&On(s,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(s,c,i[c]);return new we((function(e,n){rs(t,s.toString(),(function(t){t?t.error?n(eu(t,o||{})):e(t):n(new x("network-request-failed"))}),r,u?void 0:tr(Nr(i)),t.a,t.m.get())}))}function ss(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new x("invalid-email")}function us(t){"email"in t&&ss(t)}function cs(t){if(!t[Ka]){if(t.mfaPendingCredential)throw new x("multi-factor-auth-required",null,ft(t));throw new x("internal-error")}}function ls(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new x("internal-error")}else{if(!t.sessionInfo)throw new x("missing-verification-id");if(!t.code)throw new x("missing-verification-code")}}Ga.prototype.o=function(t,e,n,r,i){var o=this;Wa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ga.prototype.yb=function(){return Qs(this,$s,{})},Ga.prototype.Ab=function(t,e){return Qs(this,Us,{idToken:t,email:e})},Ga.prototype.Bb=function(t,e){return Qs(this,Fs,{idToken:t,password:e})};var hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fs(t){if(!t.phoneVerificationInfo)throw new x("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new x("missing-verification-code")}function ds(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new x("internal-error")}function ps(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ms(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=qo(t)):t.errorMessage&&(e=tu(t.errorMessage)),e)throw e;cs(t)}function vs(t,e){return e.returnIdpCredential=!0,Qs(t,qs,e)}function gs(t,e){return e.returnIdpCredential=!0,Qs(t,Gs,e)}function ys(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,Hs,e)}function bs(t){if(!t.oobCode)throw new x("invalid-action-code")}(t=Ga.prototype).Cb=function(t,e){var n={idToken:t},r=[];return lt(hs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qs(this,Us,n)},t.ub=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,Os,t)},t.vb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,Ms,t)},t.tb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,Ns,t)},t.Db=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,Ls,t)},t.eb=function(t){return Qs(this,Zs,t)},t.mb=function(t,e){return Qs(this,Ds,{oobCode:t,newPassword:e})},t.Qa=function(t){return Qs(this,_s,{oobCode:t})},t.ib=function(t){return Qs(this,ws,{oobCode:t})};var ws={endpoint:"setAccountInfo",B:bs,Z:"email",C:!0},_s={endpoint:"resetPassword",B:bs,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new x("internal-error")},C:!0},ks={endpoint:"signupNewUser",B:function(t){if(ss(t),!t.password)throw new x("weak-password")},F:cs,U:!0,C:!0},xs={endpoint:"createAuthUri",C:!0},Es={endpoint:"deleteAccount",M:["idToken"]},Is={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=h(t.deleteProvider))throw new x("internal-error")}},Ts={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ss,F:cs,U:!0,C:!0},Ss={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ss,F:cs,U:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:fs,F:cs,C:!0,Na:!0},As={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:fs,F:cs,C:!0,Na:!0},Ps={endpoint:"getAccountInfo"},Ms={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new x("internal-error");ss(t)},Z:"email",C:!0},Ns={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",C:!0},Ls={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",C:!0},Os={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new x("internal-error");ss(t)},Z:"email",C:!0},Rs={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Bs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new x("internal-error")}},Ds={endpoint:"resetPassword",B:bs,Z:"email",C:!0},js={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Us={endpoint:"setAccountInfo",M:["idToken"],B:us,U:!0},Fs={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(us(t),!t.password)throw new x("weak-password")},F:cs,U:!0},$s={endpoint:"signupNewUser",F:cs,U:!0,C:!0},zs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new x("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new x("internal-error")},C:!0,Na:!0},Vs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new x("internal-error")},C:!0,Na:!0},qs={endpoint:"verifyAssertion",B:ds,Xa:ps,F:ms,U:!0,C:!0},Hs={endpoint:"verifyAssertion",B:ds,Xa:ps,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new x("user-not-found");if(t.errorMessage)throw tu(t.errorMessage);cs(t)},U:!0,C:!0},Gs={endpoint:"verifyAssertion",B:function(t){if(ds(t),!t.idToken)throw new x("internal-error")},Xa:ps,F:ms,U:!0},Ws={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new x("invalid-custom-token")},F:cs,U:!0,C:!0},Ks={endpoint:"verifyPassword",B:function(t){if(ss(t),!t.password)throw new x("wrong-password")},F:cs,U:!0,C:!0},Zs={endpoint:"verifyPhoneNumber",B:ls,F:cs,C:!0},Xs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new x("internal-error");ls(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",qo(t);cs(t)}},Js={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ls,F:cs,C:!0},Ys={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ka]^!!t.refreshToken)throw new x("internal-error")},C:!0,Na:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ce(new x("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Se(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),as(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new x("internal-error");return r[e.Z]}))}function tu(t){return eu({error:{errors:[{message:t}],code:400,message:t}})}function eu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],e);return!e&&t&&(e=Mr(t)),new x("internal-error",e)}function nu(t){this.b=t,this.a=null,this.qb=function(t){return(au||(au=new we((function(t,e){function n(){Br(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:iu.get()})}if(Ir("gapi.iframes.Iframe"))t();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Se(Ua(r=xt(ru,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw au=null,t})))).then((function(){return new we((function(e,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ou.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ru=new vt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new Dr(3e4,6e4),ou=new Dr(5e3,15e3),au=null;function su(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Dn((t=Bn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Dn("https",this.l,null,"/__/auth/iframe"),this.a=t,On(this.a,"apiKey",this.h),On(this.a,"appName",this.i),this.b=null,this.c=[]}function uu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(t){try{return e.app(t).auth().Ga()}catch(t){return[]}}function lu(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function hu(t){var e=ar();return function(t){return Qs(t,Rs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:hr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(ar())}))}function fu(t){return t.v||(t.v=dr().then((function(){if(!t.u){var e=t.c,n=t.i,r=cu(t.b),i=new su(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.m=new nu(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.v}function du(t){return t.l||(t.A=t.c?xr(t.c,cu(t.b)):null,t.l=new Ga(t.g,A(t.i),t.A),t.f&&ts(t.l,t.f)),t.l}function pu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new uu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.xb(l).toString()}function mu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=b(this.c,this)}su.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?On(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},uu.prototype.xb=function(t){return this.h=t,this},uu.prototype.toString=function(){if(this.m){var t=Bn(this.m.url);t=Dn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Dn("https",this.u,null,"/__/auth/handler");if(On(t,"apiKey",this.o),On(t,"appName",this.c),On(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ka()}catch(t){r=null}for(var i in n.nb=r,On(t,"providerId",this.a.providerId),n=Nr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=ft(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),ht(n)||On(t,"customParameters",Mr(n))}if("function"==typeof this.a.Pb&&((r=this.a.Pb()).length&&On(t,"scopes",r.join(","))),this.l?On(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?On(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?On(t,"v",this.i):Zn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Rn(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):Zn(t.b,"tid"),this.f?On(t,"eid",this.f):Zn(t.b,"eid"),(s=cu(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=lu.prototype).Nb=function(t,e,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then((function(){return function(t,e){return t.qb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&cr(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new we((function(e){return function n(){xn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return xn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Er();return!Pr(t)&&!Rr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Ce(new x("popup-blocked"));if(a&&!Pr())return this.la().s((function(e){cr(t),i(e)})),r(),Se();this.a||(this.a=hu(du(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw cr(t),i(e),e}));return r(),e})).then((function(){(Bo(n),a)||sr(pu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=hu(du(this)));var i=this;return this.a.then((function(){Bo(e),sr(pu(i.o,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return fu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new x("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){W(this.h,(function(e){return e==t}))},(t=mu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Mr(e)))},t.T=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var gu,yu=[];function bu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ce(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return xu(t,c),e})).s((function(e){throw xu(t,c),e}))}function xu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Eu(){if(!Su())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;vr()&&self?(this.l=function(){var t=vr()?self:null;if($(yu,(function(n){n.b==t&&(e=n)})),!e){var e=new vu(t);yu.push(e)}return e}(),bu(this.l,"keyChanged",(function(e,n){return Nu(t).then((function(e){return 0<e.length&&$(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),bu(this.l,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new _u(new wu(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Iu(t){return new we((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Iu(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function Tu(t){return t.v||(t.v=Iu(t)),t.v}function Su(){try{return!!s.indexedDB}catch(t){return!1}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Se()}function Nu(t){return Tu(t).then((function(t){var e=Cu(Au(t,!1));return e.getAll?Pu(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Lu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ou(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Su()){var t=Or(),r="__sak"+t;return gu||(gu=new Eu),(n=gu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){$(e.a,(function(e){e(t)}))})),t}))}function Ru(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==gr();if(!(t=Du()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==gr())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Du()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Du(){try{var t=s.localStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){this.type="nullStorage"}function Uu(){if(!function(){var t="Node"==gr();if(!(t=Fu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==gr())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Fu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fu(){try{var t=s.sessionStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function $u(){var t={};t.Browser=qu,t.Node=Hu,t.ReactNative=Gu,t.Worker=Wu,this.a=t[gr()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];$(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];$(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),$(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)xu(this,this.a[0]);this.b=!0},(t=Eu.prototype).set=function(t,e){var n,r=!1,i=this;return Tu(this).then((function(e){return Pu((e=Cu(Au(n=e,!0))).get(t))})).then((function(o){var a=Cu(Au(n,!0));return o?(o.value=e,Pu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Pu(a.add(o)))})).then((function(){return i.c[t]=e,Mu(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return Tu(this).then((function(e){return Pu(Cu(Au(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return Tu(this).then((function(r){return e=!0,n.b++,Pu(Cu(Au(r,!0)).delete(t))})).then((function(){return delete n.c[t],Mu(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){Lu(t),function e(){t.f=setTimeout((function(){t.i=Nu(t).then((function(e){0<e.length&&$(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&Lu(this)},(t=Ou.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=Ru.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.T=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Mr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&cn(s.window,"storage",t)},(t=ju.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.T=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Uu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Mr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Vu,qu={D:Bu,ab:Uu},Hu={D:Bu,ab:Uu},Gu={D:mu,ab:ju},Wu={D:Bu,ab:ju},Ku={qd:"local",NONE:"none",sd:"session"};function Zu(){var t=!(Rr(Er())||!mr()),e=Pr(),n=Tr();this.v=t,this.h=e,this.l=n,this.a={},zu||(zu=new $u),t=zu;try{this.g=!or()&&$r()||!s.indexedDB?new t.a.D:new Ou(vr()?new Ru:new t.a.D)}catch(t){this.g=new Ru,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Ru}this.m=new Ru,this.f=b(this.Xb,this),this.b={}}function Xu(){return Vu||(Vu=new Zu),Vu}function Ju(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Yu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qu(t,e,n){return n=Yu(e,n),"local"==e.D&&(t.b[n]=null),Ju(t,e.D).T(n)}function tc(t){t.c&&(clearInterval(t.c),t.c=null)}function ec(t){this.a=t,this.b=Xu()}(t=Zu.prototype).get=function(t,e){return Ju(this,t.D).get(Yu(t,e))},t.set=function(t,e,n){var r=Yu(t,n),i=this,o=Ju(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Yu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(Ju(this,"local").ca(this.f),this.h||(or()||!$r())&&s.indexedDB||!this.l||function(t){tc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Yu(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Ju(this,"local").ia(this.f),tc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ju(this,"local").ia(this.f):tc(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},Gt&&ee&&10==ee&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else $(t,b(this.lb,this))},t.lb=function(t){this.a[t]&&$(this.a[t],(function(t){t()}))};var nc,rc={name:"authEvent",D:"local"};function ic(){this.a=Xu()}function oc(t,e){this.b=ac,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===nc&&(nc=s.Int32Array?new Int32Array(dc):dc),this.reset()}k(oc,(function(){this.b=-1}));for(var ac=64,sc=ac-1,uc=[],cc=0;cc<sc;cc++)uc[cc]=0;var lc=K(128,uc);function hc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|nc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function fc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(hc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(hc(t),i=0)}}t.c=i,t.g+=n}oc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var dc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pc(){oc.call(this,8,mc)}k(pc,oc);var mc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new ic,this.g=new ec(this.h),this.f=null,this.b=[],this.a=this.c=null}function gc(t){return new x("invalid-cordova-configuration",t)}function yc(t){var e=new pc;fc(e,t),t=[];var n=8*e.g;56>e.c?fc(e,lc,56-e.c):fc(e,lc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(hc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return V(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function bc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function wc(t){return t.f||(t.f=t.la().then((function(){return new we((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),_c(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Rn(o=Bn(i),"firebaseError")||null))?E(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}bc(t,i)}))}var n=new Do("unknown",null,null,null,new x("no-auth-event")),r=!1,i=xn(500).then((function(){return _c(t).then((function(){r||bc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},$o||($o=new Uo),function(t){var e=$o;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ir("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function _c(t){var e=null;return function(t){return t.b.get(rc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,Qu((n=t.g).b,rc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=Xu()}(t=vc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(pr(void 0)?dr().then((function(){return new we((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ce(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ir("universalLinks.subscribe",s))throw gc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",s))throw gc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",s))throw gc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",s))throw gc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},t.Nb=function(t,e){return e(new x("operation-not-supported-in-this-environment")),Se()},t.Lb=function(){return Ce(new x("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ce(new x("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Se().then((function(){return Bo(e),wc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Do(e,r,null,o,new x("no-auth-event"),null,i),u=Ir("BuildInfo.packageName",s);if("string"!=typeof u)throw new x("invalid-cordova-configuration");var c=Ir("BuildInfo.displayName",s),l={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Er().toLowerCase().match(/android/))return Ce(new x("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=yc(o),l.sessionId=o;var h=pu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(rc,a.w(),e)})).then((function(){var e=Ir("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new x("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ir("cordova.plugins.browsertab.openUrl",s)))throw new x("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ir("cordova.InAppBrowser.open",s)))throw new x("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){u=function(){var e=Ir("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=xn(2e3).then((function(){e(new x("redirect-cancelled-by-user"))})))},l=function(){jr()&&c()},o.addEventListener("resume",c,!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return _c(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),wc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new x("no-auth-event")),t(e))}))},t.Ra=function(t){W(this.b,(function(e){return e==t}))};var xc={name:"pendingRedirect",D:"session"};function Ec(t){return Qu(t.b,xc,t.a)}function Ic(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=b(this.o,this),this.b=new Fc,this.A=new Hc,this.g=new kc(jc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Tc(this.O,this.m,this.v,I,this.G)}function Tc(t,n,r,i,o){var a=e.SDK_VERSION||null;return pr()?new vc(t,n,r,a,i,o):new lu(t,n,r,a,i,o)}function Sc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Cc(t){t.a.Wb()&&Sc(t).s((function(e){var n=new Do("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Oc(e)&&t.o(n)})),t.a.Sb()||$c(t.b)}function Ac(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(xc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Ec(t.g).then((function(){Sc(t).s((function(e){var n=new Do("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Oc(e)&&t.o(n)}))})):Cc(t)})).s((function(){Cc(t)}))}function Pc(t,e){W(t.h,(function(t){return t==e}))}Ic.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Tc(this.O,this.m,this.v,null,this.G),this.i={}},Ic.prototype.o=function(t){if(!t)throw new x("invalid-auth-event");if(6e5<=_()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=_())),e=!0;break}}return $c(this.b),e};var Mc=new Dr(2e3,1e4),Nc=new Dr(3e4,6e4);function Lc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Oc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Rc(t,e,n,r,i){var o;return function(t){return t.b.set(xc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Oc(e))throw new x("operation-not-supported-in-this-environment");return o=e,Ec(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new we((function(){})):Ec(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Bc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Mc.get())}Ic.prototype.qa=function(){return this.b.qa()};var Dc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Uc(t,e,n,r){var i=jc(e,n,r);return Dc[i]||(Dc[i]=new Ic(t,e,n,r)),Dc[i]}function Fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function $c(t){t.g||(t.g=!0,qc(t,!1,null,null))}function zc(t){t.g&&!t.i&&qc(t,!1,null,null)}function Vc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ce(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Vc(t,n):Vc(t,{user:null}),t.f=[],t.c=[]}function Hc(){}function Gc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Wc(t,e){this.a=e,Gr(this,"verificationId",t)}function Kc(t,e,n,r){return new Lo(t).eb(e,n).then((function(t){return new Wc(t,r)}))}function Zc(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xc(t,e,n){var r=e&&e[Yc];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;$(e[Jc]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(qc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){qc(t,s,e,null)})).s((function(e){qc(t,s,null,e)}))}(this,t,e):Ce(new x("invalid-auth-event")):(qc(this,!1,null,null),Se())}else Ce(new x("invalid-auth-event"))},Fc.prototype.qa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new x("timeout");t.a&&t.a.cancel(),t.a=xn(Nc.get()).then((function(){t.b||(t.g=!0,qc(t,!0,null,e))}))}(t))}))},Hc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Ce(new x("invalid-auth-event"))}else Ce(new x("invalid-auth-event"))},Wc.prototype.confirm=function(t){return t=Oo(this.verificationId,t),this.a(t)};var Jc="mfaInfo",Yc="mfaPendingCredential";function Qc(t,e,n,r){x.call(this,"multi-factor-auth-required",r,e),this.b=new Xc(t,e,n),Gr(this,"resolver",this.b)}function tl(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qc(e,t.serverResponse,n,t.message)}catch(t){}return null}function el(){}function nl(t){Gr(this,"factorId",t.fa),this.a=t}function rl(t){if(nl.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function il(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function ol(t,e){this.a=t,this.b=[],this.c=b(this.xc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&$(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Yr]=t.displayName),t.enrollmentTime&&(r[Qr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),al(this,n)}function al(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function sl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t){this.c=t,this.b=this.a=null}function cl(t){return t.b&&1e3*t.b.c||0}function ll(t,e){var n=e.refreshToken;t.b=Fi(e[Ka]||""),t.a=n}function hl(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?rs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(eu(t)):t.access_token&&t.refresh_token?n(t):r(new x("internal-error")):r(new x("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.v.get()):r(new x("internal-error"))}))}(t.c,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function fl(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function dl(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.SDK_VERSION?xr(e.SDK_VERSION):null;this.a=new Ga(this.l,A(I),i),t.emulatorConfig&&ts(this.a,t.emulatorConfig),this.b=new ul(this.a),kl(this,n[Ka]),ll(this.b,n),Gr(this,"refreshToken",this.b.a),Il(this,r||{}),yn.call(this),this.P=!1,this.o&&Sr()&&(this.i=Uc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new sl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=cl(t.b)-_()-3e5;return 0<e?e:0}))}(this),this.$=b(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){ts(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){gl(o,t.f)},this.aa=null,this.N=new ol(this,r),Gr(this,"multiFactor",this.N)}function ml(t,e){t.ba&&cn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&an(e,"languageCodeChanged",t.Ba)}function vl(t,e){t.W&&cn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&an(e,"emulatorConfigChanged",t.za)}function gl(t,n){t.X=n,ns(t.a,e.SDK_VERSION?xr(e.SDK_VERSION,t.X):null)}function yl(t,e){t.aa&&cn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&an(e,"frameworkChanged",t.Aa)}function bl(t){try{return e.app(t.m).auth()}catch(e){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function wl(t){t.A||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.$),an(t,"tokenChanged",t.$))}function _l(t){cn(t,"tokenChanged",t.$),t.u.stop()}function kl(t,e){t.ya=e,Gr(t,"_lat",e)}function xl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Pe(e).then((function(){return t}))}function El(t){t.i&&!t.P&&(t.P=!0,Ac(t.i,t))}function Il(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Tl(){}function Sl(t){return Se().then((function(){if(t.A)throw new x("app-deleted")}))}function Cl(t){return V(t.providerData,(function(t){return t.providerId}))}function Al(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))}function Pl(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Ml(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function Nl(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Gr(t,"metadata",function(t){return new fl(t.a,t.b)}(e.metadata)):Gr(t,"metadata",new fl),$(e.providerData,(function(e){Al(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Gr(t,"refreshToken",t.b.a),al(t.N,e.N.b))}function Ll(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Qs(t.a,Ps,{idToken:e}).then(b(t.Jc,t))}(t,e).then((function(){return n||Ml(t,"isAnonymous",!1),e}))}))}function Ol(t,e){e[Ka]&&t.ya!=e[Ka]&&(ll(t.b,e),t.dispatchEvent(new il("tokenChanged")),kl(t,e[Ka]),Ml(t,"refreshToken",t.b.a))}function Rl(t,e){return Ll(t).then((function(){if(H(Cl(t),e))return xl(t).then((function(){throw new x("provider-already-linked")}))}))}function Bl(t,e,n){return Kr({user:t,credential:Ro(e),additionalUserInfo:e=Gi(e),operationType:n})}function Dl(t,e){return Ol(t,e),t.reload().then((function(){return t}))}function jl(t,n,r,i,o){if(!Sr())return Ce(new x("operation-not-supported-in-this-environment"));if(t.f&&!o)return Ce(t.f);var a=Hi(r.providerId),s=Or(t.uid+":::"),u=null;(!Pr()||mr())&&t.o&&r.isOAuthProvider&&(u=pu(t.o,t.l,t.m,n,r,null,s,e.SDK_VERSION||null,null,null,t.tenantId));var c=lr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Fl(t),!o)return t.I().then((function(){}))})).then((function(){return Lc(t.i,c,n,r,s,!!u,t.tenantId)})).then((function(){return new we((function(e,r){t.ma(n,null,new x("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=s,t.c=Bc(t.i,t,n,c,s)}))})).then((function(t){return c&&cr(c),t?Kr(t):null})).s((function(t){throw c&&cr(c),t})),$l(t,i,o)}function Ul(t,e,n,r,i){if(!Sr())return Ce(new x("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ce(t.f);var o=null,a=Or(t.uid+":::");return r=r().then((function(){if(Fl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,xl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(ql,t.w(),e.a)),e})).then((function(){return Rc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return Hl(t.ha);throw o})).then((function(){if(o)throw o})),$l(t,r,i)}function Fl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new x("internal-error");throw new x("auth-domain-config-required")}}function $l(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ce(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new il("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){G(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),bl(t),b(t.ic,t))),n||e}))}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ka]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new pl(e,n,t);return t.providerData&&$(t.providerData,(function(t){t&&Al(r,Kr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Vl(t){this.a=t,this.b=Xu()}Xc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[Jc],delete n[Yc],pt(n,t),e.g(n)}))},k(Qc,x),el.prototype.rb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:No(t.a)}),Qs(e,Cs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:No(t.a)}),Qs(e,As,n)}))}(this,t,e)},k(nl,el),k(rl,nl),k(il,We),(t=ol.prototype).xc=function(t){al(this,function(t){var e=[];return $(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Ol(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qs(r,Ys,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return al(e,r),Ol(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:V(this.b,(function(t){return t.w()}))}}},sl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=xn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return jr()||!t?Se():new we((function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ul.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:cl(this)}},ul.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ce(new x("user-token-expired")):t||!this.b||_()>cl(this)-3e4?this.a?hl(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(pl,yn),pl.prototype.wa=function(t){this.pa=t,Qa(this.a,t)},pl.prototype.ka=function(){return this.pa},pl.prototype.Ga=function(){return Z(this.X)},pl.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(pl.prototype,"providerId","firebase"),(t=pl.prototype).reload=function(){var t=this;return $l(this,Sl(this).then((function(){return Ll(t).then((function(){return xl(t)})).then(Tl)})))},t.nc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return $l(this,Sl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new x("internal-error");return t.accessToken!=e.ya&&(kl(e,t.accessToken),e.dispatchEvent(new il("tokenChanged"))),Ml(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new x("internal-error");Il(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,(function(t){return new dl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);Ml(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{gd:t}))},t.Kc=function(t){return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return $l(this,t.c(this.a,this.uid).then((function(t){return Ol(e,t),n=Bl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return $l(this,Rl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Bl(e,t,"link"),Dl(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return $l(this,Rl(this,"phone").then((function(){return Kc(bl(n),t,e,b(n.pb,n))})))},t.Lc=function(t,e){var n=this;return $l(this,Se().then((function(){return Kc(bl(n),t,e,b(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Ol(e,t),e.reload()})))},t.dd=function(t){var e=this;return $l(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ol(e,t),e.reload()})))},t.Bb=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Ol(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Sl(this);var e=this;return $l(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ol(e,t),Ml(e,"displayName",t.displayName||null),Ml(e,"photoURL",t.photoUrl||null),$(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),xl(e)})).then(Tl))},t.bd=function(t){var e=this;return $l(this,Ll(this).then((function(n){return H(Cl(e),t)?function(t,e,n){return Qs(t,Is,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return $(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),$(Cl(e),(function(t){n[t]||Pl(e,t)})),n[Lo.PROVIDER_ID]||Gr(e,"phoneNumber",null),xl(e)})):xl(e).then((function(){throw new x("no-such-provider")}))})))},t.delete=function(){var t=this;return $l(this,this.I().then((function(e){return Qs(t.a,Es,{idToken:e})})).then((function(){t.dispatchEvent(new il("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ml(t,null),vl(t,null),yl(t,null),t.G=[],t.A=!0,_l(t),Gr(t,"refreshToken",null),t.i&&Pc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?b(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?b(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):null},t.Dc=function(t){var e=this;return jl(this,"linkViaPopup",t,(function(){return Rl(e,t.providerId).then((function(){return xl(e)}))}),!1)},t.Mc=function(t){return jl(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Ec=function(t){var e=this;return Ul(this,"linkViaRedirect",t,(function(){return Rl(e,t.providerId)}),!1)},t.Nc=function(t){return Ul(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,this.I().then((function(n){return gs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Bl(i,t,"link"),Dl(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,Se().then((function(){return ao(ys(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Bl(i,t,"reauthenticate"),Ol(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return $l(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Bi(new Ti(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return $l(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Bi(new Ti(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return $l(this,t=ao(Se(t),n.uid).then((function(t){return e=Bl(n,t,"reauthenticate"),Ol(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),$(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.N.w()),t};var ql={name:"redirectUser",D:"session"};function Hl(t){return Qu(t.b,ql,t.a)}function Gl(t){this.a=t,this.b=Xu(),this.c=null,this.f=function(t){var e=Zl("local"),n=Zl("session"),r=Zl("none");return function(t,e,n){var r=Yu(e,n),i=Ju(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Kl,t.a).then((function(t){return t?Zl(t):e}))}))}))})).then((function(e){return t.c=e,Wl(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zl("local"),this.a,b(this.g,this))}function Wl(t,e){var n,r=[];for(n in Ku)Ku[n]!==e&&r.push(Qu(t.b,Zl(Ku[n]),t.a));return r.push(Qu(t.b,Kl,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],w(o,s),a);else e(i)}))}(r)}Gl.prototype.g=function(){var t=this,e=Zl("local");Ql(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Wl(t,"local").then((function(){t.c=e}))}))}))};var Kl={name:"persistence",D:"session"};function Zl(t){return{name:"authUser",D:t}}function Xl(t,e){return Ql(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Jl(t){return Ql(t,(function(){return Qu(t.b,t.c,t.a)}))}function Yl(t,e,n){return Ql(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})}))}))}function Ql(t,e){return t.f=t.f.then(e,e),t.f}function th(t){if(this.m=!1,Gr(this,"settings",new Gc),Gr(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new x("invalid-api-key");t=e.SDK_VERSION?xr(e.SDK_VERSION):null,this.a=new Ga(ch(this).options&&ch(this).options.apiKey,A(I),t),this.R=[],this.u=[],this.P=[],this.ac=e.INTERNAL.createSubscribe(b(this.yc,this)),this.X=void 0,this.bc=e.INTERNAL.createSubscribe(b(this.zc,this)),sh(this,null),this.l=new Gl(ch(this).options.apiKey+":"+ch(this).name),this.G=new Vl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(ql,t.a).then((function(t){return t&&e&&(t.authDomain=e),zl(t||{})}))}(t.G,ch(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Hl(t.G)}));return dh(t,e)}(t).then((function(){return Yl(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Xl(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:Jl(t.l)}))):null})).then((function(e){sh(t,e||null)}));return dh(t,n)}(this)),this.i=dh(this,function(t){return t.$.then((function(){return oh(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Zl("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=b(this.Yc,this),this.Ba=b(this.da,this),this.ya=b(this.kc,this),this.za=b(this.vc,this),this.Aa=b(this.wc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Sr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Uc(e,n,ch(t).name,t.f),Ac(t.b,t),lh(t)&&El(lh(t)),t.o){El(t.o);var r=t.o;r.wa(t.ka()),ml(r,t),gl(r=t.o,t.N),yl(r,t),ts((r=t.o).a,t.f),vl(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Fc,this),this.A=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function eh(t){We.call(this,"languageCodeChanged"),this.h=t}function nh(t){We.call(this,"emulatorConfigChanged"),this.c=t}function rh(t){We.call(this,"frameworkChanged"),this.f=t}function ih(t){return t.gb||Ce(new x("auth-domain-config-required"))}function oh(t){if(!Sr())return Ce(new x("operation-not-supported-in-this-environment"));var e=ih(t).then((function(){return t.b.qa()})).then((function(t){return t?Kr(t):null}));return dh(t,e)}function ah(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new pl(t,e);return n&&(i.ha=n),r&&gl(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return lh(t)&&e.uid==lh(t).uid?(Nl(lh(t),e),t.da(e)):(sh(t,e),El(e),t.da(e))})).then((function(){fh(t)}))}function sh(t,e){lh(t)&&(function(t,e){W(t.R,(function(t){return t==e}))}(lh(t),t.Ba),cn(lh(t),"tokenChanged",t.ya),cn(lh(t),"userDeleted",t.za),cn(lh(t),"userInvalidated",t.Aa),_l(lh(t))),e&&(e.R.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.A&&wl(e)),Gr(t,"currentUser",e),e&&(e.wa(t.ka()),ml(e,t),gl(e,t.N),yl(e,t),ts(e.a,t.f),vl(e,t))}function uh(t,e){var n=null,r=null;return dh(t,e.then((function(e){return n=Ro(e),r=Gi(e),ah(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),t,b(t.jc,t))),n||e})).then((function(){return Kr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](hh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](hh(t))}}function dh(t,e){return t.R.push(e),e.na((function(){G(t.R,e)})),e}function ph(){}function mh(){this.a={},this.b=1e12}Gl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");t:{for(r in Ku)if(Ku[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(gr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Su()&&"none"!==t)throw n;break;default:if(!Tr()&&"none"!==t)throw n}}(t),Ql(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Wl(n,t)})).then((function(){if(n.c=Zl(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},k(th,yn),k(eh,We),k(nh,We),k(rh,We),(t=th.prototype).wb=function(t){return dh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Qa(this.a,this.aa),this.dispatchEvent(new eh(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Ur("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&dr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,ts(this.a,this.f),this.dispatchEvent(new nh(this.f))}},t.Fc=function(t){this.N.push(t),ns(this.a,e.SDK_VERSION?xr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new rh(this.N))},t.Ga=function(){return Z(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?b(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return uh(i,vs(i.a,o))}))},t.Wc=function(t){if(!Sr())return Ce(new x("operation-not-supported-in-this-environment"));var n=this,r=Hi(t.providerId),i=Or(),o=null;(!Pr()||mr())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=pu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S(),this.f));var a=lr(o,r&&r.ua,r&&r.ta);return dh(this,r=ih(this).then((function(e){return Lc(e,a,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new we((function(t,e){n.ma("signInViaPopup",null,new x("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Bc(n.b,n,"signInViaPopup",a,i)}))})).then((function(t){return a&&cr(a),t?Kr(t):null})).s((function(t){throw a&&cr(a),t})))},t.Xc=function(t){if(!Sr())return Ce(new x("operation-not-supported-in-this-environment"));var e=this;return dh(this,ih(this).then((function(){return function(t){return Ql(t,(function(){return t.b.set(Kl,t.c.D,t.a)}))}(e.l)})).then((function(){return Rc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return oh(this).then((function(e){return t.b&&zc(t.b.b),e})).s((function(e){throw t.b&&zc(t.b.b),e}))},t.cd=function(t){if(!t)return Ce(new x("null-user"));if(this.W!=t.tenantId)return Ce(new x("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ka]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new pl(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&gl(e,r),Nl(e,t),e}(t,n,e.G,e.Ga());return dh(this,this.i.then((function(){if(ch(e).options.apiKey!=t.l)return r.reload()})).then((function(){return lh(e)&&t.uid==lh(e).uid?(Nl(lh(e),t),e.da(t)):(sh(e,r),El(r),e.da(r))})).then((function(){fh(e)})))},t.zb=function(){var t=this;return dh(this,this.i.then((function(){return t.b&&zc(t.b.b),lh(t)?(sh(t,null),Jl(t.l).then((function(){fh(t)}))):Se()})))},t.Yc=function(){var t=this;return Yl(this.l,ch(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Nl(lh(t),e),lh(t).I();(lh(t)||e)&&(sh(t,e),e&&(El(e),e.ha=t.G),t.b&&Ac(t.b,t),fh(t))}}))},t.da=function(t){return Xl(this.l,t)},t.kc=function(){fh(this),this.da(lh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return uh(e,Se(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(lh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),dh(t,t.i.then((function(){!t.m&&H(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(hh(t)))})))}(this,(function(){t.next(lh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return dh(this,this.i.then((function(){return lh(e)?lh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return uh(e,Qs(e.a,Ws,{token:t}))})).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return uh(n,Qs(n.a,Ks,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return uh(n,Qs(n.a,ks,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return uh(e,t.ja(e.a))}))},t.Rc=function(t){return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=lh(t);if(e&&e.isAnonymous){var n=Kr({providerId:null,isNewUser:!1});return Kr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.yb()).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&lh(this)&&wl(lh(this))},t.Oc=function(t){var e=this;$(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&lh(this)&&_l(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),dh(this,this.i.then((function(){e.m||H(e.u,t)&&t(hh(e))})))},t.removeAuthTokenListener=function(t){W(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Zl("local"),t.a,this.pa),this.b&&(Pc(this.b,this),zc(this.b.b)),Promise.resolve()},t.gc=function(t){return dh(this,function(t,e){return Qs(t,xs,{identifier:e,continueUri:Cr()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Ao(t)},t.vb=function(t,e){var n=this;return dh(this,Se().then((function(){var t=new Ti(e);if(!t.c)throw new x("argument-error",Ai+" must be true when sending sign in link to email");return Bi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return dh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return dh(this,this.a.Qa(t).then((function(t){return new ri(t)})))},t.ib=function(t){return dh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return dh(this,Se().then((function(){return void 0===e||ht(e)?{}:Bi(new Ti(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return dh(this,Kc(this,t,e,b(this.Za,this)))},t.Uc=function(t,e){var n=this;return dh(this,Se().then((function(){var r=e||ar(),i=Co(t,r);if(!(r=Ao(r)))throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new x("tenant-id-mismatch");return n.Za(i)})))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var vh=null;function gh(t,e){return(e=yh(e))&&t.a[e]||null}function yh(t){return(t=void 0===t?1e12:t)?t.toString():null}function bh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=oe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function kh(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new bh(t,e),this.b++},mh.prototype.reset=function(t){var e=gh(this,t);t=yh(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=gh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=gh(this,t))&&t.execute()},bh.prototype.getResponse=function(){return wh(this),this.b},bh.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},bh.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Gr(_h,"FACTOR_ID","phone"),kh.prototype.g=function(){return vh||(vh=new mh),Se(vh)},kh.prototype.c=function(){};var xh=null;function Eh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ih=new vt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Th=new Dr(3e4,6e4);Eh.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new x("network-request-failed"))}),Th.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete s[e.a]},Se(Ua(xt(Ih,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Eh.prototype.c=function(){this.b--};var Sh=null;function Ch(t,e,n,r,i,o,a){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(xh||(xh=new kh),a=xh):(Sh||(Sh=new Eh),a=Sh),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mh])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nh],!s.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oe(e)||!this.i&&oe(e).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ga(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ah];this.a[Ah]=function(t){if(Lh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ir(c,s);"function"==typeof e&&e(t)}};var l=this.a[Ph];this.a[Ph]=function(){if(Lh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ir(l,s);"function"==typeof t&&t()}}}var Ah="callback",Ph="expired-callback",Mh="sitekey",Nh="size";function Lh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Oh(t,e){return t.h.push(e),e.na((function(){G(t.h,e)})),e}function Rh(t){if(t.A)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(t,n,r){var i=!1;try{this.b=r||e.app()}catch(t){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=e.SDK_VERSION?xr(e.SDK_VERSION,a):null,Ch.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),a,A(I),i)}function Dh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=jh.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new x("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Oh(this,Se().then((function(){if(Cr()&&!vr())return dr();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Qs(t.o,Bs,{})})).then((function(e){t.a[Mh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Rh(this);var t=this;return Oh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=oe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ie&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',$t(a.name),'"'),a.type){o.push(' type="',$t(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=fe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):se(o,a)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Rh(this);var t=this;return Oh(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Rh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Rh(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=oe(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},k(Bh,Ch);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Fh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function $h(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function zh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Vh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function qh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Hh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Gh(t){return p(t)&&"string"==typeof t.uid}function Wh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Kh(t,e){for(var n in e){var r=e[n].name;t[r]=Jh(r,t[n],e[n].j)}}function Zh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Dh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Xh(t,e,n,r){t[e]=Jh(e,n,r)}function Jh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Dh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Kh(th.prototype,{ib:{name:"applyActionCode",j:[Uh("code")]},Qa:{name:"checkActionCode",j:[Uh("code")]},mb:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Wh($h(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Wh($h(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Uh("email"),Wh($h("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Uh("email"),$h("actionCodeSettings")]},wb:{name:"setPersistence",j:[Uh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[qh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[qh()]},Sc:{name:"signInWithCustomToken",j:[Uh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Uc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Wh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof pl)}},Vh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Uh("url")]},hd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Zh(th.prototype,{lc:{name:"languageCode",jb:Wh(Uh(),Vh(),"languageCode")},ti:{name:"tenantId",jb:Wh(Uh(),Vh(),"tenantId")}}),th.Persistence=Ku,th.Persistence.LOCAL="local",th.Persistence.SESSION="session",th.Persistence.NONE="none",Kh(pl.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[qh()]},pb:{name:"linkWithCredential",j:[qh()]},Cc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qh()]},sb:{name:"reauthenticateWithCredential",j:[qh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Wh($h("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},bd:{name:"unlink",j:[Uh("provider")]},Ab:{name:"updateEmail",j:[Uh("email")]},Bb:{name:"updatePassword",j:[Uh("password")]},dd:{name:"updatePhoneNumber",j:[qh("phone")]},Cb:{name:"updateProfile",j:[$h("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Wh($h("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]}}),Kh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(we.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Zh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Fh("appVerificationDisabledForTesting")}}),Kh(Wc.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Xh(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,To,Mo,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Wh(Uh(),$h(),"json")]),Xh(So,"credential",(function(t,e){return new Io(t,e)}),[Uh("email"),Uh("password")]),Kh(Io.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(go.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(go,"credential",yo,[Wh(Uh(),$h(),"token")]),Xh(So,"credentialWithLink",Co,[Uh("email"),Uh("emailLink")]),Kh(bo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(bo,"credential",wo,[Wh(Uh(),$h(),"token")]),Kh(_o.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(_o,"credential",ko,[Wh(Uh(),Wh($h(),Vh()),"idToken"),Wh(Uh(),Vh(),"accessToken",!0)]),Kh(xo.prototype,{Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Xh(xo,"credential",Eo,[Wh(Uh(),$h(),"token"),Uh("secret",!0)]),Kh(vo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Wh(Uh(),Wh($h(),Vh()),"optionsOrIdToken"),Wh(Uh(),Vh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),Kh(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(so.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(Lo,"credential",Oo,[Uh("verificationId"),Uh("verificationCode")]),Kh(Lo.prototype,{eb:{name:"verifyPhoneNumber",j:[Wh(Uh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Hh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hh(t.session,io)&&Gh(t.multiFactorHint):t.session&&t.multiFactorUid?Hh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Kh(Po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(x.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(Vo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(zo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(Qc.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(Xc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Kh(ol.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Uh("displayName",!0)]},ad:{name:"unenroll",j:[Wh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Gh},Uh(),"multiFactorInfoIdentifier")]}}),Kh(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xh(gi,"parseLink",Ii,[Uh("link")]),Xh(_h,"assertion",(function(t){return new rl(t)}),[qh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:th,AuthCredential:oo,Error:x};Xh(t,"EmailAuthProvider",So,[]),Xh(t,"FacebookAuthProvider",go,[]),Xh(t,"GithubAuthProvider",bo,[]),Xh(t,"GoogleAuthProvider",_o,[]),Xh(t,"TwitterAuthProvider",xo,[]),Xh(t,"OAuthProvider",vo,[Uh("providerId")]),Xh(t,"SAMLAuthProvider",mo,[Uh("providerId")]),Xh(t,"PhoneAuthProvider",Lo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof th)}}]),Xh(t,"RecaptchaVerifier",Bh,[Wh(Uh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),$h("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Xh(t,"ActionCodeURL",gi,[]),Xh(t,"PhoneMultiFactorGenerator",_h,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new th(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.mc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.15.0"),e.INTERNAL.extendNamespace({User:pl})}()}).apply(void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var he=function(t,e){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var fe=function(){return(fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function de(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function me(t){return this instanceof me?(this.v=t,this):new me(t)}var ve=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}he(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return fe},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},__decorate:function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},__exportStar:function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},__values:de,__read:pe,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pe(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:me,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{!function(t){t.value instanceof me?Promise.resolve(t.value.v).then(u,c):l(o[0][2],t)}(i[t](e))}catch(t){l(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:me(t[r](e)),done:"return"===r}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=de(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}});function ge(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var ye=ge(ae),be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},we=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return ve.__extends(e,t),e}(Error);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _e=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return ve.__awaiter(this,void 0,void 0,(function(){var t;return ve.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return ve.__awaiter(this,void 0,void 0,(function(){return ve.__generator(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return ve.__awaiter(this,void 0,void 0,(function(){var t,e;return ve.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ke(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var xe=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return ke(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?ke(t,(function(t){return e.decode(t)})):t},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ee=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new xe,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new _e(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return ve.__awaiter(this,void 0,void 0,(function(){var r,i;return ve.__generator(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return ve.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return ve.__generator(this,(function(p){switch(p.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new we("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Ie(c,this.postJSON(r,i,o)),l,Ie(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new we("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!be[s])return new we("internal","internal");r=be[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new we(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new we("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new we("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function Ie(t,e){return ve.__awaiter(this,void 0,void 0,(function(){var n;return ve.__generator(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
!function(t,e){var n={Functions:Ee};t.INTERNAL.registerComponent(new Kt.Component("functions",(function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new Ee(r,i,o,n,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(ye.default,fetch.bind(self)),ye.default.registerVersion("@firebase/functions","0.5.1");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Te=function(t,e){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Se=function(){return(Se=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ce(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Pe(t){return this instanceof Pe?(this.v=t,this):new Pe(t)}var Me=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}Te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return Se},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},__decorate:function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},__exportStar:function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},__values:Ce,__read:Ae,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ae(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:Pe,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{!function(t){t.value instanceof Pe?Promise.resolve(t.value.v).then(u,c):l(o[0][2],t)}(i[t](e))}catch(t){l(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:Pe(t[r](e)),done:"return"===r}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=Ce(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}),Ne=function(t,e){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Le(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oe,Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Be=Be||{},De=Re||self;function je(){}function Ue(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Fe(t){var e=Ue(t);return"array"==e||"object"==e&&"number"==typeof t.length}function $e(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ze="closure_uid_"+(1e9*Math.random()>>>0),Ve=0;function qe(t,e,n){return t.call.apply(t.bind,arguments)}function He(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ge(t,e,n){return(Ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:He).apply(null,arguments)}function We(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var Ke=Date.now;function Ze(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Xe(){this.j=this.j,this.i=this.i}Xe.prototype.j=!1,Xe.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,ze)&&t[ze]||(t[ze]=++Ve)})(this)},Xe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Je=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ye=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Qe(t){return Array.prototype.concat.apply([],arguments)}function tn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function en(t){return/^[\s\xa0]*$/.test(t)}var nn,rn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function on(t,e){return-1!=t.indexOf(e)}function an(t,e){return t<e?-1:t>e?1:0}t:{var sn=De.navigator;if(sn){var un=sn.userAgent;if(un){nn=un;break t}}nn=""}function cn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ln(t){var e={};for(var n in t)e[n]=t[n];return e}var hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<hn.length;o++)n=hn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dn(t){return dn[" "](t),t}dn[" "]=je;var pn,mn,vn=on(nn,"Opera"),gn=on(nn,"Trident")||on(nn,"MSIE"),yn=on(nn,"Edge"),bn=yn||gn,wn=on(nn,"Gecko")&&!(on(nn.toLowerCase(),"webkit")&&!on(nn,"Edge"))&&!(on(nn,"Trident")||on(nn,"MSIE"))&&!on(nn,"Edge"),_n=on(nn.toLowerCase(),"webkit")&&!on(nn,"Edge");function kn(){var t=De.document;return t?t.documentMode:void 0}t:{var xn="",En=(mn=nn,wn?/rv:([^\);]+)(\)|;)/.exec(mn):yn?/Edge\/([\d\.]+)/.exec(mn):gn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mn):_n?/WebKit\/(\S+)/.exec(mn):vn?/(?:Version)[ \/]?(\S+)/.exec(mn):void 0);if(En&&(xn=En?En[1]:""),gn){var In=kn();if(null!=In&&In>parseFloat(xn)){pn=String(In);break t}}pn=xn}var Tn,Sn={};function Cn(t){return function(t,e){var n=Sn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=rn(String(pn)).split("."),r=rn(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=an(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||an(0==a[2].length,0==s[2].length)||an(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(De.document&&gn){var An=kn();Tn=An||(parseInt(pn,10)||void 0)}else Tn=void 0;var Pn=Tn,Mn=!gn||9<=Number(Pn),Nn=gn&&!Cn("9"),Ln=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{De.addEventListener("test",je,e),De.removeEventListener("test",je,e)}catch(t){}return t}();function On(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Rn(t,e){if(On.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(wn){t:{try{dn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Bn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}On.prototype.b=function(){this.defaultPrevented=!0},Ze(Rn,On);var Bn={2:"touch",3:"pen",4:"mouse"};Rn.prototype.b=function(){Rn.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Nn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Dn="closure_listenable_"+(1e6*Math.random()|0),jn=0;function Un(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++jn,this.Y=this.Z=!1}function Fn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function $n(t){this.src=t,this.a={},this.b=0}function zn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Je(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Fn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Vn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}$n.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Vn(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Un(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var qn="closure_lm_"+(1e6*Math.random()|0),Hn={};function Gn(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=tr(r),e&&e[Dn]?e.wa(n,r,$e(i)?!!i.capture:!!i,o):Wn(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Gn(t,e[o],n,r,i);return null}return n=tr(n),t&&t[Dn]?t.va(e,n,$e(r)?!!r.capture:!!r,i):Wn(t,e,n,!1,r,i)}function Wn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=$e(i)?!!i.capture:!!i;if(a&&!Mn)return null;var s=Yn(t);if(s||(t[qn]=s=new $n(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Jn,e=Mn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ln||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Zn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Kn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Dn])zn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Zn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yn(e))?(zn(n,t),0==n.b&&(n.src=null,e[qn]=null)):Fn(t)}}}function Zn(t){return t in Hn?Hn[t]:Hn[t]="on"+t}function Xn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Kn(t),n.call(r,e)}function Jn(t,e){if(t.Y)return!0;if(!Mn){if(!e)t:{e=["window","event"];for(var n=De,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Xn(t,e=new Rn(e,this))}return Xn(t,new Rn(e,this))}function Yn(t){return(t=t[qn])instanceof $n?t:null}var Qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(t){return"function"==Ue(t)?t:(t[Qn]||(t[Qn]=function(e){return t.handleEvent(e)}),t[Qn])}function er(){Xe.call(this),this.c=new $n(this),this.J=this,this.C=null}function nr(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&zn(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ze(er,Xe),er.prototype[Dn]=!0,(Oe=er.prototype).addEventListener=function(t,e,n,r){Gn(this,t,e,n,r)},Oe.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=$e(i)?!!i.capture:!!i,r=tr(r),e&&e[Dn]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=Vn(a=e.a[n],r,i,o))&&(Fn(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--)))):e&&(e=Yn(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Vn(n,r,i,o)),(r=-1<e?n[e]:null)&&Kn(r))}(this,t,e,n,r)},Oe.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new On(t,n);else if(t instanceof On)t.target=t.target||n;else{var i=t;fn(t=new On(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=nr(a,r,!0,t)&&i}if(i=nr(a=t.a=n,r,!0,t)&&i,i=nr(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=nr(a=t.a=e[o],r,!1,t)&&i;return i},Oe.G=function(){if(er.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Fn(n[r]);delete e.a[t],e.b--}}this.C=null},Oe.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Oe.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var rr=De.JSON.stringify;function ir(){this.b=this.a=null}var or,ar=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new ur}),(function(t){t.reset()}),100);function sr(){var t=fr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ur(){this.next=this.b=this.a=null}function cr(t){De.setTimeout((function(){throw t}),0)}function lr(t,e){or||function(){var t=De.Promise.resolve(void 0);or=function(){t.then(dr)}}(),hr||(or(),hr=!0),fr.add(t,e)}ir.prototype.add=function(t,e){var n=ar.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ur.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ur.prototype.reset=function(){this.next=this.b=this.a=null};var hr=!1,fr=new ir;function dr(){for(var t;t=sr();){try{t.a.call(t.b)}catch(t){cr(t)}var e=ar;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}hr=!1}function pr(t,e){er.call(this),this.b=t||1,this.a=e||De,this.f=Ge(this.Ya,this),this.g=Ke()}function mr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function vr(t,e,n){if("function"==Ue(t))n&&(t=Ge(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ge(t.handleEvent,t)}return 2147483647<Number(e)?-1:De.setTimeout(t,e||0)}function gr(t){t.a=vr((function(){t.a=null,t.c&&(t.c=!1,gr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ze(pr,er),(Oe=pr.prototype).aa=!1,Oe.M=null,Oe.Ya=function(){if(this.aa){var t=Ke()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(mr(this),this.start()))}},Oe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ke())},Oe.G=function(){pr.S.G.call(this),mr(this),delete this.a};var yr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:gr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(De.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Xe);function br(t){Xe.call(this),this.b=t,this.a={}}Ze(br,Xe);var wr=[];function _r(t,e,n,r){Array.isArray(n)||(n&&(wr[0]=n.toString()),n=wr);for(var i=0;i<n.length;i++){var o=Gn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function kr(t){cn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Kn(t)}),t),t.a={}}function xr(){this.a=!0}function Er(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return rr(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}br.prototype.G=function(){br.S.G.call(this),kr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xr.prototype.info=function(){};var Ir=null;function Tr(){return Ir=Ir||new er}function Sr(t){On.call(this,"serverreachability",t)}function Cr(t){var e=Tr();e.dispatchEvent(new Sr(e,t))}function Ar(t){On.call(this,"statevent",t)}function Pr(t){var e=Tr();e.dispatchEvent(new Ar(e,t))}function Mr(t){On.call(this,"timingevent",t)}function Nr(t,e){if("function"!=Ue(t))throw Error("Fn must not be null and must be a function");return De.setTimeout((function(){t()}),e)}Ze(Sr,On),Ze(Ar,On),Ze(Mr,On);var Lr={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Or={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Rr(){}function Br(t){var e;return(e=t.a)||(e=t.a={}),e}function Dr(){}Rr.prototype.a=null;var jr,Ur={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Fr(){On.call(this,"d")}function $r(){On.call(this,"c")}function zr(){}function Vr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new br(this),this.P=qr,t=bn?125:void 0,this.R=new pr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Ze(Fr,On),Ze($r,On),Ze(zr,Rr),jr=new zr;var qr=45e3,Hr={},Gr={};function Wr(t,e,n){t.H=1,t.i=mi(ci(e)),t.j=n,t.I=!0,Kr(t,null)}function Kr(t,e){t.u=Ke(),Jr(t),t.l=ci(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ci(n.b,"t",r),t.D=0,t.a=xo(t.g,t.g.C?e:null),0<t.O&&(t.F=new yr(Ge(t.Ca,t,t.a),t.O)),_r(t.J,t.a,"readystatechange",t.Wa),e=t.B?ln(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Cr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function Zr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Xr(t,n);if(i==Gr){4==e&&(t.h=4,Pr(14),r=!1),Er(t.c,t.f,null,"[Incomplete Response]");break}if(i==Hr){t.h=4,Pr(15),Er(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Er(t.c,t.f,i,null),ni(t,i)}4==e&&0==n.length&&(t.h=1,Pr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),mo(e),e.F=!0)):(Er(t.c,t.f,n,"[Invalid Chunked Response]"),ei(t),ti(t))}function Xr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Gr:(n=Number(e.substring(n,r)),isNaN(n)?Hr:(r+=1)+n>e.length?Gr:(e=e.substr(r,n),t.D=r+n,e))}function Jr(t){t.U=Ke()+t.P,Yr(t,t.P)}function Yr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Nr(Ge(t.Ua,t),e)}function Qr(t){t.o&&(De.clearTimeout(t.o),t.o=null)}function ti(t){0==t.g.v||t.A||yo(t.g,t)}function ei(t){Qr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,mr(t.R),kr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ni(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ri(n.b,t)))if(n.I=t.N,!t.C&&Ri(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;go(n),oo(n)}po(n),Pr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Nr(Ge(n.Ra,n),6e3));if(1>=Oi(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else wo(n,11)}else if((t.C||n.a==t)&&go(n),!en(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(on(l,"spdy")||on(l,"quic")||on(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Bi(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,pi(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=Ke()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ko(u,u.C?u.ga:null,u.fa),d.C){Di(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Qr(p),Jr(p)),u.a=d}else fo(u);0<n.g.length&&uo(n)}else"stop"!=i[0]&&"close"!=i[0]||wo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?wo(n,7):io(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Cr(4)}catch(t){}}function ri(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fe(t)||"string"==typeof t)Ye(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Fe(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Fe(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ii(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ii)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ai(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ai(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ai(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Oe=Vr.prototype).setTimeout=function(t){this.P=t},Oe.Wa=function(t){t=t.target;var e=this.F;e&&3==to(t)?e.f():this.Ca(t)},Oe.Ca=function(t){try{if(t==this.a)t:{var e=to(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!bn&&!this.a.$())){this.A||4!=e||7==n||Cr(8==n||0>=r?3:2),Qr(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!en(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Pr(12),ei(this),ti(this);break t}Er(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ni(this,u)}this.I?(Zr(this,e,o),bn&&this.b&&3==e&&(_r(this.J,this.R,"tick",this.Va),this.R.start())):(Er(this.c,this.f,o,null),ni(this,o)),4==e&&ei(this),this.b&&!this.A&&(4==e?yo(this.g,this):(this.b=!1,Jr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Pr(12)):(this.h=0,Pr(13)),ei(this),ti(this)}}}catch(t){}},Oe.Va=function(){if(this.a){var t=to(this.a),e=this.a.$();this.D<e.length&&(Qr(this),Zr(this,t,e),this.b&&4!=t&&Jr(this))}},Oe.cancel=function(){this.A=!0,ei(this)},Oe.Ua=function(){this.o=null;var t=Ke();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Cr(3),Pr(17)),ei(this),this.h=2,ti(this)):Yr(this,this.U-t)},(Oe=ii.prototype).K=function(){oi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Oe.L=function(){return oi(this),this.a.concat()},Oe.get=function(t,e){return ai(this.b,t)?this.b[t]:e},Oe.set=function(t,e){ai(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Oe.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var si=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ui(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ui){this.a=void 0!==e?e:t.a,li(this,t.f),this.j=t.j,hi(this,t.c),fi(this,t.h),this.g=t.g,e=t.b;var n=new Ei;n.c=e.c,e.a&&(n.a=new ii(e.a),n.b=e.b),di(this,n),this.i=t.i}else t&&(n=String(t).match(si))?(this.a=!!e,li(this,n[1]||"",!0),this.j=vi(n[2]||""),hi(this,n[3]||"",!0),fi(this,n[4]),this.g=vi(n[5]||"",!0),di(this,n[6]||"",!0),this.i=vi(n[7]||"")):(this.a=!!e,this.b=new Ei(null,this.a))}function ci(t){return new ui(t)}function li(t,e,n){t.f=n?vi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function hi(t,e,n){t.c=n?vi(e,!0):e}function fi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function di(t,e,n){e instanceof Ei?(t.b=e,function(t,e){e&&!t.f&&(Ii(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ti(this,e),Ci(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=gi(e,ki)),t.b=new Ei(e,t.a))}function pi(t,e,n){t.b.set(e,n)}function mi(t){return pi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ke()).toString(36)),t}function vi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gi(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ui.prototype.toString=function(){var t=[],e=this.f;e&&t.push(gi(e,bi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(gi(e,bi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(gi(n,"/"==n.charAt(0)?_i:wi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",gi(n,xi)),t.join("")};var bi=/[#\/\?@]/g,wi=/[#\?:]/g,_i=/[#\?]/g,ki=/[#\?@]/g,xi=/#/g;function Ei(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ii(t){t.a||(t.a=new ii,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ti(t,e){Ii(t),e=Ai(t,e),ai(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ai((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&oi(t)))}function Si(t,e){return Ii(t),e=Ai(t,e),ai(t.a.b,e)}function Ci(t,e,n){Ti(t,e),0<n.length&&(t.c=null,t.a.set(Ai(t,e),tn(n)),t.b+=n.length)}function Ai(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Pi(t,e){this.b=t,this.a=e}function Mi(t){this.g=t||Ni,De.PerformanceNavigationTiming?t=0<(t=De.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(De.ia&&De.ia.ya&&De.ia.ya()&&De.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Oe=Ei.prototype).add=function(t,e){Ii(this),this.c=null,t=Ai(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Oe.forEach=function(t,e){Ii(this),this.a.forEach((function(n,r){Ye(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Oe.L=function(){Ii(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Oe.K=function(t){Ii(this);var e=[];if("string"==typeof t)Si(this,t)&&(e=Qe(e,this.a.get(Ai(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Qe(e,t[n])}return e},Oe.set=function(t,e){return Ii(this),this.c=null,Si(this,t=Ai(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Oe.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Oe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ni=10;function Li(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Oi(t){return t.b?1:t.a?t.a.size:0}function Ri(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Bi(t,e){t.a?t.a.add(e):t.b=e}function Di(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ji(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Le(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return tn(t.c)}function Ui(){}function Fi(){this.a=new Ui}function $i(t,e,n){var r=n||"";try{ri(t,(function(t,n){var i=t;$e(t)&&(i=rr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function zi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Mi.prototype.cancel=function(){var t,e;if(this.c=ji(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Le(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ui.prototype.stringify=function(t){return De.JSON.stringify(t,void 0)},Ui.prototype.parse=function(t){return De.JSON.parse(t,void 0)};var Vi=De.JSON.parse;function qi(t){er.call(this),this.headers=new ii,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Hi,this.D=this.F=!1}Ze(qi,er);var Hi="",Gi=/^https?$/i,Wi=["POST","PUT"];function Ki(t){return"content-type"==t.toLowerCase()}function Zi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Xi(t),Yi(t)}function Xi(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ji(t){if(t.b&&void 0!==Be&&(!t.s[1]||4!=to(t)||2!=t.X()))if(t.l&&4==to(t))vr(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==to(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(si)[1]||null;if(!o&&De.self&&De.self.location){var a=De.self.location.protocol;o=a.substr(0,a.length-1)}i=!Gi.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var s=2<to(t)?t.a.statusText:""}catch(t){s=""}t.f=s+" ["+t.X()+"]",Xi(t)}}finally{Yi(t)}}}function Yi(t,e){if(t.a){Qi(t);var n=t.a,r=t.s[0]?je:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Qi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(De.clearTimeout(t.m),t.m=null)}function to(t){return t.a?t.a.readyState:0}function eo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return cn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pi(t,e,n))}function no(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ro(t){this.pa=0,this.g=[],this.c=new xr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=no("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=no("baseRetryDelayMs",5e3,t),this.Ma=no("retryDelaySeedMs",1e4,t),this.Ja=no("forwardChannelMaxRetries",2,t),this.ma=no("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Mi(t&&t.concurrentRequestLimit),this.ka=new Fi,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function io(t){if(ao(t),3==t.v){var e=t.R++,n=ci(t.B);pi(n,"SID",t.J),pi(n,"RID",e),pi(n,"TYPE","terminate"),lo(t,n),(e=new Vr(t,t.c,e,void 0)).H=2,e.i=mi(ci(n)),n=!1,De.navigator&&De.navigator.sendBeacon&&(n=De.navigator.sendBeacon(e.i.toString(),"")),!n&&De.Image&&((new Image).src=e.i,n=!0),n||(e.a=xo(e.g,null),e.a.ba(e.i)),e.u=Ke(),Jr(e)}_o(t)}function oo(t){t.a&&(mo(t),t.a.cancel(),t.a=null)}function ao(t){oo(t),t.j&&(De.clearTimeout(t.j),t.j=null),go(t),t.b.cancel(),t.h&&("number"==typeof t.h&&De.clearTimeout(t.h),t.h=null)}function so(t,e){t.g.push(new Pi(t.La++,e)),3==t.v&&uo(t)}function uo(t){Li(t.b)||t.h||(t.h=!0,lr(t.Ba,t),t.u=0)}function co(t,e){var n;n=e?e.f:t.R++;var r=ci(t.B);pi(r,"SID",t.J),pi(r,"RID",n),pi(r,"AID",t.P),lo(t,r),t.i&&t.l&&eo(r,t.i,t.l),n=new Vr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ho(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Bi(t.b,n),Wr(n,r,e)}function lo(t,e){t.f&&ri({},(function(t,n){pi(e,n,t)}))}function ho(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ge(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{$i(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fo(t){t.a||t.j||(t.U=1,lr(t.Aa,t),t.o=0)}function po(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=Nr(Ge(t.Aa,t),bo(t,t.o)),t.o++,!0)}function mo(t){null!=t.s&&(De.clearTimeout(t.s),t.s=null)}function vo(t){t.a=new Vr(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ci(t.la);pi(e,"RID","rpc"),pi(e,"SID",t.J),pi(e,"CI",t.H?"0":"1"),pi(e,"AID",t.P),lo(t,e),pi(e,"TYPE","xmlhttp"),t.i&&t.l&&eo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=mi(ci(e)),n.j=null,n.I=!0,Kr(n,t)}function go(t){null!=t.m&&(De.clearTimeout(t.m),t.m=null)}function yo(t,e){var n=null;if(t.a==e){go(t),mo(t),t.a=null;var r=2}else{if(!Ri(t.b,e))return;n=e.s,Di(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ke()-e.u;var i=t.u;(r=Tr()).dispatchEvent(new Mr(r,n,e,i)),uo(t)}else fo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Oi(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=Nr(Ge(t.Ba,t,e),bo(t,t.u)),t.u++,!0))}(t,e)||2==r&&po(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}function bo(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function wo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ge(t.Xa,t);n||(n=new ui("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||li(n,"https"),mi(n)),function(t,e){var n=new xr;if(De.Image){var r=new Image;r.onload=We(zi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=We(zi,n,r,"TestLoadImage: error",!1,e),r.onabort=We(zi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=We(zi,n,r,"TestLoadImage: timeout",!1,e),De.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Pr(2);t.v=0,t.f&&t.f.ra(e),_o(t),ao(t)}function _o(t){t.v=0,t.I=-1,t.f&&(0==ji(t.b).length&&0==t.g.length||(t.b.c.length=0,tn(t.g),t.g.length=0),t.f.qa())}function ko(t,e,n){var r=function(t){return t instanceof ui?ci(t):new ui(t,void 0)}(n);if(""!=r.c)e&&hi(r,e+"."+r.c),fi(r,r.h);else{var i=De.location;r=function(t,e,n,r){var i=new ui(null,void 0);return t&&li(i,t),e&&hi(i,e),n&&fi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&cn(t.W,(function(t,e){pi(r,e,t)})),e=t.A,n=t.na,e&&n&&pi(r,e,n),pi(r,"VER",t.ha),lo(t,r),r}function xo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qi(t.Ka)).F=t.C,e}function Eo(){}function Io(){if(gn&&!(10<=Number(Pn)))throw Error("Environmental error: no available transport.")}function To(t,e){er.call(this),this.a=new ro(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!en(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!en(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Ao(this)}function So(t){Fr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Co(){$r.call(this),this.status=1}function Ao(t){this.a=t}(Oe=qi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Br(this.H):Br(jr),this.a.onreadystatechange=Ge(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Zi(this,t)}t=n||"";var i=new ii(this.headers);r&&ri(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ki,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=De.FormData&&t instanceof De.FormData,!(0<=Je(Wi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Qi(this),0<this.o&&((this.D=function(t){return gn&&Cn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ge(this.xa,this)):this.m=vr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Zi(this,t)}},Oe.xa=function(){void 0!==Be&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Oe.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yi(this))},Oe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yi(this,!0)),qi.S.G.call(this)},Oe.za=function(){this.j||(this.A||this.l||this.g?Ji(this):this.Ta())},Oe.Ta=function(){Ji(this)},Oe.X=function(){try{return 2<to(this)?this.a.status:-1}catch(t){return-1}},Oe.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Oe.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vi(e)}},Oe.ua=function(){return this.h},Oe.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Oe=ro.prototype).ha=8,Oe.v=1,Oe.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Vr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?fn(r=ln(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ho(this,n,e),pi(i=ci(this.B),"RID",t),pi(i,"CVER",22),this.A&&pi(i,"X-HTTP-Session-Id",this.A),lo(this,i),this.i&&r&&eo(i,this.i,r),Bi(this.b,n),this.Ga&&pi(i,"TYPE","init"),this.da?(pi(i,"$req",e),pi(i,"SID","null"),n.V=!0,Wr(n,i,null)):Wr(n,i,e),this.v=2}}else 3==this.v&&(t?co(this,t):0==this.g.length||Li(this.b)||co(this))},Oe.Aa=function(){if(this.j=null,vo(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Nr(Ge(this.Sa,this),t)}},Oe.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,oo(this),vo(this))},Oe.Ra=function(){null!=this.m&&(this.m=null,oo(this),po(this),Pr(19))},Oe.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Pr(2)):(this.c.info("Failed to ping google.com"),Pr(1))},(Oe=Eo.prototype).ta=function(){},Oe.sa=function(){},Oe.ra=function(){},Oe.qa=function(){},Oe.Ha=function(){},Io.prototype.a=function(t,e){return new To(t,e)},Ze(To,er),(Oe=To.prototype).addEventListener=function(t,e,n,r){To.S.addEventListener.call(this,t,e,n,r)},Oe.removeEventListener=function(t,e,n,r){To.S.removeEventListener.call(this,t,e,n,r)},Oe.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Pr(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=ko(t,null,t.fa),uo(t)},Oe.close=function(){io(this.a)},Oe.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,so(this.a,e)}else this.g?((e={}).__data__=rr(t),so(this.a,e)):so(this.a,t)},Oe.G=function(){this.a.f=null,delete this.f,io(this.a),delete this.a,To.S.G.call(this)},Ze(So,Fr),Ze(Co,$r),Ze(Ao,Eo),Ao.prototype.ta=function(){this.a.dispatchEvent("a")},Ao.prototype.sa=function(t){this.a.dispatchEvent(new So(t))},Ao.prototype.ra=function(t){this.a.dispatchEvent(new Co(t))},Ao.prototype.qa=function(){this.a.dispatchEvent("b")},Io.prototype.createWebChannel=Io.prototype.a,To.prototype.send=To.prototype.Pa,To.prototype.open=To.prototype.Oa,To.prototype.close=To.prototype.close,Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,Or.COMPLETE="complete",Dr.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",er.prototype.listen=er.prototype.va,qi.prototype.listenOnce=qi.prototype.wa,qi.prototype.getLastError=qi.prototype.Qa,qi.prototype.getLastErrorCode=qi.prototype.ua,qi.prototype.getStatus=qi.prototype.X,qi.prototype.getResponseJson=qi.prototype.Na,qi.prototype.getResponseText=qi.prototype.$,qi.prototype.send=qi.prototype.ba;var Po={createWebChannelTransport:function(){return new Io},ErrorCode:Lr,EventType:Or,WebChannel:Dr,XhrIo:qi},Mo=St((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Me,r=oe,i=$t,o=Po,a=Kt;var s=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(ae),u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return n.__extends(e,t),e}(Error),l=new r.Logger("@firebase/firestore");
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return l.logLevel}function f(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(l.logLevel<=r.LogLevel.DEBUG){var o=e.map(m);l.debug.apply(l,n.__spreadArrays(["Firestore (7.24.0): "+t],o))}}function d(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(l.logLevel<=r.LogLevel.ERROR){var o=e.map(m);l.error.apply(l,n.__spreadArrays(["Firestore (7.24.0): "+t],o))}}function p(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(l.logLevel<=r.LogLevel.WARN){var o=e.map(m);l.warn.apply(l,n.__spreadArrays(["Firestore (7.24.0): "+t],o))}}function m(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function g(t,e){t||v()}function y(t,e){return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function b(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function w(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var k=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(k),E=/^[_a-zA-Z][_a-zA-Z0-9]*$/,I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return E.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(k),T=function(){function t(t){this.path=t}return t.D=function(e){return new t(x.g(e))},t.C=function(e){return new t(x.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===x.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return x.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new x(e.slice()))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function S(t,e){if(0!==e.length)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+H(e.length,"argument")+".")}function C(t,e,n){if(e.length!==n)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function A(t,e,n){if(e.length<n)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires at least "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function P(t,e,n,r){if(e.length<n||e.length>r)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+H(e.length,"argument")+".")}function M(t,e,n,r){D(t,e,q(n)+" argument",r)}function N(t,e,n,r){void 0!==r&&M(t,e,n,r)}function L(t,e,n,r){D(t,e,n+" option",r)}function O(t,e,n,r){void 0!==r&&L(t,e,n,r)}function R(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var l=s[a];if(l===r)return;o.push(U(l))}var h=U(r);throw new c(u.INVALID_ARGUMENT,"Invalid value "+h+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function B(t,e,n,r){if(!e.some((function(t){return t===r})))throw new c(u.INVALID_ARGUMENT,"Invalid value "+U(r)+" provided to function "+t+"() for its "+q(n)+" argument. Acceptable values: "+e.join(", "));return r}function D(t,e,n,r){if(!("object"===e?j(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=U(r);throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function j(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function U(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v()}function F(t,e,n){if(void 0===n)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+q(e)+" argument, but it was undefined.")}function $(t,e,n){w(e,(function(e,r){if(n.indexOf(e)<0)throw new c(u.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function z(t,e,n,r){var i=U(r);return new c(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+q(n)+" argument to be a "+e+", but it was: "+i)}function V(t,e,n){if(n<=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+q(e)+" argument to be a positive number, but it was: "+n+".")}function q(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function H(t,e){return t+" "+e+(1===t?"":"s")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function G(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var W=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=G(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function K(t,e){return t<e?-1:t>e?1:0}function Z(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function X(t){return t+"\0"}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var J=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.M,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return K(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();J.B=new J("");var Y=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(J.fromBase64String(e))}catch(e){throw new c(u.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(J.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Q(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tt(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.fromBase64String=function(t){C("Blob.fromBase64String",arguments,1),M("Blob.fromBase64String","string",1,t),tt();try{return new e(J.fromBase64String(t))}catch(t){throw new c(u.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(C("Blob.fromUint8Array",arguments,1),Q(),!(t instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,t);return new e(J.fromUint8Array(t))},e.prototype.toBase64=function(){return C("Blob.toBase64",arguments,0),tt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return C("Blob.toUint8Array",arguments,0),Q(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Y),nt=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},rt=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),it=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.G(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){w(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.m=function(){return _(this.H)},t}(),ot=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),at=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new ot(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function st(t){return null==t}function ut(t){return 0===t&&1/t==-1/0}function ct(t){return"number"==typeof t&&Number.isInteger(t)&&!ut(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var lt=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function ht(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new lt(t,e,n,r,i,o,a)}function ft(t){var e=y(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),st(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=lr(e.startAt)),e.endAt&&(n+="|ub:",n+=lr(e.endAt)),e.tt=n}return e.tt}function dt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!mr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fr(t.startAt,e.startAt)&&fr(t.endAt,e.endAt)}function pt(t){return T.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var mt,vt,gt=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=at.min()),void 0===o&&(o=at.min()),void 0===a&&(a=J.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),yt=function(t){this.count=t};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bt(t){switch(t){case u.OK:return v();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return v()}}function wt(t){if(void 0===t)return d("GRPC error has no .code"),u.UNKNOWN;switch(t){case mt.OK:return u.OK;case mt.CANCELLED:return u.CANCELLED;case mt.UNKNOWN:return u.UNKNOWN;case mt.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case mt.INTERNAL:return u.INTERNAL;case mt.UNAVAILABLE:return u.UNAVAILABLE;case mt.UNAUTHENTICATED:return u.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case mt.NOT_FOUND:return u.NOT_FOUND;case mt.ALREADY_EXISTS:return u.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return u.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case mt.ABORTED:return u.ABORTED;case mt.OUT_OF_RANGE:return u.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return u.UNIMPLEMENTED;case mt.DATA_LOSS:return u.DATA_LOSS;default:return v()}}(vt=mt||(mt={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var _t=function(){function t(t,e){this.i=t,this.root=e||xt.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,xt.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,xt.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new kt(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new kt(this.root,t,this.i,!1)},t.prototype.dt=function(){return new kt(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new kt(this.root,t,this.i,!0)},t}(),kt=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw v();if(this.right.yt())throw v();var t=this.left.Nt();if(t!==this.right.Nt())throw v();return t+(this.yt()?0:1)},t}();xt.EMPTY=null,xt.RED=!0,xt.at=!1,xt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new xt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Et=function(){function t(t){this.i=t,this.data=new _t(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new It(this.data._t())},t.prototype.ft=function(t){return new It(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),It=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),Tt=new _t(T.i);function St(){return Tt}function Ct(){return St()}var At=new _t(T.i);function Pt(){return At}var Mt=new _t(T.i),Nt=new Et(T.i);function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Nt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ot=new Et(K);function Rt(){return Ot}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bt=function(){function t(t){this.i=t?function(e,n){return t(e,n)||T.i(e.key,n.key)}:function(t,e){return T.i(t.key,e.key)},this.Ot=Pt(),this.Lt=new _t(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Dt=function(){function t(){this.qt=new _t(T.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):v():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),jt=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=a,this.Kt=s}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Bt.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Zn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ut=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Ft.Zt(e,n)),new t(at.min(),r,Rt(),St(),Lt())},t}(),Ft=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(J.B,n,Lt(),Lt(),Lt())},t}(),zt=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Vt=function(t,e){this.targetId=t,this.oe=e},qt=function(t,e,n,r){void 0===n&&(n=J.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ht=function(){function t(){this.ae=0,this.ce=Zt(),this.ue=J.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Lt(),e=Lt(),n=Lt();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}})),new Ft(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Zt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Gt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=St(),this.Ve=Wt(),this.pe=new Et(K)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof Ln?this.ve(r,t.re):t.re instanceof On&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.Se(a,t.key,t.re)}},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:v()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(pt(i))if(0===n){var o=new T(i.path);this.Se(e,o,new On(o,at.min()))}else g(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&pt(o.target)){var a=new T(o.target.path);null!==e.ye.get(a)||e.Le(i,a)||e.Se(i,a,new On(a,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Lt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ut(t,n,this.pe,this.ye,r);return this.ye=St(),this.Ve=Wt(),this.pe=new Et(K),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Ht,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new Et(K),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Ht),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wt(){return new _t(T.i)}function Zt(){return new _t(T.i)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jt(t){var e=se(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xt(t)?4:10:v()}function te(t,e){var n=Qt(t);if(n!==Qt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jt(t).isEqual(Jt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=se(t.timestampValue),r=se(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ce(t.bytesValue).isEqual(ce(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ue(t.geoPointValue.latitude)===ue(e.geoPointValue.latitude)&&ue(t.geoPointValue.longitude)===ue(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ue(t.integerValue)===ue(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ue(t.doubleValue),r=ue(e.doubleValue);return n===r?ut(n)===ut(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Z(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(b(n)!==b(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return v()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Qt(t),r=Qt(e);if(n!==r)return K(n,r);switch(n){case 0:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ue(t.integerValue||t.doubleValue),r=ue(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Jt(t),Jt(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ce(t),r=ce(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=K(n[i],r[i]);if(0!==o)return o}return K(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=K(ue(t.latitude),ue(e.latitude));return 0!==n?n:K(ue(t.longitude),ue(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return K(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=K(r[a],o[a]);if(0!==s)return s;var u=ne(n[r[a]],i[o[a]]);if(0!==u)return u}return K(r.length,o.length)}(t.mapValue,e.mapValue);default:throw v()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);var n=se(t),r=se(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=se(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ce(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,T.C(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):v();var n,r}(t)}function se(t){if(g(!!t),"string"==typeof t){var e=0,n=Yt.exec(t);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ue(t.seconds),nanos:ue(t.nanos)}}function ue(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ce(t){return"string"==typeof t?J.fromBase64String(t):J.fromUint8Array(t)}function le(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function he(t){return!!t&&"integerValue"in t}function fe(t){return!!t&&"arrayValue"in t}function de(t){return!!t&&"nullValue"in t}function pe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function me(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ve={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ye=function(t,e){this.U=t,this.Qe=e};function be(t){return{integerValue:""+t}}function we(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ut(e)?"-0":e}}function _e(t,e){return ct(e)?be(e):we(t,e)}function ke(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function xe(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Ee(t,e){return ke(t,e.Z())}function Ie(t){return g(!!t),at.J(function(t){var e=se(t);return new ot(e.seconds,e.nanos)}(t))}function Te(t,e){return function(t){return new x(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Se(t){var e=x.g(t);return g(Xe(e)),e}function Ce(t,e){return Te(t.U,e.path)}function Ae(t,e){var n=Se(e);return g(n.get(1)===t.U.projectId),g(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new T(Oe(n))}function Pe(t,e){return Te(t.U,e)}function Ne(t){var e=Se(t);return 4===e.length?x.P():Oe(e)}function Le(t){return new x(["projects",t.U.projectId,"databases",t.U.database]).R()}function Oe(t){return g(t.length>4&&"documents"===t.get(4)),t.u(5)}function Re(t,e,n){return{name:Ce(t,e),fields:n.proto.mapValue.fields}}function Be(t,e){var n;if(e instanceof _n)n={update:Re(t,e.key,e.value)};else if(e instanceof Sn)n={delete:Ce(t,e.key)};else if(e instanceof kn)n={update:Re(t,e.key,e.data),updateMask:Ze(e.We)};else if(e instanceof En)n={transform:{document:Ce(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof en)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof nn)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof on)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof sn)return{fieldPath:e.field.R(),increment:n.je};throw v()}(0,t)}))}};else{if(!(e instanceof Cn))return v();n={verify:Ce(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ee(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.Ge)),n}function De(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dn.updateTime(Ie(t.updateTime)):void 0!==t.exists?dn.exists(t.exists):dn.ze()}(e.currentDocument):dn.ze();if(e.update){e.update.name;var r=Ae(t,e.update.name),i=new An({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new ln(e.map((function(t){return I.S(t)})))}(e.updateMask);return new kn(r,i,o,n)}return new _n(r,i,n)}if(e.delete){var a=Ae(t,e.delete);return new Sn(a,n)}if(e.transform){var s=Ae(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)g("REQUEST_TIME"===e.setToServerValue),n=new en;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new nn(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new on(i)}else"increment"in e?n=new sn(t,e.increment):v();var o=I.S(e.fieldPath);return new hn(o,n)}(t,e)}));return g(!0===n.exists),new En(s,u)}if(e.verify){var c=Ae(t,e.verify);return new Cn(c,n)}return v()}function je(t,e){return{documents:[Pe(t,e.path)]}}function Ue(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pe(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(pe(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NAN"}};if(de(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pe(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NOT_NAN"}};if(de(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:He(t.field),op:qe(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:He(t.field),direction:Ve(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Qe||st(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=$e(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$e(e.endAt)),n}function Fe(t){var e=Ne(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Ke(e)]:void 0!==e.fieldFilter?[We(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):v():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new dr(Ge(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return st(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ze(n.startAt));var l=null;return n.endAt&&(l=ze(n.endAt)),Hn(Dn(e,i,s,a,u,"F",c,l))}function $e(t){return{before:t.before,values:t.position}}function ze(t){var e=!!t.before,n=t.values||[];return new cr(n,e)}function Ve(t){return ve[t]}function qe(t){return ge[t]}function He(t){return{fieldPath:t.R()}}function Ge(t){return I.S(t.fieldPath)}function We(t){return tr.create(Ge(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ke(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ge(t.unaryFilter.field);return tr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ge(t.unaryFilter.field);return tr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ge(t.unaryFilter.field);return tr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ge(t.unaryFilter.field);return tr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function Ze(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Xe(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Je=function(){this.He=void 0};function Ye(t,e,n){return t instanceof en?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof nn?rn(t,e):t instanceof on?an(t,e):function(t,e){var n=tn(t,e),r=un(n)+un(t.je);return he(n)&&he(t.je)?be(r):we(t.serializer,r)}(t,e)}function Qe(t,e,n){return t instanceof nn?rn(t,e):t instanceof on?an(t,e):n}function tn(t,e){return t instanceof sn?he(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(Je),nn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return n.__extends(e,t),e}(Je);function rn(t,e){for(var n=cn(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var on=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return n.__extends(e,t),e}(Je);function an(t,e){for(var n=cn(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return n.__extends(e,t),e}(Je);function un(t){return ue(t.integerValue||t.doubleValue)}function cn(t){return fe(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ln=function(){function t(t){this.fields=t,t.sort(I.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return Z(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),hn=function(t,e){this.field=t,this.transform=e},fn=function(t,e){this.version=t,this.transformResults=e},dn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function pn(t,e){return void 0!==t.updateTime?e instanceof Ln&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ln}var mn=function(){};function vn(t,e,n){return t instanceof _n?function(t,e,n){return new Ln(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof kn?function(t,e,n){if(!pn(t.Ge,e))return new Rn(t.key,n.version);var r=xn(t,e);return new Ln(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof En?function(t,e,n){if(g(null!=n.transformResults),!pn(t.Ge,e))return new Rn(t.key,n.version);var r=In(t,e),i=function(t,e,n){var r=[];g(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Ln&&(s=e.field(o.field)),r.push(Qe(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=Tn(t,r.data(),i);return new Ln(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new On(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function gn(t,e,n,r){return t instanceof _n?function(t,e){if(!pn(t.Ge,e))return e;var n=wn(e);return new Ln(t.key,n,t.value,{Je:!0})}(t,e):t instanceof kn?function(t,e){if(!pn(t.Ge,e))return e;var n=wn(e),r=xn(t,e);return new Ln(t.key,n,r,{Je:!0})}(t,e):t instanceof En?function(t,e,n,r){if(!pn(t.Ge,e))return e;var i=In(t,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Ln&&(c=n.field(s.field)),null===c&&r instanceof Ln&&(c=r.field(s.field)),i.push(Ye(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=Tn(t,i.data(),o);return new Ln(t.key,i.version,a,{Je:!0})}(t,e,r,n):function(t,e){return pn(t.Ge,e)?new On(t.key,at.min()):e}(t,e)}function yn(t,e){return t instanceof En?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof Ln?e.field(o.field):void 0,s=tn(o.transform,a||null);null!=s&&(n=null==n?(new Pn).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(t,e):null}function bn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||Z(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof nn&&e instanceof nn||t instanceof on&&e instanceof on?Z(t.elements,e.elements,te):t instanceof sn&&e instanceof sn?te(t.je,e.je):t instanceof en&&e instanceof en}(t.transform,e.transform)}(t,e)})))}function wn(t){return t instanceof Ln?t.version:at.min()}var _n=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return n.__extends(e,t),e}(mn),kn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return n.__extends(e,t),e}(mn);function xn(t,e){return function(t,e){var n=new Pn(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof Ln?e.data():An.empty())}var En=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=dn.exists(!0),r}return n.__extends(e,t),e}(mn);function In(t,e){return e}function Tn(t,e,n){for(var r=new Pn(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var Sn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return n.__extends(e,t),e}(mn),Cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return n.__extends(e,t),e}(mn),An=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!me(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),Pn=function(){function t(t){void 0===t&&(t=An.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Qt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(I.P(),this.tn);return null!=t?new An(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=me(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.nn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Mn(t){var e=[];return w(t.fields||{},(function(t,n){var r=new I([t]);if(me(n)){var i=Mn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new ln(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Nn=function(t,e){this.key=t,this.version=e},Ln=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return n.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Nn),On=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return n.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Nn),Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Nn),Bn=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null,this.startAt,this.endAt};function Dn(t,e,n,r,i,o,a,s){return new Bn(t,e,n,r,i,o,a,s)}function jn(t){return new Bn(t)}function Un(t){return!st(t.limit)&&"F"===t.an}function Fn(t){return!st(t.limit)&&"L"===t.an}function $n(t){return t.on.length>0?t.on[0].field:null}function zn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function Vn(t){return null!==t.collectionGroup}function qn(t){var e=y(t);if(null===e.cn){e.cn=[];var n=zn(e),r=$n(e);if(null!==n&&null===r)n.p()||e.cn.push(new dr(n)),e.cn.push(new dr(I.v(),"asc"));else{for(var i=!1,o=0,a=e.on;o<a.length;o++){var s=a[o];e.cn.push(s),s.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new dr(I.v(),u))}}}return e.cn}function Hn(t){var e=y(t);if(!e.un)if("F"===e.an)e.un=ht(e.path,e.collectionGroup,qn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=qn(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new dr(o.field,a))}var s=e.endAt?new cr(e.endAt.position,!e.endAt.before):null,u=e.startAt?new cr(e.startAt.position,!e.startAt.before):null;e.un=ht(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.un}function Gn(t,e,n){return new Bn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wn(t,e){return new Bn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Kn(t,e){return new Bn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Zn(t,e){return dt(Hn(t),Hn(e))&&t.an===e.an}function Xn(t){return ft(Hn(t))+"|lt:"+t.an}function Jn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),st(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+lr(t.startAt)),t.endAt&&(e+=", endAt: "+lr(t.endAt)),"Target("+e+")"}(Hn(t))+"; limitType="+t.an+")"}function Yn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):T.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!hr(t.startAt,qn(t),e)||t.endAt&&hr(t.endAt,qn(t),e))}(t,e)}function Qn(t){return function(e,n){for(var r=!1,i=0,o=qn(t);i<o.length;i++){var a=o[i],s=pr(a,e,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var tr=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return n.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new er(t,n,r);if(de(r)){if("=="!==n&&"!="!==n)throw new c(u.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(pe(r)){if("=="!==n&&"!="!==n)throw new c(u.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new or(t,r):"in"===n?new ar(t,r):"not-in"===n?new sr(t,r):"array-contains-any"===n?new ur(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new nr(t,n):new rr(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&Qt(this.value)===Qt(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),er=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=T.C(r.referenceValue),i}return n.__extends(e,t),e.prototype.matches=function(t){var e=T.i(t.key,this.key);return this._n(e)},e}(tr),nr=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ir("in",n),r}return n.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(tr),rr=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ir("not-in",n),r}return n.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(tr);function ir(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return T.C(t.referenceValue)}))}var or=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return n.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return fe(e)&&ee(e.arrayValue,this.value)},e}(tr),ar=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return n.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(tr),sr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return n.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(tr),ur=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return n.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!fe(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(tr),cr=function(t,e){this.position=t,this.before=e};function lr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function hr(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.p()?T.i(T.C(a.referenceValue),n.key):ne(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function fr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var dr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pr(t,e,n){var r=t.field.p()?T.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function mr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var vr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},gr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),yr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&v(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),br=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(i.getUA())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return f("SimpleDb","Removing database:",t),Ir(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=i.getUA(),n=t.On(e),r=0<n&&n<10,o=t.qn(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r=this;return n.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,n){var i=indexedDB.open(r.name,r.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){n(new _r(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var r=e.target.error;"VersionError"===r.name?n(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new _r(t,r))},i.onupgradeneeded=function(t){f("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;r.Mn.createOrUpgrade(e,i.transaction,t.oldVersion,r.version).next((function(){f("SimpleDb","Database upgrade to version "+r.version+" complete")}))}}))]);case 1:e.db=n.sent(),n.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return r.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,r,i){return n.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c;return n.__generator(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return n.__generator(this,(function(n){switch(n.label){case 0:++a,n.label=1;case 1:return n.trys.push([1,4,,5]),[4,u.Wn(t)];case 2:return u.db=n.sent(),e=xr.open(u.db,t,o?"readonly":"readwrite",r),s=i(e).catch((function(t){return e.abort(t),yr.reject(t)})).Fn(),c={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(n.sent(),s),c)];case 4:return l=n.sent(),h="FirebaseError"!==l.name&&a<3,f("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),wr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return Ir(this.zn.delete())},t}(),_r=function(t){function e(e,n){var r=this;return(r=t.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return n.__extends(e,t),e}(c);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function kr(t){return"IndexedDbTransactionError"===t.name}var xr=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new vr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new _r(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Sr(e.target.error);n.Zn.reject(new _r(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new _r(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Er(e)},t}(),Er=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ir(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),Ir(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ir(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),Ir(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),Ir(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new yr((function(n,r){e.onerror=function(t){var e=Sr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new yr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new wr(i),a=e(i.primaryKey,i.value,o);if(a instanceof yr){var s=a.catch((function(t){return o.done(),yr.reject(t)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return yr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ir(t){return new yr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Sr(t.target.error);n(e)}}))}var Tr=!1;function Sr(t){var e=br.On(i.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tr||(Tr=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cr(){return"undefined"!=typeof window?window:null}function Ar(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pr=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new vr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new c(u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Mr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new gr(this,"async_queue_retry"),this.Vs=function(){var e=Ar();e&&f("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Ar();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Ar();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return n.__awaiter(this,void 0,void 0,(function(){var t,e=this;return n.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!kr(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Pr._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&v()},t.prototype.xs=function(){},t.prototype.$s=function(){return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Nr(t,e){if(d("AsyncQueue",e+": "+t),kr(t))return new c(u.UNAVAILABLE,e+": "+t);throw t}var Lr=function(){this.Ls=void 0,this.listeners=[]},Or=function(){this.Bs=new it((function(t){return Xn(t)}),Zn),this.onlineState="Unknown",this.qs=new Set};function Rr(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s,u,c;return n.__generator(this,(function(n){switch(n.label){case 0:if(r=y(t),i=e.query,o=!1,(a=r.Bs.get(i))||(o=!0,a=new Lr),!o)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),s=a,[4,r.Us(i)];case 2:return s.Ls=n.sent(),[3,4];case 3:return u=n.sent(),c=Nr(u,"Initialization of query '"+Jn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return r.Bs.set(i,a),a.listeners.push(e),e.Qs(r.onlineState),a.Ls&&e.Ws(a.Ls)&&Ur(r),[2]}}))}))}function Br(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s;return n.__generator(this,(function(n){return r=y(t),i=e.query,o=!1,(a=r.Bs.get(i))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(r.Bs.delete(i),r.js(i))]:[2]}))}))}function Dr(t,e){for(var n=y(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.Bs.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Ws(a)&&(r=!0);u.Ls=a}}r&&Ur(n)}function jr(t,e,n){var r=y(t),i=r.Bs.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Bs.delete(e)}function Ur(t){t.qs.forEach((function(t){t.next()}))}var Fr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Xs&&n||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){if(t.docChanges.length>0)return!0;var e=this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites;return!(!t.jt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=jt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),$r=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */$r.UNAUTHENTICATED=new $r(null),$r.ei=new $r("google-credentials-uid"),$r.ni=new $r("first-party-uid");
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var zr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Vr(t,e){return"firestore_clients_"+t+"_"+e}function qr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Hr(t,e){return"firestore_targets_"+t+"_"+e}zr.ai=-1;var Gr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new c(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new c(r.error.code,r.error.message)),i?new t(e,r.state,o):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Rt(),a=0;i&&a<r.activeTargetIds.length;++a)i=ct(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xr=function(){function t(){this.activeTargetIds=Rt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new _t(K),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Vr(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Xr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return n.__awaiter(this,void 0,void 0,(function(){var t,e,r,i,o,a,s,u,c,l,h,f=this;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,this.fi.pi()];case 1:for(t=n.sent(),e=0,r=t;e<r.length;e++)(i=r[e])!==this._i&&(o=this.getItem(Vr(this.persistenceKey,i)))&&(a=Kr.ci(i,o))&&(this.Ti=this.Ti.ot(a.clientId,a));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(u=this.vi(s))&&this.Si(u),c=0,l=this.Ii;c<l.length;c++)h=l[c],this.mi(h);return this.Ii=[],this.window.addEventListener("unload",(function(){return f.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(Hr(this.persistenceKey,t));if(n){var r=Wr.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Hr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,r=t;if(r.storageArea===this.storage){if(f("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ai)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return n.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,a,s;return n.__generator(this,(function(n){if(this.Ei){if(null!==r.key)if(this.gi.test(r.key)){if(null==r.newValue)return t=this.zi(r.key),[2,this.Hi(t,null)];if(e=this.Yi(r.key,r.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(r.key)){if(null!==r.newValue&&(i=this.Ji(r.key,r.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(r.key)){if(null!==r.newValue&&(o=this.Zi(r.key,r.newValue)))return[2,this.tr(o)]}else if(r.key===this.Vi){if(null!==r.newValue&&(a=this.vi(r.newValue)))return[2,this.Si(a)]}else r.key===this.Ri&&(s=function(t){var e=zr.ai;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(r.newValue))!==zr.ai&&this.si(s)}else this.Ii.push(r);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Gr(this.currentUser,t,e,n),i=qr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=qr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){var e={clientId:this._i,onlineState:t};this.storage.setItem(this.Vi,JSON.stringify(e))},t.prototype.Wi=function(t,e,n){var r=Hr(this.persistenceKey,t),i=new Wr(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Kr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Gr.ci(new $r(i),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Wr.ci(r,e)},t.prototype.vi=function(t){return Zr.ci(t)},t.prototype.Xi=function(t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=Rt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),Yr=function(){function t(){this.ir=new Xr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Xr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Qr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=vn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=gn(i,e,e,this.ar))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=gn(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Z(this.mutations,t.mutations,(function(t,e){return bn(t,e)}))&&Z(this.baseMutations,t.baseMutations,(function(t,e){return bn(t,e)}))},t}(),ti=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){g(e.mutations.length===r.length);for(var i=Mt,o=e.mutations,a=0;a<o.length;a++)i=i.ot(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),ei=function(){function t(){this.wr=new it((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?yr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),ni="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ri=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ii=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=Ct();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=St();return i.forEach((function(t,e){e||(e=new On(t,at.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return T.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Vn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new T(e)).next((function(t){var e=Pt();return t instanceof Ln&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=Pt();return this.Dr.Qr(t,i).next((function(a){return yr.forEach(a,(function(a){var s=function(t,e){return new Bn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,a.child(i));return r.Ur(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return i=e,o.jr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=gn(u,l,l,o.ar);r=h instanceof Ln?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Yn(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Lt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof kn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Ln&&(c=c.ot(t,e))})),c}))},t}(),oi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Lt(),i=Lt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}();
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ai(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=K(n,i);return 0===a?K(r,o):a}var si=function(){function t(t){this.Hr=t,this.buffer=new Et(ai),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ai(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ui={Zr:!1,eo:0,no:0,so:0},ci=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();ci.ho=-1,ci.lo=1048576,ci._o=41943040,ci.co=10,ci.uo=1e3,ci.fo=new ci(ci._o,ci.co,ci.uo),ci.do=new ci(ci.ho,0,0);var li=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==ci.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,r=this.mo?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.To=this.cs.yn("lru_garbage_collection",r,(function(){return n.__awaiter(e,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return kr(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Mo(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),hi=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return yr.resolve(zr.ai);var r=new si(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===ci.ho?(f("LruGarbageCollector","Garbage collection skipped; disabled"),yr.resolve(ui)):this.So(t).next((function(r){return r<n.params.io?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ui):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,i,o,a,s,u,c,l=this,d=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),i=l.params.oo):i=e,a=Date.now(),l.yo(t,i)})).next((function(r){return n=r,s=Date.now(),l.po(t,n,e)})).next((function(e){return o=e,u=Date.now(),l.bo(t,n)})).next((function(t){return c=Date.now(),h()<=r.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+i+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),yr.resolve({Zr:!0,eo:i,no:o,so:t})}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function fi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=pi(e)),e=di(t.get(n),e);return pi(e)}function di(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function pi(t){return t+""}function mi(t){var e=t.length;if(g(e>=2),2===e)return g(""===t.charAt(0)&&""===t.charAt(1)),x.P();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&v(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:v()}o=a+2}return new x(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var vi=function(t){this.Co=t};function gi(t,e){if(e.document)return function(t,e,n){var r=Ae(t,e.name),i=Ie(e.updateTime),o=new An({mapValue:{fields:e.fields}});return new Ln(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=T.$(e.noDocument.path),r=ki(e.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=T.$(e.unknownDocument.path),o=ki(e.unknownDocument.version);return new Rn(i,o)}return v()}function yi(t,e,n){var r=bi(n),i=e.key.path.h().A();if(e instanceof Ln){var o=function(t,e){return{name:Ce(t,e.key),fields:e.rn().mapValue.fields,updateTime:ke(t,e.version.Z())}}(t.Co,e),a=e.hasCommittedMutations;return new Ki(null,null,o,a,r,i)}if(e instanceof On){var s=e.key.path.A(),u=_i(e.version),c=e.hasCommittedMutations;return new Ki(null,new Gi(s,u),null,c,r,i)}if(e instanceof Rn){var l=e.key.path.A(),h=_i(e.version);return new Ki(new Wi(l,h),null,null,!0,r,i)}return v()}function bi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function wi(t){var e=new ot(t[0],t[1]);return at.J(e)}function _i(t){var e=t.Z();return new $i(e.seconds,e.nanoseconds)}function ki(t){var e=new ot(t.seconds,t.nanoseconds);return at.J(e)}function xi(t,e){var n=(e.baseMutations||[]).map((function(e){return De(t.Co,e)})),r=e.mutations.map((function(e){return De(t.Co,e)})),i=ot.fromMillis(e.localWriteTimeMs);return new Qr(e.batchId,i,n,r)}function Ei(t){var e,n,r=ki(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ki(t.lastLimboFreeSnapshotVersion):at.min();return void 0!==t.query.documents?(g(1===(n=t.query).documents.length),e=Hn(jn(Ne(n.documents[0])))):e=Fe(t.query),new gt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,J.fromBase64String(t.resumeToken))}function Ii(t,e){var n,r=_i(e.nt),i=_i(e.lastLimboFreeSnapshotVersion);n=pt(e.target)?je(t.Co,e.target):Ue(t.Co,e.target);var o=e.resumeToken.toBase64();return new Xi(e.targetId,ft(e.target),r,o,e.sequenceNumber,i,n)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ti=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return g(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).rs({index:qi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=Pi(t),a=Ai(t);return a.add({}).next((function(s){g("number"==typeof s);for(var u=new Qr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Be(t.Co,e)})),i=n.mutations.map((function(e){return Be(t.Co,e)}));return new qi(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Et((function(t,e){return K(t.R(),e.R())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Hi.key(i.userId,p.key.path,s);h=h.add(p.key.path.h()),l.push(a.put(c)),l.push(o.put(m,Hi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[s]=u.keys()})),yr.$n(l).next((function(){return u}))}))},t.prototype.Oo=function(t,e){var n=this;return Ai(t).get(e).next((function(t){return t?(g(t.userId===n.userId),xi(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?yr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ai(t).rs({index:qi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r),o=xi(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ai(t).rs({index:qi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).ts(qi.userMutationsIndex,n).next((function(t){return t.map((function(t){return xi(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=Hi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Pi(t).rs({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=mi(u);if(s===n.userId&&e.path.isEqual(l))return Ai(t).get(c).next((function(t){if(!t)throw v();g(t.userId===n.userId),o.push(xi(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new Et(K),i=[];return e.forEach((function(e){var o=Hi.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Pi(t).rs({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=mi(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),yr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Hi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Et(K);return Pi(t).rs({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=mi(u);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Qo(t,s)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ai(t).get(e).next((function(t){if(null===t)throw v();g(t.userId===n.userId),r.push(xi(n.serializer,t))})))})),yr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Ci(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),yr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return yr.resolve();var r=IDBKeyRange.lowerBound(Hi.prefixForUser(e.userId)),i=[];return Pi(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=mi(t[1]);i.push(o)}else r.done()})).next((function(){g(0===i.length)}))}))},t.prototype.Ho=function(t,e){return Si(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Mi(t).get(this.userId).next((function(t){return t||new Vi(e.userId,-1,"")}))},t}();function Si(t,e,n){var r=Hi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Pi(t).rs({range:o,ss:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ci(t,e,n){var r=t.store(qi.store),i=t.store(Hi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.rs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){g(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Hi.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return yr.$n(o).next((function(){return c}))}function Ai(t){return fo.Qn(t,qi.store)}function Pi(t){return fo.Qn(t,Hi.store)}function Mi(t){return fo.Qn(t,Vi.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ni=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Ri(t).put(Bi(e),n)},t.prototype.Ar=function(t,e){var n=Ri(t),r=Bi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Ri(t).get(Bi(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Ri(t).get(Bi(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:Di(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ct();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=Ct(),i=new _t(T.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,Di(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return yr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Ri(t).rs({range:r},(function(t,e,r){for(var a=T.$(t);o&&T.i(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=Pt(),o=e.path.length+1,a={};if(n.isEqual(at.min())){var s=e.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.A(),c=bi(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ki.collectionReadTimeIndex}return Ri(t).rs(a,(function(t,n,a){if(t.length===o){var s=gi(r.serializer,n);e.path.T(s.key.path)?s instanceof Ln&&Yn(e,s)&&(i=i.ot(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new Li(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Oi(t).get(Zi.key).next((function(t){return g(!!t),t}))},t.prototype.Jo=function(t,e){return Oi(t).put(Zi.key,e)},t.prototype.Xo=function(t){if(t){var e=gi(this.serializer,t);return e instanceof On&&e.version.isEqual(at.min())?null:e}return null},t}(),Li=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new it((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return n.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new Et((function(t,e){return K(t.R(),e.R())}));return this.wr.forEach((function(o,a){var s=e.ua.get(o);if(a){var u=yi(e.ca.serializer,a,e.readTime);i=i.add(o.path.h());var c=Di(u);r+=c-s,n.push(e.ca.Er(t,o,u))}else if(r-=s,e.oa){var l=yi(e.ca.serializer,new On(o,at.min()),e.readTime);n.push(e.ca.Er(t,o,l))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),yr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(ei);function Oi(t){return fo.Qn(t,Zi.store)}function Ri(t){return fo.Qn(t,Ki.store)}function Bi(t){return t.path.A()}function Di(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ji=function(){function t(){this.ha=new Ui}return t.prototype.Mo=function(t,e){return this.ha.add(e),yr.resolve()},t.prototype.Qr=function(t,e){return yr.resolve(this.ha.getEntries(e))},t}(),Ui=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new Et(x.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Et(x.i)).A()},t}(),Fi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=10);var o=new xr("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(zi.store)}(t),function(t){t.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),t.createObjectStore(qi.store,{keyPath:qi.keyPath,autoIncrement:!0}).createIndex(qi.userMutationsIndex,qi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hi.store)}(t),to(t),function(t){t.createObjectStore(Ki.store)}(t));var a=yr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ji.store),t.deleteObjectStore(Xi.store),t.deleteObjectStore(Yi.store)}(t),to(t)),a=a.next((function(){return function(t){var e=t.store(Yi.store),n=new Yi(0,0,at.min().Z(),0);return e.put(Yi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(qi.store).ts().next((function(n){t.deleteObjectStore(qi.store),t.createObjectStore(qi.store,{keyPath:qi.keyPath,autoIncrement:!0}).createIndex(qi.userMutationsIndex,qi.userMutationsKeyPath,{unique:!0});var r=e.store(qi.store),i=n.map((function(t){return r.put(t)}));return yr.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(eo.store,{keyPath:eo.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Zi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ki.store);e.createIndex(Ki.readTimeIndex,Ki.readTimeIndexPath,{unique:!1}),e.createIndex(Ki.collectionReadTimeIndex,Ki.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ki.store).rs((function(t,n){e+=Di(n)})).next((function(){var n=new Zi(e);return t.store(Zi.store).put(Zi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Vi.store),r=t.store(qi.store);return n.ts().next((function(n){return yr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(qi.userMutationsIndex,i).next((function(r){return yr.forEach(r,(function(r){g(r.userId===n.userId);var i=xi(e.serializer,r);return Ci(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ji.store),n=t.store(Ki.store);return t.store(Yi.store).get(Yi.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new x(n),a=function(t){return[0,fi(t)]}(o);r.push(e.get(a).next((function(n){return n?yr.resolve():function(n){return e.put(new Ji(0,fi(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return yr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Qi.store,{keyPath:Qi.keyPath});var n=e.store(Qi.store),r=new Ui,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:fi(i)})}};return e.store(Ki.store).rs({ss:!0},(function(t,e){var n=new x(t);return i(n.h())})).next((function(){return e.store(Hi.store).rs({ss:!0},(function(t,e){t[0];var n=t[1],r=(t[2],mi(n));return i(r.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Xi.store);return n.rs((function(t,r){var i=Ei(r),o=Ii(e.serializer,i);return n.put(o)}))},t}(),$i=function(t,e){this.seconds=t,this.nanoseconds=e},zi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};zi.store="owner",zi.key="owner";var Vi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vi.store="mutationQueues",Vi.keyPath="userId";var qi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qi.store="mutations",qi.keyPath="batchId",qi.userMutationsIndex="userMutationsIndex",qi.userMutationsKeyPath=["userId","batchId"];var Hi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,fi(e)]},t.key=function(t,e,n){return[t,fi(e),n]},t}();Hi.store="documentMutations",Hi.PLACEHOLDER=new Hi;var Gi=function(t,e){this.path=t,this.readTime=e},Wi=function(t,e){this.path=t,this.version=e},Ki=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ki.store="remoteDocuments",Ki.readTimeIndex="readTimeIndex",Ki.readTimeIndexPath="readTime",Ki.collectionReadTimeIndex="collectionReadTimeIndex",Ki.collectionReadTimeIndexPath=["parentPath","readTime"];var Zi=function(t){this.byteSize=t};Zi.store="remoteDocumentGlobal",Zi.key="remoteDocumentGlobalKey";var Xi=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Xi.store="targets",Xi.keyPath="targetId",Xi.queryTargetsIndexName="queryTargetsIndex",Xi.queryTargetsKeyPath=["canonicalId","targetId"];var Ji=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ji.store="targetDocuments",Ji.keyPath=["targetId","path"],Ji.documentTargetsIndex="documentTargetsIndex",Ji.documentTargetsKeyPath=["path","targetId"];var Yi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yi.key="targetGlobalKey",Yi.store="targetGlobal";var Qi=function(t,e){this.collectionId=t,this.parent=e};function to(t){t.createObjectStore(Ji.store,{keyPath:Ji.keyPath}).createIndex(Ji.documentTargetsIndex,Ji.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xi.store,{keyPath:Xi.keyPath}).createIndex(Xi.queryTargetsIndexName,Xi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Yi.store)}Qi.store="collectionParents",Qi.keyPath=["collectionId","parent"];var eo=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};eo.store="clientMetadata",eo.keyPath="clientId";var no=n.__spreadArrays(n.__spreadArrays(n.__spreadArrays([Vi.store,qi.store,Hi.store,Ki.store,Xi.store,zi.store,Yi.store,Ji.store],[eo.store]),[Zi.store]),[Qi.store]),ro=function(){function t(){this.la=new Ui}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:fi(i)};return io(t).put(o)}return yr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[X(e),""],!1,!0);return io(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(mi(o.parent))}return n}))},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function io(t){return fo.Qn(t,Qi.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var oo=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),ao=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new oo(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return at.J(new ot(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return so(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return g(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return so(t).rs((function(a,s){var u=Ei(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))})).next((function(){return yr.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return so(t).rs((function(t,n){var r=Ei(n);e(r)}))},t.prototype.ma=function(t){return uo(t).get(Yi.key).next((function(t){return g(null!==t),t}))},t.prototype.Ta=function(t,e){return uo(t).put(Yi.key,e)},t.prototype.ga=function(t,e){return so(t).put(Ii(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=ft(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return so(t).rs({range:r,index:Xi.queryTargetsIndexName},(function(t,n,r){var o=Ei(n);dt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=co(t);return e.forEach((function(e){var a=fi(e.path);i.push(o.put(new Ji(n,a))),i.push(r.No.Da(t,n,e))})),yr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=co(t);return yr.forEach(e,(function(e){var o=fi(e.path);return yr.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=co(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=co(t),i=Lt();return r.rs({range:n,ss:!0},(function(t,e,n){var r=mi(t[1]),o=new T(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=fi(e.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return co(t).rs({index:Ji.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return so(t).get(e).next((function(t){return t?Ei(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function so(t){return fo.Qn(t,Xi.store)}function uo(t){return fo.Qn(t,Yi.store)}function co(t){return fo.Qn(t,Ji.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var lo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ho=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return n.__extends(e,t),e}(ri),fo=function(){function t(e,n,r,i,o,a,s,l,h,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=a,this.document=s,this.$a=h,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new vo(this,i),this.Wa=n+"main",this.serializer=new vi(l),this.ja=new br(this.Wa,10,new Fi(this.serializer)),this.Ka=new ao(this.No,this.serializer),this.Dr=new ro,this.vr=function(t,e){return new Ni(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof ho)return br.Qn(t.jo,e);throw v()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,lo);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new zr(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(r){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){return this.Ei?[2,t(r)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(r){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return null===r.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return mo(e).put(new eo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(kr(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return po(t).get(zi.key).next((function(t){return yr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return mo(t).delete(this.clientId)},t.prototype.ac=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,r,i,o,a=this;return n.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,eo.store);return n.ts().next((function(t){var e=a.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return yr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=n.sent(),this.Ga)for(r=0,i=e;r<i.length;r++)o=i[r],this.Ga.removeItem(this.hc(o.clientId));n.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?yr.resolve(!0):po(t).get(zi.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,lo);return!1}}return!(!e.networkEnabled||!e.inForeground)||mo(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return n.__awaiter(this,void 0,void 0,(function(){var t=this;return n.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[zi.store,eo.store],(function(e){var n=new ho(e,zr.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return mo(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Ti.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r=this;f("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.ja.runTransaction(t,o,no,(function(o){return i=new ho(o,r.Ma?r.Ma.next():zr.ai),"readwrite-primary"===e?r.ec(i).next((function(t){return!!t||r.nc(i)})).next((function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Qa(!1)})),new c(u.FAILED_PRECONDITION,ni);return n(i)})).next((function(t){return r.ic(i).next((function(){return t}))})):r.Ac(i).next((function(){return n(i)}))})).then((function(t){return i.br(),t}))},t.prototype.Ac=function(t){var e=this;return po(t).get(zi.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,lo)}))},t.prototype.ic=function(t){var e=new zi(this.clientId,this.allowTabSynchronization,Date.now());return po(t).put(zi.key,e)},t.Ln=function(){return br.Ln()},t.prototype.sc=function(t){var e=this,n=po(t);return n.get(zi.key).next((function(t){return e.rc(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(zi.key)):yr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(t){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function po(t){return fo.Qn(t,zi.store)}function mo(t){return fo.Qn(t,eo.store)}var vo=function(){function t(t,e){this.db=t,this.wo=new hi(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return go(t,n)},t.prototype.Na=function(t,e,n){return go(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return go(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Mi(t).os((function(r){return Si(t,r,e).next((function(t){return t&&(n=!0),yr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(a,s){if(s<=e){var u=n.Pc(t,a).next((function(e){if(!e)return o++,r.Rr(t,a).next((function(){return r.Ar(a),co(t).delete([0,fi(a.path)])}))}));i.push(u)}})).next((function(){return yr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return go(t,e)},t.prototype.gc=function(t,e){var n,r=co(t),i=zr.ai;return r.rs({index:Ji.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==zr.ai&&e(new T(mi(n)),i),i=s,n=a):i=zr.ai})).next((function(){i!==zr.ai&&e(new T(mi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function go(t,e){return co(t).put(function(t,e){return new Ji(0,fi(t.path),e)}(e,t.xa))}function yo(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var bo=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new _t(K),this.vc=new it((function(t){return ft(t)}),dt),this.Sc=at.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ii(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function wo(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=yr.resolve();return o.forEach((function(t){a=a.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,a=n.dr.get(t);g(null!==a),(!o||o.version.L(a)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)}))})),a.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function _o(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function ko(t,e){var n=y(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var a=[];e.zt.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var u=e.resumeToken;if(u.O()>0){var c=s.it(u,r).st(t.xa);i=i.ot(o,c),function(t,e,n){return g(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,c,e)&&a.push(n.Ka.ya(t,c))}}}));var s=St(),u=Lt();if(e.Yt.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof On&&c.version.isEqual(at.min())?(o.Ar(u,r),s=s.ot(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),s=s.ot(u,c)):f("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&a.push(n.persistence.No.yc(t,u))}))}))),!r.isEqual(at.min())){var c=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));a.push(c)}return yr.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,s)}))})).then((function(t){return n.bc=i,t}))}function xo(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function Eo(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?(r=i,yr.resolve(r)):n.Ka.wa(t).next((function(i){return r=new gt(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function Io(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return n.__generator(this,(function(n){switch(n.label){case 0:i=y(t),o=i.bc.get(e),a=r?"readwrite":"readwrite-primary",n.label=1;case 1:return n.trys.push([1,4,,5]),r?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:if(!kr(s=n.sent()))throw s;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}}))}))}function To(t,e,n){var r=y(t),i=at.min(),o=Lt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=y(t),i=r.vc.get(n);return void 0!==i?yr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,Hn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:at.min(),n?o:Lt())})).next((function(t){return{documents:t,Fc:o}}))}))}function So(t,e){var n=y(t),r=y(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Co(t){var e=y(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=y(t),i=St(),o=bi(n),a=Ri(e),s=IDBKeyRange.lowerBound(o,!0);return a.rs({index:Ki.readTimeIndex,range:s},(function(t,e){var n=gi(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{xc:i,readTime:wi(o)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc,r=t.readTime;return e.Sc=r,n}))}function Ao(t){return n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){return[2,(e=y(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ri(t),n=at.min();return e.rs({index:Ki.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=wi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function Mo(t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){if(t.code!==u.FAILED_PRECONDITION||t.message!==ni)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var No=function(){function t(){this.$c=new Et(Lo.kc),this.Mc=new Et(Lo.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new Lo(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new Lo(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new T(new x([])),r=new Lo(n,t),i=new Lo(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new T(new x([])),n=new Lo(e,t),r=new Lo(e,t+1),i=Lt();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new Lo(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),Lo=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return T.i(t.key,e.key)||K(t.jc,e.jc)},t.Oc=function(t,e){return K(t.jc,e.jc)||T.i(t.key,e.key)},t}(),Oo=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Ro=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t($r.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Bo=function(){function t(t){var e=this;this.Jc=null,this.currentUser=$r.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(g("string"==typeof n.accessToken),new Oo(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return g(null===t||"string"==typeof t),new $r(t)},t}(),Do=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=$r.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),jo=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Do(this.eu,this.nu))},t.prototype.Hc=function(t){t($r.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Uo=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new gr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===u.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===u.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return n.__awaiter(t,void 0,void 0,(function(){return n.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Fo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return n.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(g(void 0===e||"string"==typeof e),J.fromBase64String(e||"")):(g(void 0===e||e instanceof Uint8Array),J.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?u.UNKNOWN:wt(t.code);return new c(e,t.message||"")}(a);n=new qt(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;var l=e.documentChange;l.document,l.document.name,l.document.updateTime;var h=Ae(t,l.document.name),f=Ie(l.document.updateTime),d=new An({mapValue:{fields:l.document.fields}}),p=new Ln(h,f,d,{}),m=l.targetIds||[],y=l.removedTargetIds||[];n=new zt(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;var b=e.documentDelete;b.document;var w=Ae(t,b.document),_=b.readTime?Ie(b.readTime):at.min(),k=new On(w,_),x=b.removedTargetIds||[];n=new zt([],x,k.key,k)}else if("documentRemove"in e){e.documentRemove;var E=e.documentRemove;E.document;var I=Ae(t,E.document),T=E.removedTargetIds||[];n=new zt([],T,I,null)}else{if(!("filter"in e))return v();e.filter;var S=e.filter;S.targetId;var C=S.count||0,A=new yt(C),P=S.targetId;n=new Vt(P,A)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return at.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?at.min():e.readTime?Ie(e.readTime):at.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=Le(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=pt(r)?{documents:je(t,r)}:{query:Ue(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=xe(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=Le(this.serializer),e.removeTarget=t,this.du(e)},e}(Uo),$o=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.bu=!1,a}return n.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(g(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Ie(t.updateTime):Ie(e);n.isEqual(at.min())&&(n=Ie(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new fn(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ie(t.commitTime);return this.listener.Du(n,e)}return g(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=Le(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Be(e.serializer,t)}))};this.du(n)},e}(Uo),zo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return n.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===u.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===u.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Vo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(d(e),this.Lu=!1):f("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),qo=function(t,e,r,i,o){var a=this;this.ju=t,this.Ku=e,this.cs=r,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(t){r.ws((function(){return n.__awaiter(a,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return ta(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){switch(n.label){case 0:return(e=y(t)).Yu.add(4),[4,Go(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Ho(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Vo(r,i)};function Ho(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r;return n.__generator(this,(function(n){switch(n.label){case 0:if(!ta(t))return[3,4];e=0,r=t.Ju,n.label=1;case 1:return e<r.length?[4,(0,r[e])(!0)]:[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Go(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r;return n.__generator(this,(function(n){switch(n.label){case 0:e=0,r=t.Ju,n.label=1;case 1:return e<r.length?[4,(0,r[e])(!1)]:[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Wo(t){return n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){switch(n.label){case 0:return e=y(t),f("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Go(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Ko(t,e){var n=y(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Qo(n)?Yo(n):ma(n).uu()&&Xo(n,e))}function Zo(t,e){var n=y(t),r=ma(n);n.Hu.delete(e),r.uu()&&Jo(n,e),0===n.Hu.size&&(r.uu()?r._u():ta(n)&&n.th.set("Unknown"))}function Xo(t,e){t.eh.Ie(e.targetId),ma(t).Vu(e)}function Jo(t,e){t.eh.Ie(e),ma(t).pu(e)}function Yo(t){t.eh=new Gt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),ma(t).start(),t.th.Bu()}function Qo(t){return ta(t)&&!ma(t).cu()&&t.Hu.size>0}function ta(t){return 0===y(t).Yu.size}function ea(t){t.eh=void 0}function na(t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){return t.Hu.forEach((function(e,n){Xo(t,e)})),[2]}))}))}function ra(t,e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(n){return ea(t),Qo(t)?(t.th.Qu(e),Yo(t)):t.th.set("Unknown"),[2]}))}))}function ia(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a;return n.__generator(this,(function(s){switch(s.label){case 0:if(t.th.set("Online"),!(e instanceof qt&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a;return n.__generator(this,(function(n){switch(n.label){case 0:r=e.cause,i=0,o=e.targetIds,n.label=1;case 1:return i<o.length?(a=o[i],t.Hu.has(a)?[4,t.Gu.nh(a,r)]:[3,3]):[3,5];case 2:n.sent(),t.Hu.delete(a),t.eh.removeTarget(a),n.label=3;case 3:n.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),f("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,oa(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zt?t.eh.be(e):e instanceof Vt?t.eh.$e(e):t.eh.De(e),r.isEqual(at.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,_o(t.ju)];case 8:return o=s.sent(),r.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(J.B,n.nt)),Jo(t,e);var r=new gt(n.target,e,1,n.sequenceNumber);Xo(t,r)}})),t.Gu.sh(n)}(t,r)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,oa(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function oa(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i=this;return n.__generator(this,(function(o){switch(o.label){case 0:if(!kr(e))throw e;return t.Yu.add(1),[4,Go(t)];case 1:return o.sent(),t.th.set("Offline"),r||(r=function(){return _o(t.ju)}),t.cs.Cs((function(){return n.__awaiter(i,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,r()];case 1:return e.sent(),t.Yu.delete(1),[4,Ho(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function aa(t,e){return e().catch((function(n){return oa(t,n,e)}))}function sa(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r,i,o,a;return n.__generator(this,(function(n){switch(n.label){case 0:e=y(t),r=va(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,n.label=1;case 1:if(!function(t){return ta(t)&&t.zu.length<10}(e))return[3,7];n.label=2;case 2:return n.trys.push([2,4,,6]),[4,xo(e.ju,i)];case 3:return null===(o=n.sent())?(0===e.zu.length&&r._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=va(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return a=n.sent(),[4,oa(e,a)];case 5:return n.sent(),[3,6];case 6:return[3,1];case 7:return ua(e)&&ca(e),[2]}}))}))}function ua(t){return ta(t)&&!va(t).cu()&&t.zu.length>0}function ca(t){va(t).start()}function la(t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){return va(t).Nu(),[2]}))}))}function ha(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r,i,o;return n.__generator(this,(function(n){for(e=va(t),r=0,i=t.zu;r<i.length;r++)o=i[r],e.Su(o.mutations);return[2]}))}))}function fa(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o;return n.__generator(this,(function(n){switch(n.label){case 0:return i=t.zu.shift(),o=ti.from(i,e,r),[4,aa(t,(function(){return t.Gu.ih(o)}))];case 1:return n.sent(),[4,sa(t)];case 2:return n.sent(),[2]}}))}))}function da(t,e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(r){switch(r.label){case 0:return e&&va(t).vu?[4,function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i;return n.__generator(this,(function(n){switch(n.label){case 0:return bt(i=e.code)&&i!==u.ABORTED?(r=t.zu.shift(),va(t).lu(),[4,aa(t,(function(){return t.Gu.rh(r.batchId,e)}))]):[3,3];case 1:return n.sent(),[4,sa(t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return ua(t)&&ca(t),[2]}}))}))}function pa(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:return r=y(t),e?(r.Yu.delete(2),[4,Ho(r)]):[3,2];case 1:return n.sent(),[3,5];case 2:return e?[3,4]:(r.Yu.add(2),[4,Go(r)]);case 3:n.sent(),r.th.set("Unknown"),n.label=4;case 4:n.label=5;case 5:return[2]}}))}))}function ma(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=y(t);return r.xu(),new Fo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:na.bind(null,t),Tu:ra.bind(null,t),yu:ia.bind(null,t)}),t.Ju.push((function(r){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return r?(t.oh.lu(),Qo(t)?Yo(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),ea(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function va(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=y(t);return r.xu(),new $o(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:la.bind(null,t),Tu:da.bind(null,t),Cu:ha.bind(null,t),Du:fa.bind(null,t)}),t.Ju.push((function(r){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return r?(t.ah.lu(),[4,sa(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(f("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var ga=function(t){this.key=t},ya=function(t){this.key=t},ba=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Lt(),this.Wt=Lt(),this._h=Qn(t),this.fh=new Bt(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Dt,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,a=i,s=!1,u=Un(this.query)&&i.size===this.query.limit?i.last():null,c=Fn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof Ln?e:null;h&&(h=Yn(n.query,h)?h:null);var f=!!l&&n.Wt.has(l.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Un(this.query)||Fn(this.query))for(;a.size>this.query.limit;){var l=Un(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:a,mh:r,Eh:s,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var a=e?this.Ah():[],s=0===this.lh.size&&this.te?1:0,u=s!==this.hh;return this.hh=s,0!==o.length||u?{snapshot:new jt(this.query,t.fh,i,o,t.Wt,0===s,u,!1),Rh:a}:{Rh:a}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Dt,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Lt(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new ya(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new ga(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Lt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return jt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),wa=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_a=function(t){this.key=t,this.Vh=!1},ka=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new it((function(t){return Xn(t)}),Zn),this.Fh=new Map,this.xh=[],this.$h=new _t(T.i),this.kh=new Map,this.Mh=new No,this.Oh={},this.Lh=new Map,this.Bh=oo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function xa(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s,u;return n.__generator(this,(function(n){switch(n.label){case 0:return r=Za(t),(a=r.Nh.get(e))?(i=a.targetId,r.Sh.Oi(i),o=a.view.yh(),[3,4]):[3,1];case 1:return[4,Eo(r.ju,Hn(e))];case 2:return s=n.sent(),u=r.Sh.Oi(s.targetId),i=s.targetId,[4,Ea(r,e,i,"current"===u)];case 3:o=n.sent(),r.Uh&&Ko(r.ph,s),n.label=4;case 4:return[2,o]}}))}))}function Ea(t,e,r,i){return n.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l;return n.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,r,i){return function(t,e,r,i){return n.__awaiter(this,void 0,void 0,(function(){var o,a,s;return n.__generator(this,(function(n){switch(n.label){case 0:return(o=e.view.wh(r)).Eh?[4,To(t.ju,e.query,!1).then((function(t){var n=t.documents;return e.view.wh(n,o)}))]:[3,2];case 1:o=n.sent(),n.label=2;case 2:return a=i&&i.zt.get(e.targetId),s=e.view.yr(o,t.Uh,a),[2,(Ra(t,e.targetId,s.Rh),s.snapshot)]}}))}))}(t,e,r,i)},[4,To(t.ju,e,!0)];case 1:return o=h.sent(),a=new ba(e,o.Fc),s=a.wh(o.documents),u=Ft.Zt(r,i&&"Offline"!==t.onlineState),c=a.yr(s,t.Uh,u),Ra(t,r,c.Rh),l=new wa(e,r,a),[2,(t.Nh.set(e,l),t.Fh.has(r)?t.Fh.get(r).push(e):t.Fh.set(r,[e]),c.snapshot)]}}))}))}function Ia(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o;return n.__generator(this,(function(n){switch(n.label){case 0:return r=y(t),i=r.Nh.get(e),(o=r.Fh.get(i.targetId)).length>1?[2,(r.Fh.set(i.targetId,o.filter((function(t){return!Zn(t,e)}))),void r.Nh.delete(e))]:r.Uh?(r.Sh.Bi(i.targetId),r.Sh.Fi(i.targetId)?[3,2]:[4,Io(r.ju,i.targetId,!1).then((function(){r.Sh.Ui(i.targetId),Zo(r.ph,i.targetId),La(r,i.targetId)})).catch(Mo)]):[3,3];case 1:n.sent(),n.label=2;case 2:return[3,5];case 3:return La(r,i.targetId),[4,Io(r.ju,i.targetId,!0)];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))}function Ta(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i;return n.__generator(this,(function(n){switch(n.label){case 0:r=y(t),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,ko(r.ju,e)];case 2:return i=n.sent(),e.zt.forEach((function(t,e){var n=r.kh.get(e);n&&(g(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?n.Vh=!0:t.ne.size>0?g(n.Vh):t.se.size>0&&(g(n.Vh),n.Vh=!1))})),[4,ja(r,i,e)];case 3:return n.sent(),[3,6];case 4:return[4,Mo(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))}function Sa(t,e,n){var r=y(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=y(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&Ur(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function Ca(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return n.__generator(this,(function(n){switch(n.label){case 0:return(i=y(t)).Sh.Qi(e,"rejected",r),o=i.kh.get(e),(a=o&&o.key)?(s=(s=new _t(T.i)).ot(a,new On(a,at.min())),u=Lt().add(a),c=new Ut(at.min(),new Map,new Et(K),s,u),[4,Ta(i,c)]):[3,2];case 1:return n.sent(),i.$h=i.$h.remove(a),i.kh.delete(e),Da(i),[3,4];case 2:return[4,Io(i.ju,e,!1).then((function(){return La(i,e,r)})).catch(Mo)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}function Aa(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o;return n.__generator(this,(function(n){switch(n.label){case 0:r=y(t),i=e.batch.batchId,n.label=1;case 1:return n.trys.push([1,4,,6]),[4,wo(r.ju,e)];case 2:return o=n.sent(),Na(r,i,null),Ma(r,i),r.Sh.ki(i,"acknowledged"),[4,ja(r,o)];case 3:return n.sent(),[3,6];case 4:return[4,Mo(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))}function Pa(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o;return n.__generator(this,(function(n){switch(n.label){case 0:i=y(t),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return g(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return o=n.sent(),Na(i,e,r),Ma(i,e),i.Sh.ki(e,"rejected",r),[4,ja(i,o)];case 3:return n.sent(),[3,6];case 4:return[4,Mo(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))}function Ma(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function Na(t,e,n){var r=y(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function La(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||Oa(t,e)}))}function Oa(t,e){var n=t.$h.get(e);null!==n&&(Zo(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),Da(t))}function Ra(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ga?(t.Mh.Da(o.key,e),Ba(t,o)):o instanceof ya?(f("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||Oa(t,o.key)):v()}}function Ba(t,e){var n=e.key;t.$h.get(n)||(f("SyncEngine","New document in limbo: "+n),t.xh.push(n),Da(t))}function Da(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new _a(e)),t.$h=t.$h.ot(e,n),Ko(t.ph,new gt(Hn(jn(e.path)),n,2,zr.ai))}}function ja(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return n.__generator(this,(function(u){switch(u.label){case 0:return i=y(t),o=[],a=[],s=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,n){s.push(i.Qh(n,e,r).then((function(t){if(t){i.Uh&&i.Sh.Qi(n.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=oi.zr(n.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return n.__generator(this,(function(n){switch(n.label){case 0:r=y(t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return yr.forEach(e,(function(e){return yr.forEach(e.Kr,(function(n){return r.persistence.No.Da(t,e.targetId,n)})).next((function(){return yr.forEach(e.Gr,(function(n){return r.persistence.No.Na(t,e.targetId,n)}))}))}))}))];case 2:return n.sent(),[3,4];case 3:if(!kr(i=n.sent()))throw i;return f("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=r.bc.get(u),l=c.nt,h=c.rt(l),r.bc=r.bc.ot(u,h));return[2]}}))}))}(i.ju,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ua(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i;return n.__generator(this,(function(o){switch(o.label){case 0:return(r=y(t)).currentUser.isEqual(e)?[3,3]:(f("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a;return n.__generator(this,(function(n){switch(n.label){case 0:return r=y(t),i=r.Sr,o=r.Cc,[4,r.persistence.runTransaction("Handle user change","readonly",(function(t){var n;return r.Sr.Uo(t).next((function(a){return n=a,i=r.persistence.mc(e),o=new ii(r.Dc,i,r.persistence.Ic()),i.Uo(t)})).next((function(e){for(var r=[],i=[],a=Lt(),s=0,u=n;s<u.length;s++){var c=u[s];r.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];i.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return o.kr(t,a).next((function(t){return{jh:t,Kh:r,Gh:i}}))}))}))];case 1:return a=n.sent(),[2,(r.Sr=i,r.Cc=o,r.Vc.Nc(r.Cc),a)]}}))}))}(r.ju,e)]);case 1:return i=o.sent(),r.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(r),r.Sh.ji(e,i.Kh,i.Gh),[4,ja(r,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Fa(t,e){var n=y(t),r=n.kh.get(e);if(r&&r.Vh)return Lt().add(r.key);var i=Lt(),o=n.Fh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Nh.get(u);i=i.kt(c.view.dh)}return i}function $a(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,To((r=y(t)).ju,e.query,!0)];case 1:return i=n.sent(),o=e.view.Ph(i),[2,(r.Uh&&Ra(r,e.targetId,o.Rh),o)]}}))}))}function za(t,e,r,i){return n.__awaiter(this,void 0,void 0,(function(){var o,a;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,function(t,e){var n=y(t),r=y(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):yr.resolve(null)}))}))}((o=y(t)).ju,e)];case 1:return null===(a=n.sent())?[3,6]:"pending"!==r?[3,3]:[4,sa(o.ph)];case 2:return n.sent(),[3,4];case 3:"acknowledged"===r||"rejected"===r?(Na(o,e,i||null),Ma(o,e),function(t,e){y(y(t).Sr).Ko(e)}(o.ju,e)):v(),n.label=4;case 4:return[4,ja(o,a)];case 5:return n.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),n.label=7;case 7:return[2]}}))}))}function Va(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return n.__generator(this,(function(n){switch(n.label){case 0:return Za(r=y(t)),Xa(r),!0!==e||!0===r.qh?[3,3]:(i=r.Sh.Ci(),[4,qa(r,i.A())]);case 1:return o=n.sent(),r.qh=!0,[4,pa(r.ph,!0)];case 2:for(n.sent(),a=0,s=o;a<s.length;a++)u=s[a],Ko(r.ph,u);return[3,7];case 3:return!1!==e||!1===r.qh?[3,7]:(c=[],l=Promise.resolve(),r.Fh.forEach((function(t,e){r.Sh.qi(e)?c.push(e):l=l.then((function(){return La(r,e),Io(r.ju,e,!0)})),Zo(r.ph,e)})),[4,l]);case 4:return n.sent(),[4,qa(r,c)];case 5:return n.sent(),function(t){var e=y(t);e.kh.forEach((function(t,n){Zo(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new _t(T.i)}(r),r.qh=!1,[4,pa(r.ph,!1)];case 6:n.sent(),n.label=7;case 7:return[2]}}))}))}function qa(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d,p,m,v;return n.__generator(this,(function(n){switch(n.label){case 0:r=y(t),i=[],o=[],a=0,s=e,n.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=r.Fh.get(u))&&0!==l.length?[4,Eo(r.ju,Hn(l[0]))]:[3,7]):[3,13];case 2:c=n.sent(),h=0,f=l,n.label=3;case 3:return h<f.length?(d=f[h],p=r.Nh.get(d),[4,$a(r,p)]):[3,6];case 4:(m=n.sent()).snapshot&&o.push(m.snapshot),n.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,So(r.ju,u)];case 8:return v=n.sent(),[4,Eo(r.ju,v)];case 9:return c=n.sent(),[4,Ea(r,Ha(v),u,!1)];case 10:n.sent(),n.label=11;case 11:i.push(c),n.label=12;case 12:return a++,[3,1];case 13:return[2,(r.Ch.yu(o),i)]}}))}))}function Ha(t){return Dn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ga(t){var e=y(t);return y(y(e.ju).persistence).pi()}function Wa(t,e,r,i){return n.__awaiter(this,void 0,void 0,(function(){var o,a,s;return n.__generator(this,(function(n){switch(n.label){case 0:return(o=y(t)).qh?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(r){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Co(o.ju)];case 3:return a=n.sent(),s=Ut.Xt(e,"current"===r),[4,ja(o,a,s)];case 4:return n.sent(),[3,8];case 5:return[4,Io(o.ju,e,!0)];case 6:return n.sent(),La(o,e,i),[3,8];case 7:v(),n.label=8;case 8:return[2]}}))}))}function Ka(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,d,p;return n.__generator(this,(function(m){switch(m.label){case 0:if(!(i=Za(t)).qh)return[3,10];o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],i.Fh.has(s)?(f("SyncEngine","Adding an already active target "+s),[3,5]):[4,So(i.ju,s)]):[3,6];case 2:return u=m.sent(),[4,Eo(i.ju,u)];case 3:return c=m.sent(),[4,Ea(i,Ha(u),c.targetId,!1)];case 4:m.sent(),Ko(i.ph,c),m.label=5;case 5:return o++,[3,1];case 6:l=function(t){return n.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,Io(i.ju,t,!1).then((function(){Zo(i.ph,t),La(i,t)})).catch(Mo)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=r,m.label=7;case 7:return h<d.length?(p=d[h],[5,l(p)]):[3,10];case 8:m.sent(),m.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Za(t){var e=y(t);return e.ph.Gu.sh=Ta.bind(null,e),e.ph.Gu.qe=Fa.bind(null,e),e.ph.Gu.nh=Ca.bind(null,e),e.Ch.yu=Dr.bind(null,e.bh),e.Ch.Wh=jr.bind(null,e.bh),e}function Xa(t){var e=y(t);return e.ph.Gu.ih=Aa.bind(null,e),e.ph.Gu.rh=Pa.bind(null,e),e}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ja=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,i){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(at.min())?this.Hh(t,e):this.zh.kr(t,i).next((function(a){var s=o.Yh(e,a);return(Un(e)||Fn(e))&&o.Eh(e.an,s,i,n)?o.Hh(t,e):(h()<=r.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jn(e)),o.zh.Lr(t,e,n).next((function(t){return s.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new Et(Qn(t));return e.forEach((function(e,r){r instanceof Ln&&Yn(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return h()<=r.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",Jn(e)),this.zh.Lr(t,e,at.min())},t}(),Ya=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new Et(Lo.kc)}return t.prototype.$o=function(t){return yr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var o=new Qr(i,e,n,r);this.Sr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Xh=this.Xh.add(new Lo(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return yr.resolve(o)},t.prototype.Oo=function(t,e){return yr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=e+1,r=this.tl(n),i=r<0?0:r;return yr.resolve(this.Sr.length>i?this.Sr[i]:null)},t.prototype.qo=function(){return yr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return yr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new Lo(e,0),i=new Lo(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),yr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new Et(K);return e.forEach((function(t){var e=new Lo(t,0),i=new Lo(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),yr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;T.F(i)||(i=i.child(""));var o=new Lo(new T(i),0),a=new Et(K);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(a=a.add(t.jc)),!0)}),o),yr.resolve(this.el(a))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;g(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return yr.forEach(e.mutations,(function(i){var o=new Lo(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new Lo(e,0),r=this.Xh.$t(n);return yr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return this.Sr.length,yr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Qa=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new _t(T.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:a,readTime:n}),this.size+=a-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return yr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ct();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),yr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=Pt(),i=new T(e.path.child("")),o=this.docs.ft(i);o.At();){var a=o.It(),s=a.key,u=a.value,c=u.ta,l=u.readTime;if(!e.path.T(s.path))break;l.L(n)<=0||c instanceof Ln&&Yn(e,c)&&(r=r.ot(c.key,c))}return yr.resolve(r)},t.prototype.il=function(t,e){return yr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new ts(this)},t.prototype.aa=function(t){return yr.resolve(this.size)},t}(),ts=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return n.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),yr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(ei),es=function(){function t(t){this.persistence=t,this.rl=new it((function(t){return ft(t)}),dt),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.ol=0,this.al=new No,this.targetCount=0,this.cl=oo.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),yr.resolve()},t.prototype.Ea=function(t){return yr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return yr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),yr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),yr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new oo(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,yr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),yr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,yr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(t,s.targetId)),i++)})),yr.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return yr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return yr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),yr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),yr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),yr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return yr.resolve(n)},t.prototype.Ho=function(t,e){return yr.resolve(this.al.Ho(e))},t}(),ns=function(){function t(t){var e=this;this.ul={},this.Ma=new zr(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new es(this),this.Dr=new ji,this.vr=function(t,n){return new Qa(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Ya(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new rs(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return yr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),rs=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return n.__extends(e,t),e}(ri),is=function(){function t(t){this.persistence=t,this.dl=new No,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw v()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),yr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),yr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),yr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return yr.forEach(this.Tl,(function(r){var i=T.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return yr.kn([function(){return yr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),os=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),as={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ss=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return n.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,a){var s=new o.XhrIo;s.listenOnce(o.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case o.ErrorCode.NO_ERROR:var e=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case o.ErrorCode.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),a(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case o.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var l=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(u).indexOf(e)>=0?e:u.UNKNOWN}(r.status);a(new c(l,r.message))}else a(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new c(u.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var l=JSON.stringify(r);s.send(e,"POST",l,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=o.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(a.initMessageHeaders,e),i.isMobileCordova()||i.isReactNative()||i.isElectron()||i.isIE()||i.isUWP()||i.isBrowserExtension()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");f("Connection","Creating WebChannel: "+s,a);var l=r.createWebChannel(s,a),h=!1,d=!1,m=new os({Il:function(t){d?f("Connection","Not sending because WebChannel is closed:",t):(h||(f("Connection","Opening WebChannel transport."),l.open(),h=!0),f("Connection","WebChannel sending:",t),l.send(t))},Al:function(){return l.close()}}),v=function(t,e){l.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(o.WebChannel.EventType.OPEN,(function(){d||f("Connection","WebChannel transport opened.")})),v(o.WebChannel.EventType.CLOSE,(function(){d||(d=!0,f("Connection","WebChannel transport closed"),m.Vl())})),v(o.WebChannel.EventType.ERROR,(function(t){d||(d=!0,p("Connection","WebChannel transport errored:",t),m.Vl(new c(u.UNAVAILABLE,"The operation could not be completed")))})),v(o.WebChannel.EventType.MESSAGE,(function(t){var e;if(!d){var n=t.data[0];g(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=mt[t];if(void 0!==e)return wt(e)}(o),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),d=!0,m.Vl(new c(a,s)),l.close()}else f("Connection","WebChannel received:",n),m.pl(n)}})),setTimeout((function(){m.yl()}),0),m},e}(function(){function t(t){this.bl=t,this.U=t.U;var e=t.ssl?"https":"http";this.vl=e+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);f("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return f("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){var n=as[t];return this.vl+"/v1/"+e+":"+n},t}()),us=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),cs=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ls(t){return new ye(t,!0)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hs="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",fs=function(){function t(){}return t.prototype.initialize=function(t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Ja,r=t.Wl,new bo(e,n,r);var e,n,r},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new c(u.FAILED_PRECONDITION,hs);return new ns(is.ml)},t.prototype.Ll=function(t){return new Yr},t.prototype.terminate=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new c(u.FAILED_PRECONDITION,hs)},t}(),ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.initialize=function(e){return n.__awaiter(this,void 0,void 0,(function(){var r,i=this;return n.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),r=this.Kl.fi,this.Sh instanceof Jr?(this.Sh.fi={er:za.bind(null,r),nr:Wa.bind(null,r),sr:Ka.bind(null,r),pi:Ga.bind(null,r)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return n.__awaiter(i,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return[4,Va(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Cr();if(!Jr.Ln(e))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yo(t.bl.U,t.bl.persistenceKey);return new Jr(e,t.cs,n,t.clientId,t.Wl)}return new Yr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return n.__extends(e,t),e.prototype.initialize=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ao(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Xa(this.Kl.fi)];case 4:return n.sent(),[4,sa(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){var e=this.persistence.No.wo;return new li(e,t.cs)},e.prototype.Bl=function(t){var e=yo(t.bl.U,t.bl.persistenceKey),n=ls(t.bl.U);return new fo(t.persistenceSettings.synchronizeTabs,e,t.clientId,ci.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Cr(),Ar(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Yr},e.prototype.clearPersistence=function(t,e){return function(t){return n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){switch(n.label){case 0:return br.Ln()?(e=t+"main",[4,br.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yo(t,e))},e}(fs)),ps=function(){function t(){}return t.prototype.initialize=function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r=this;return n.__generator(this,(function(n){switch(n.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return Sa(r.fi,t,1)},this.ph.Gu.Jl=Ua.bind(null,this.fi),[4,pa(this.ph,this.fi.Uh)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new Or},t.prototype.Gl=function(t){var e,n=ls(t.bl.U),r=(e=t.bl,new ss(e));return function(t,e,n){return new zo(t,e,n)}(t.credentials,r,n)},t.prototype.zl=function(t){var e,n,r,i,o,a=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return Sa(a.fi,t,0)},o=us.Ln()?new us:new cs,new qo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,a){var s=new ka(t,e,n,r,i,o);return a&&(s.qh=!0),s}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Wo(this.ph)},t}(),ms=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),vs=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new c(u.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+H(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(M("FieldPath","string",e,t[e]),0===t[e].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new I(t)},gs=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return n.__extends(e,t),e.documentId=function(){return new e(I.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(vs),ys=new RegExp("[~\\*/\\[\\]]"),bs=function(t){this.e_=t},ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw 1===t.s_?t.i_(this.e_+"() can only appear at the top level of your update data"):t.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(bs);function _s(t,e,n){return new Ls({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.n_=function(t){return new hn(t.path,new en)},e.prototype.isEqual=function(t){return t instanceof e},e}(bs),xs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return n.__extends(e,t),e.prototype.n_=function(t){var e=_s(this,t,!0),n=this.a_.map((function(t){return Us(t,e)})),r=new nn(n);return new hn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(bs),Es=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return n.__extends(e,t),e.prototype.n_=function(t){var e=_s(this,t,!0),n=this.a_.map((function(t){return Us(t,e)})),r=new on(n);return new hn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(bs),Is=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return n.__extends(e,t),e.prototype.n_=function(t){var e=new sn(t.serializer,_e(t.serializer,this.c_));return new hn(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(bs),Ts=function(){function t(t,e){if(C("GeoPoint",arguments,2),M("GeoPoint","number",1,t),M("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return K(this.u_,t.u_)||K(this.h_,t.h_)},t}(),Ss=function(t){this.l_=t},Cs=/^__.*__$/,As=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Ps=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return null!==this.We?n.push(new kn(t,this.data,this.We,e)):n.push(new _n(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new En(t,this.fieldTransforms)),n},t}(),Ms=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new kn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new En(t,this.fieldTransforms)),n},t}();function Ns(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Ls=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Hs(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ns(this.s_)&&Cs.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Os=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||ls(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new Ls({s_:t,methodName:e,r_:n,path:I.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Rs(t,e,n,r,i,o){void 0===o&&(o={});var a=t.P_(o.merge||o.mergeFields?2:0,e,n,i);zs("Data must be an object, but it was:",a,r);var s,l,h=Fs(r,a);if(o.merge)s=new ln(a.We),l=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var m=p[d],g=void 0;if(m instanceof vs)g=m.t_;else{if("string"!=typeof m)throw v();g=qs(e,m,n)}if(!a.contains(g))throw new c(u.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");Gs(f,g)||f.push(g)}s=new ln(f),l=a.fieldTransforms.filter((function(t){return s.Ye(t.field)}))}else s=null,l=a.fieldTransforms;return new Ps(new An(h),s,l)}function Bs(t,e,n,r){var i=t.P_(1,e,n);zs("Data must be an object, but it was:",i,r);var o=[],a=new Pn;w(r,(function(t,r){var s=qs(e,t,n),u=i.A_(s);if(r instanceof ws||r instanceof Ss&&r.l_ instanceof ws)o.push(s);else{var c=Us(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new ln(o);return new Ms(a.Xe(),s,i.fieldTransforms)}function Ds(t,e,n,r,i,o){var a=t.P_(1,e,n),s=[Vs(e,r,n)],l=[i];if(o.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<o.length;h+=2)s.push(Vs(e,o[h])),l.push(o[h+1]);for(var f=[],d=new Pn,p=s.length-1;p>=0;--p)if(!Gs(f,s[p])){var m=s[p],v=l[p],g=a.A_(m);if(v instanceof ws||v instanceof Ss&&v.l_ instanceof ws)f.push(m);else{var y=Us(v,g);null!=y&&(f.push(m),d.set(m,y))}}var b=new ln(f);return new Ms(d.Xe(),b,a.fieldTransforms)}function js(t,e,n,r){return void 0===r&&(r=!1),Us(n,t.P_(r?4:3,e))}function Us(t,e){if(t instanceof Ss&&(t=t.l_),$s(t))return zs("Unsupported field value:",e,t),Fs(t,e);if(t instanceof bs)return function(t,e){if(!Ns(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Us(o[i],e.R_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _e(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ot.fromDate(t);return{timestampValue:ke(e.serializer,n)}}if(t instanceof ot){var r=new ot(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ke(e.serializer,r)}}if(t instanceof Ts)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Y)return{bytesValue:xe(e.serializer,t.q)};if(t instanceof As){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Te(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+U(t))}(t,e)}function Fs(t,e){var n={};return _(t)?e.path&&e.path.length>0&&e.We.push(e.path):w(t,(function(t,r){var i=Us(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function $s(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Ts||t instanceof Y||t instanceof As||t instanceof bs)}function zs(t,e,n){if(!$s(n)||!j(n)){var r=U(n);throw"an object"===r?e.i_(t+" a custom object"):e.i_(t+" "+r)}}function Vs(t,e,n){if(e instanceof vs)return e.t_;if("string"==typeof e)return qs(t,e);throw Hs("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function qs(t,e,r){try{return function(t){if(t.search(ys)>=0)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(gs.bind.apply(gs,n.__spreadArrays([void 0],t.split("."))))}catch(e){throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Hs((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,r)}var i}function Hs(t,e,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+t+l)}function Gs(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ws=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r=this;return n.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s,u;return n.__generator(this,(function(n){switch(n.label){case 0:return r=y(t),i=Le(r.serializer)+"/documents",o={documents:e.map((function(t){return Ce(r.serializer,t)}))},[4,r.ku("BatchGetDocuments",i,o)];case 1:return a=n.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){g(!!e.found),e.found.name,e.found.updateTime;var n=Ae(t,e.found.name),r=Ie(e.found.updateTime),i=new An({mapValue:{fields:e.found.fields}});return new Ln(n,r,i,{})}(t,e):"missing"in e?function(t,e){g(!!e.missing),g(!!e.readTime);var n=Ae(t,e.missing),r=Ie(e.readTime);return new On(n,r)}(t,e):v()}(r.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());g(!!e),u.push(e)})),u)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof On||t instanceof Ln?r.D_(t):v()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new Sn(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return n.__awaiter(this,void 0,void 0,(function(){var t,e=this;return n.__generator(this,(function(r){switch(r.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=T.D(n);e.mutations.push(new Cn(r,e.Ge(r)))})),[4,function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o;return n.__generator(this,(function(n){switch(n.label){case 0:return r=y(t),i=Le(r.serializer)+"/documents",o={writes:e.map((function(t){return Be(r.serializer,t)}))},[4,r.$u("Commit",i,o)];case 1:return n.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return r.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof Ln)e=t.version;else{if(!(t instanceof On))throw v();e=at.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?dn.updateTime(e):dn.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(at.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(e)}return dn.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Ks=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new gr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return n.__awaiter(t,void 0,void 0,(function(){var t,e,r=this;return n.__generator(this,(function(n){return t=new Ws(this.Ku),(e=this.x_(t))&&e.then((function(e){r.cs.ws((function(){return t.commit().then((function(){r.ls.resolve(e)})).catch((function(t){r.k_(t)}))}))})).catch((function(t){r.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!st(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!bt(e)}return!1},t}(),Zs=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=W.k(),this.O_=new vr}return t.prototype.start=function(t,e,r,i){var o=this;this.L_(),this.bl=t;var a=new vr,s=!1;return this.credentials.Hc((function(t){if(!s)return s=!0,f("FirestoreClient","Initializing. user=",t.uid),o.B_(e,r,i,t,a).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i;return n.__generator(this,(function(n){switch(n.label){case 0:return(r=y(t)).cs.xs(),f("RemoteStore","RemoteStore received new credentials"),i=ta(r),r.Yu.add(3),[4,Go(r)];case 1:return n.sent(),i&&r.th.set("Unknown"),[4,r.Gu.Jl(e)];case 2:return n.sent(),r.Yu.delete(3),[4,Ho(r)];case 3:return n.sent(),[2]}}))}))}(o.ph,t)}))})),this.cs.ws((function(){return o.O_.promise})),a.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=y(t);return e.Yu.delete(0),Ho(e)}(t.ph)}))},t.prototype.B_=function(t,e,r,i,o){return n.__awaiter(this,void 0,void 0,(function(){var a,s,u=this;return n.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),a={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:r},[4,t.initialize(a)];case 1:return c.sent(),[4,e.initialize(t,a)];case 2:return c.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=xa.bind(null,this.fi),this.q_.js=Ia.bind(null,this.fi),this.persistence.Za((function(){return n.__awaiter(u,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=c.sent(),o.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new fs,new ps,{jl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===u.FAILED_PRECONDITION||t.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){switch(n.label){case 0:return(e=y(t)).Yu.add(0),[4,Go(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new vr;return this.cs.bs((function(){return n.__awaiter(t,void 0,void 0,(function(){var t,r;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Wo(this.ph)];case 1:return n.sent(),[4,this.Sh.Di()];case 2:return n.sent(),[4,this.persistence.Di()];case 3:return n.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=n.sent(),r=Nr(t,"Failed to shutdown persistence"),e.reject(r),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new vr;return this.cs.ws((function(){return function(t,e){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,s;return n.__generator(this,(function(n){switch(n.label){case 0:ta((r=y(t)).ph)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,function(t){var e=y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(r.ju)];case 2:return-1===(i=n.sent())?[2,void e.resolve()]:((o=r.Lh.get(i)||[]).push(e),r.Lh.set(i,o),[3,4]);case 3:return a=n.sent(),s=Nr(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new ms(n),o=new Fr(t,i,e);return this.cs.ws((function(){return Rr(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Br(r.q_,o)}))}},t.prototype.Q_=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r=this;return n.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new vr,[2,(this.cs.ws((function(){return function(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=n.sent())instanceof Ln?r.resolve(i):i instanceof On?r.resolve(null):r.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=n.sent(),a=Nr(o,"Failed to get document '"+e+" from cache"),r.reject(a),[3,3];case 3:return[2]}}))}))}(r.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),n.__awaiter(this,void 0,void 0,(function(){var r,i=this;return n.__generator(this,(function(n){switch(n.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return n.sent(),r=new vr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ms({next:function(o){e.ws((function(){return Br(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Fr(jn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Rr(t,a)}(i.q_,i.cs,t,e,r)})),r.promise)]}}))}))},t.prototype.j_=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r=this;return n.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new vr,[2,(this.cs.ws((function(){return function(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,To(t,e,!0)];case 1:return i=n.sent(),o=new ba(e,i.Fc),a=o.wh(i.documents),s=o.yr(a,!1),r.resolve(s.snapshot),[3,3];case 2:return u=n.sent(),c=Nr(u,"Failed to execute query '"+e+" against cache"),r.reject(c),[3,3];case 3:return[2]}}))}))}(r.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),n.__awaiter(this,void 0,void 0,(function(){var r,i=this;return n.__generator(this,(function(n){switch(n.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return n.sent(),r=new vr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ms({next:function(n){e.ws((function(){return Br(t,a)})),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Fr(n,o,{includeMetadataChanges:!0,Xs:!0});return Rr(t,a)}(i.q_,i.cs,t,e,r)})),r.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var r=new vr;return this.cs.ws((function(){return function(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return n.__generator(this,(function(n){switch(n.label){case 0:i=Xa(t),n.label=1;case 1:return n.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=ot.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Lt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=yn(c,n.get(c.key));null!=l&&a.push(new kn(c.key,l,Mn(l.proto.mapValue),dn.exists(!0)))}return r.Sr.ko(t,i,a,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return o=n.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new _t(K)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,r),[4,ja(i,o.wr)];case 3:return n.sent(),[4,sa(i.ph)];case 4:return n.sent(),[3,6];case 5:return a=n.sent(),s=Nr(a,"Failed to persist write"),r.reject(s),[3,6];case 6:return[2]}}))}))}(e.fi,t,r)})),r.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var r=new ms(t);return this.cs.ws((function(){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,function(t,e){y(t).qs.add(e),e.next()}(this.q_,r)]}))}))})),function(){r.Zl(),e.cs.ws((function(){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,function(t,e){y(t).qs.delete(e)}(this.q_,r)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new vr;return this.cs.ws((function(){return new Ks(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Js=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(Qt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(ce(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw v()}},t.prototype.if=function(t){var e=this,n={};return w(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new Ts(ue(t.latitude),ue(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Xt(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Jt(t));default:return null}},t.prototype.Z_=function(t){var e=se(t),n=new ot(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=x.g(t);g(Xe(e));var n=new rt(e.get(1),e.get(3)),r=new T(e.u(5));return n.isEqual(this.U)||d("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Ys=ci.ho,Qs=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else L("settings","non-empty string","host",t.host),this.host=t.host,O("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if($("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),O("settings","object","credentials",t.credentials),this.credentials=t.credentials,O("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),O("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?d("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&d("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,O("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ci._o;else{if(t.cacheSizeBytes!==Ys&&t.cacheSizeBytes<ci.lo)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ci.lo);this.cacheSizeBytes=t.cacheSizeBytes}O("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,O("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new c(u.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),tu=function(){function t(e,r,i,o){var a=this;if(void 0===i&&(i=new fs),void 0===o&&(o=new ps),this.rf=i,this.af=o,this.cf=null,this.uf=new Mr,this.INTERNAL={delete:function(){return n.__awaiter(a,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.cf=s,this.__=t._f(s),this.ff=s.name,this.df=new Bo(r)}else{var l=e;if(!l.projectId)throw new c(u.INVALID_ARGUMENT,"Must provide projectId");this.__=new rt(l.projectId,l.database),this.ff="[DEFAULT]",this.df=new Ro}this.wf=new Qs({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Os(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){C("Firestore.settings",arguments,1),M("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new Qs(t);if(this.lf&&!this.wf.isEqual(e))throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Ro;switch(t.type){case"gapi":var e=t.client;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new jo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&d("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new c(u.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return n.__awaiter(this,void 0,void 0,(function(){var t,e=this;return n.__generator(this,(function(r){if(void 0!==this.lf&&!this.lf.z_)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new vr,[2,(this.uf.bs((function(){return n.__awaiter(e,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.hf(),Xs(t))return this.lf.G_(t);M("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.lf.G_(e)},t.prototype.hf=function(){return this.lf||this.Ef(new fs,new ps,{jl:!1}),this.lf},t.prototype.Af=function(){return new nt(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new Zs(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new c(u.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return C("Firestore.collection",arguments,1),M("Firestore.collection","non-empty string",1,t),this.hf(),new mu(x.g(t),this,null)},t.prototype.doc=function(t){return C("Firestore.doc",arguments,1),M("Firestore.doc","non-empty string",1,t),this.hf(),ru.Rf(x.g(t),this,null)},t.prototype.collectionGroup=function(t){if(C("Firestore.collectionGroup",arguments,1),M("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new du(function(t){return new Bn(x.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return C("Firestore.runTransaction",arguments,1),M("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new eu(e,n))}))},t.prototype.batch=function(){return this.hf(),new nu(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case r.LogLevel.DEBUG:return"debug";case r.LogLevel.ERROR:return"error";case r.LogLevel.SILENT:return"silent";case r.LogLevel.WARN:return"warn";case r.LogLevel.INFO:return"info";case r.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;C("Firestore.setLogLevel",arguments,1),B("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,l.setLogLevel(e)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),eu=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;C("Transaction.get",arguments,1);var n=bu("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return v();var r=t[0];if(r instanceof On)return new ou(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Ln)return new ou(e.yf,n.f_,r,!1,!1,n.d_);throw v()}))},t.prototype.set=function(t,e,n){P("Transaction.set",arguments,2,3);var r=bu("Transaction.set",t,this.yf);n=vu("Transaction.set",n);var i=_u(r.d_,e,n),o=Rs(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof gs?(A("Transaction.update",arguments,3),r=bu("Transaction.update",t,this.yf),i=Ds(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(C("Transaction.update",arguments,2),r=bu("Transaction.update",t,this.yf),i=Bs(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){C("Transaction.delete",arguments,1);var e=bu("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),nu=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){P("WriteBatch.set",arguments,2,3),this.vf();var r=bu("WriteBatch.set",t,this.yf);n=vu("WriteBatch.set",n);var i=_u(r.d_,e,n),o=Rs(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,dn.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.vf(),"string"==typeof e||e instanceof gs?(A("WriteBatch.update",arguments,3),r=bu("WriteBatch.update",t,this.yf),i=Ds(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(C("WriteBatch.update",arguments,2),r=bu("WriteBatch.update",t,this.yf),i=Bs(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,dn.exists(!0))),this},t.prototype.delete=function(t){C("WriteBatch.delete",arguments,1),this.vf();var e=bu("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new Sn(e.f_,dn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ru=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return n.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new T(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new mu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(C("DocumentReference.collection",arguments,1),M("DocumentReference.collection","non-empty string",1,t),!t)throw new c(u.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=x.g(t);return new mu(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){P("DocumentReference.set",arguments,1,2),e=vu("DocumentReference.set",e);var n=_u(this.d_,t,e),r=Rs(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,dn.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof gs?(A("DocumentReference.update",arguments,2),n=Ds(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(C("DocumentReference.update",arguments,1),n=Bs(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,dn.exists(!0)))},e.prototype.delete=function(){return C("DocumentReference.delete",arguments,0),this.lf.write([new Sn(this.f_,dn.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Xs(i[s])||($("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),O("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(Xs(i[s])){var c=i[s];i[s]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[s+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else M("DocumentReference.onSnapshot","function",s,i[s]),N("DocumentReference.onSnapshot","function",s+1,i[s+1]),N("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(t){i[s]&&i[s](r.Sf(t))},error:i[s+1],complete:i[s+2]};return this.lf.listen(jn(this.f_.path),u,l)},e.prototype.get=function(t){var e=this;P("DocumentReference.get",arguments,0,1),yu("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new ou(e.firestore,e.f_,t,!0,t instanceof Ln&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new ou(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(As),iu=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ou=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(P("DocumentSnapshot.data",arguments,0,1),t=gu("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new au(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Js(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new ru(t,e.yf,null)}),(function(t){return new et(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(P("DocumentSnapshot.get",arguments,1,2),e=gu("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Vs("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Js(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new ru(t,n.yf,n.d_)}),(function(t){return new et(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ru(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new iu(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(ou);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function su(t,e,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){lu(a,o);for(var l=[],h=0,f=a;h<f.length;h++){var d=f[h];l.push(cu(r,t,d))}s={arrayValue:{values:l}}}else s=cu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||lu(a,o),s=js(n,e,a,"in"===o||"not-in"===o);var p=tr.create(i,o,s);return function(t,e){if(e.hn()){var n=zn(t);if(null!==n&&!n.isEqual(e.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=$n(t);null!==r&&hu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,p),p}function uu(t,e,n){if(null!==t.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dr(e,n);return function(t,e){if(null===$n(t)){var n=zn(t);null!==n&&hu(t,n,e.field)}}(t,r),r}function cu(t,e,n){if("string"==typeof n){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vn(e)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(x.g(n));if(!T.F(r))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return le(t,new T(r))}if(n instanceof As)return le(t,n.f_);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+U(n)+".")}function lu(t,e){if(!Array.isArray(t)||0===t.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function hu(t,e,n){if(!n.isEqual(e))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function fu(t){if(Fn(t)&&0===t.on.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var du=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){C("Query.where",arguments,3),F("Query.where",3,r);var i=B("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Vs("Query.where",e),a=su(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Bn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,a),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(P("Query.orderBy",arguments,1,2),N("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new c(u.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Vs("Query.orderBy",e),o=uu(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new Bn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.limit=function(e){return C("Query.limit",arguments,1),M("Query.limit","number",1,e),V("Query.limit",1,e),new t(Gn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return C("Query.limitToLast",arguments,1),M("Query.limitToLast","number",1,e),V("Query.limitToLast",1,e),new t(Gn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Wn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Wn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Kn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Kn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&Zn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,r,i){if(F(t,1,e),e instanceof ou)return C(t,n.__spreadArrays([e],r),1),function(t,e,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=qn(t);a<s.length;a++){var l=s[a];if(l.field.p())o.push(le(e,r.key));else{var h=r.field(l.field);if(Xt(h))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var f=l.field.R();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(h)}}return new cr(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(r);return function(t,e,n,r,i,o){var a=t.on;if(i.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<i.length;l++){var h=i[l];if(a[l].field.p()){if("string"!=typeof h)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof h);if(!Vn(t)&&-1!==h.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+h+"' contains a slash.");var f=t.path.child(x.g(h));if(!T.F(f))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new T(f);s.push(le(e,d))}else{var p=js(n,r,h);s.push(p)}}return new cr(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||Xs(i[s])||($("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),O("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),Xs(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else M("Query.onSnapshot","function",s,i[s]),N("Query.onSnapshot","function",s+1,i[s+1]),N("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(t){i[s]&&i[s](new pu(r.firestore,r.Ff,t,r.d_))},error:i[s+1],complete:i[s+2]};return fu(this.Ff),this.firestore.hf().listen(this.Ff,a,c)},t.prototype.get=function(t){var e=this;P("Query.get",arguments,0,1),yu("Query.get",t),fu(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new pu(e.firestore,e.Ff,t,e.d_)}))},t}(),pu=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new iu(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;P("QuerySnapshot.forEach",arguments,1,2),M("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new du(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&($("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),O("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Wt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:wu(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Zn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new au(this.yf,t.key,t,e,n,this.d_)},t}(),mu=function(t){function e(e,n,r){var i=this;if((i=t.call(this,jn(e),n,r)||this).Bf=e,e.length%2!=1)throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return n.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new ru(new T(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=W.k()),M("CollectionReference.doc","non-empty string",1,t);var e=x.g(t);return ru.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){C("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;M("CollectionReference.add","object",1,e);var n=this.doc();return new ru(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(du);function vu(t,e){if(void 0===e)return{merge:!1};if($(t,e,["merge","mergeFields"]),O(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+U(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+U(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof gs}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function gu(t,e){return void 0===e?{}:($(t,e,["serverTimestamps"]),R(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function yu(t,e){N(t,"object",1,e),e&&($(t,e,["source"]),R(t,0,"source",e.source,["default","server","cache"]))}function bu(t,e,n){if(e instanceof As){if(e.firestore!==n)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function wu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function _u(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.serverTimestamp=function(){S("FieldValue.serverTimestamp",arguments);var t=new ks("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){S("FieldValue.delete",arguments);var t=new ws("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A("FieldValue.arrayUnion",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("arrayUnion()",arguments,1),new xs("arrayUnion",t)}.apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A("FieldValue.arrayRemove",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("arrayRemove()",arguments,1),new Es("arrayRemove",t)}.apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){M("FieldValue.increment","number",1,t),C("FieldValue.increment",arguments,1);var n=function(t){return new Is("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(Ss),xu={Firestore:tu,GeoPoint:Ts,Timestamp:ot,Blob:et,Transaction:eu,WriteBatch:nu,DocumentReference:ru,DocumentSnapshot:ou,Query:du,QueryDocumentSnapshot:au,QuerySnapshot:pu,CollectionReference:mu,FieldPath:gs,FieldValue:ku,setLogLevel:tu.setLogLevel,CACHE_SIZE_UNLIMITED:Ys};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Eu(t){!function(t,e){t.INTERNAL.registerComponent(new a.Component("firestore",(function(t){return function(t,e){var n=new ps,r=new ds(n);return new tu(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},xu)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}Eu(s.default),e.__PRIVATE_registerFirestore=Eu}));Tt(Mo);Mo.__PRIVATE_registerFirestore;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function No(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Lo(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Oo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ro=function(){function t(t,e){this.code_=ta(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return ta(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),Bo="unknown",Do="object-not-found",jo="quota-exceeded",Uo="unauthenticated",Fo="unauthorized",$o="retry-limit-exceeded",zo="canceled",Vo="invalid-url",qo="invalid-default-bucket",Ho="cannot-slice-blob",Go="server-file-wrong-size",Wo="no-download-url",Ko="invalid-argument",Zo="invalid-argument-count",Xo="app-deleted",Jo="invalid-root-operation",Yo="invalid-format",Qo="internal-error";function ta(t){return"storage/"+t}function ea(){return new Ro(Bo,"An unknown error occurred, please check the error payload for server response.")}function na(){return new Ro(zo,"User canceled the upload/download.")}function ra(){return new Ro(Ho,"Cannot slice blob for upload. Please retry the upload.")}function ia(){return new Ro(Wo,"The given file does not have any download URLs.")}function oa(t,e,n){return new Ro(Ko,"Invalid argument in `"+e+"` at index "+t+": "+n)}function aa(){return new Ro(Xo,"The Firebase app was deleted.")}function sa(t,e){return new Ro(Yo,"String does not match format '"+t+"': "+e)}function ua(t){throw new Ro(Qo,"Internal error: "+t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function la(t){switch(t){case ca.RAW:case ca.BASE64:case ca.BASE64URL:case ca.DATA_URL:return;default:throw"Expected one of the event types: ["+ca.RAW+", "+ca.BASE64+", "+ca.BASE64URL+", "+ca.DATA_URL+"]."}}var ha=function(t,e){this.data=t,this.contentType=e||null};function fa(t,e){switch(t){case ca.RAW:return new ha(da(e));case ca.BASE64:case ca.BASE64URL:return new ha(pa(t,e));case ca.DATA_URL:return new ha((n=new ma(e)).base64?pa(ca.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw sa(ca.DATA_URL,"Malformed data URL.")}return da(e)}(n.rest),function(t){return new ma(t).contentType}(e))}var n;throw ea()}function da(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pa(t,e){switch(t){case ca.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw sa(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ca.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw sa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw sa(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var ma=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw sa(ca.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */};var va,ga={STATE_CHANGED:"state_changed"},ya="running",ba="pausing",wa="paused",_a="success",ka="canceling",xa="canceled",Ea="error",Ia={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ta(t){switch(t){case ya:case ba:case ka:return Ia.RUNNING;case wa:return Ia.PAUSED;case _a:return Ia.SUCCESS;case xa:return Ia.CANCELED;case Ea:default:return Ia.ERROR}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sa(t){return null!=t}function Ca(t){return void 0!==t}function Aa(t){return"function"==typeof t}function Pa(t){return"object"==typeof t}function Ma(t){return Pa(t)&&null!==t}function Na(t){return"string"==typeof t||t instanceof String}function La(t){return Oa(t)&&Number.isInteger(t)}function Oa(t){return"number"==typeof t||t instanceof Number}function Ra(t){return Ba()&&t instanceof Blob}function Ba(){return"undefined"!=typeof Blob}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(va||(va={}));
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Da=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=va.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=va.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw ua("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Sa(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Sa(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ua("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ua("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ua("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Sa(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Sa(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ja=function(){function t(){}return t.prototype.createXhrIo=function(){return new Da},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ua(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ua();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Ba())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $a=function(){function t(t,e){var n=0,r="";Ra(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Ra(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Ba()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Fa.apply(null,r))}var i=e.map((function(t){return Na(t)?fa(ca.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),za=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new Ro(qo,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(e);if(c){var l=c[u.indices.bucket],h=c[u.indices.path];h||(h=""),n=new t(l,h),u.postModify(n);break}}if(null==n)throw function(t){return new Ro(Vo,"Invalid URL '"+t+"'.")}(e);return n},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Va(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return Pa(t)&&!Array.isArray(t)}(e)?e:null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qa(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function Ha(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ga(t){return"https://firebasestorage.googleapis.com/v0"+t}function Wa(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ka(t,e){return e}var Za=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Ka},Xa=null;function Ja(){if(Xa)return Xa;var t=[];t.push(new Za("bucket")),t.push(new Za("generation")),t.push(new Za("metageneration")),t.push(new Za("name","fullPath",!0));var e=new Za("name");e.xform=function(t,e){return function(t){return!Na(t)||t.length<2?t:Ha(t)}(e)},t.push(e);var n=new Za("size");return n.xform=function(t,e){return Sa(e)?Number(e):e},t.push(n),t.push(new Za("timeCreated")),t.push(new Za("updated")),t.push(new Za("md5Hash",null,!0)),t.push(new Za("cacheControl",null,!0)),t.push(new Za("contentDisposition",null,!0)),t.push(new Za("contentEncoding",null,!0)),t.push(new Za("contentLanguage",null,!0)),t.push(new Za("contentType",null,!0)),t.push(new Za("metadata","customMetadata",!0)),Xa=t}function Ya(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new za(n,r);return e.makeStorageReference(i)}})}(r,t),r}function Qa(t,e,n){var r=Va(e);return null===r?null:Ya(t,r,n)}function ts(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function es(t){if(!Pa(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!Pa(n))throw"Expected object for 'customMetadata' mapping."}else if(Ma(n))throw"Mapping for '"+e+"' cannot be an object."}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ns(t,e,n){var r=Va(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new za(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t.makeStorageReference(new za(e,l.name));r.items.push(s)}return r}(t,e,r)}function rs(t){if(!Pa(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!La(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!Na(t.pageToken))throw"Expected pageToken to be string."}}var is=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function os(t){if(!t)throw ea()}function as(t,e){return function(n,r){var i=Qa(t,r,e);return os(null!==i),i}}function ss(t,e){return function(n,r){var i=Qa(t,r,e);return os(null!==i),function(t,e){var n=Va(e);if(null===n)return null;if(!Na(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return Ga("/b/"+i(n)+"/o/"+i(r))+Wa({alt:"media",token:e})}))[0]}(i,r)}}function us(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new Ro(Uo,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new Ro(jo,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new Ro(Fo,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function cs(t){var e=us(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new Ro(Do,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function ls(t,e,n){var r=Ga(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new is(r,"GET",as(t,n),i);return o.errorHandler=cs(e),o}function hs(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ga(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new is(a,"GET",function(t,e){return function(n,r){var i=ns(t,e,r);return os(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=us(e),u}function fs(t,e,n){var r=Ga(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new is(r,"GET",ss(t,n),i);return o.errorHandler=cs(e),o}function ds(t,e,n,r){var i=Ga(e.fullServerUrl()),o=ts(n,r),a=t.maxOperationRetryTime,s=new is(i,"PATCH",as(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=cs(e),s}function ps(t,e){var n=Ga(e.fullServerUrl()),r=t.maxOperationRetryTime;var i=new is(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=cs(e),i}function ms(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var vs=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function gs(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){os(!1)}return os(!!n&&-1!==(e||["active"]).indexOf(n)),n}function ys(t,e,n,r,i,o,a,s){var u=new vs(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Ro(Go,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw ra();var m=e.maxUploadRetryTime,v=new is(n,"POST",(function(t,n){var i,a=gs(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?as(e,o)(t,n):null,new vs(s,c,"final"===a,i)}),m);return v.headers=d,v.body=p.uploadData(),v.progressCallback=s||null,v.errorHandler=us(t),v}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bs=function(t,e,n){if(Aa(t)||Sa(e)||Sa(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},ws=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function _s(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var a,s,u,c,l,h;if(!(r<=n.length&&n.length<=i))throw a=r,s=i,u=t,c=n.length,a===s?(l=a,h=1===a?"argument":"arguments"):(l="between "+a+" and "+s,h="arguments"),new Ro(Zo,"Invalid argument count in `"+u+"`: Expected "+l+" "+h+", received "+c+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?oa(o,t,e.message):oa(o,t,e)}}var ks=function(t,e){var n=this;this.validator=function(e){n.optional&&!Ca(e)||t(e)},this.optional=!!e};function xs(t,e){function n(t){if(!Na(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new ks(r,e)}function Es(){return new ks((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Ba()&&t instanceof Blob))throw"Expected Blob or File."}))}function Is(t){return new ks(es,t)}function Ts(t){return new ks(rs,t)}function Ss(){return new ks((function(t){if(!(Oa(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Cs(t,e){return new ks((function(e){if(!(null===e||Sa(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function As(t){return new ks((function(t){if(!(null===t||Aa(t)))throw"Expected a Function."}),t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ps(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ms=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ya,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(zo)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(Ea))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(zo)?a.completeTransitions_():(a.error_=t,a.transition_(Ea))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ya&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case ya:t(n);break;case ka:e.transition_(xa);break;case ba:e.transition_(wa)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=ms(e,r,i),s={name:a.fullPath},u=Ga(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ts(a,n),h=t.maxUploadRetryTime,f=new is(u,"POST",(function(t){var e;gs(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){os(!1)}return os(Na(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=us(e),f}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new is(n,"POST",(function(t){var e=gs(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){os(!1)}n||os(!1);var i=Number(n);return os(!isNaN(i)),new vs(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=us(e),o}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new vs(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=ys(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(Ea)}var a=t.service_.makeRequest(o,i);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(_a)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=ls(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(_a)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=ms(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ts(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=$a.getBlob(c,r,l);if(null===h)throw ra();var f={name:u.fullPath},d=Ga(o),p=t.maxUploadRetryTime,m=new is(d,"POST",as(t,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=us(e),m}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(_a)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ka:case ba:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ya:var e=this.state_===wa;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case wa:this.state_=t,this.notifyObservers_();break;case xa:this.error_=na(),this.state_=t,this.notifyObservers_();break;case Ea:case _a:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case ba:this.transition_(wa);break;case ka:this.transition_(xa);break;case ya:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Ta(this.state_);return new ws(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==ga.STATE_CHANGED)throw"Expected one of the event types: ["+ga.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=As(!0).validator,s=Cs(null,!0).validator;function u(t){try{return void a(t)}catch(t){}try{if(s(t),!(Ca(t.next)||Ca(t.error)||Ca(t.complete)))throw"";return}catch(t){throw o}}var c=[xs(i),Cs(u,!0),As(!0),As(!0)];_s("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&_s("on",t,arguments);var o=new bs(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var d=[Cs(f),As(!0),As(!0)],p=!(Ca(e)||Ca(n)||Ca(r));return p?h(d):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Ta(this.state_)){case Ia.SUCCESS:Ps(this.resolve_.bind(null,this.snapshot))();break;case Ia.CANCELED:case Ia.ERROR:Ps(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Ta(this.state_)){case Ia.RUNNING:case Ia.PAUSED:t.next&&Ps(t.next.bind(t,this.snapshot))();break;case Ia.SUCCESS:t.complete&&Ps(t.complete.bind(t))();break;case Ia.CANCELED:case Ia.ERROR:t.error&&Ps(t.error.bind(t,this.error_))();break;default:t.error&&Ps(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){_s("resume",[],arguments);var t=this.state_===wa||this.state_===ba;return t&&this.transition_(ya),t},t.prototype.pause=function(){_s("pause",[],arguments);var t=this.state_===ya;return t&&this.transition_(ba),t},t.prototype.cancel=function(){_s("cancel",[],arguments);var t=this.state_===ya||this.state_===ba;return t&&this.transition_(ka),t},t}(),Ns=function(){function t(t,e){this.service=t,this.location=e instanceof za?e:za.makeFromUrl(e)}return t.prototype.toString=function(){return _s("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Ja()},t.prototype.child=function(t){_s("child",[xs()],arguments);var e=qa(this.location.path,t),n=new za(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new za(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new za(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Ha(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),_s("put",[Es(),Is(!0)],arguments),this.throwIfRoot_("put"),new Ms(this,this.service,this.location,this.mappings(),new $a(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ca.RAW),_s("putString",[xs(),xs(la,!0),Is(!0)],arguments),this.throwIfRoot_("putString");var r=fa(e,t),i=Object.assign({},n);return!Sa(i.contentType)&&Sa(r.contentType)&&(i.contentType=r.contentType),new Ms(this,this.service,this.location,this.mappings(),new $a(r.data,!0),i)},t.prototype.delete=function(){var t=this;return _s("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=ps(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){_s("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return No(this,void 0,void 0,(function(){var n,r,i,o;return Lo(this,(function(a){switch(a.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){_s("list",[Ts(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=hs(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return _s("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=ls(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return _s("updateMetadata",[Is()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=ds(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return _s("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=fs(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw ia();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Ro(Jo,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Ls=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Os=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());Ca(s)?i(s):i()}catch(t){o(t)}else null!==a?((r=ea()).setServerResponseProp(a.getResponseText()),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?aa():na()):o(r=new Ro($o,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Rs(!1,null,!0)):this.backoffId_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,s())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,Oo([null,t],e));else{var i,h=s()||o;if(h)c.call.apply(c,Oo([null,t],e));else r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i)}}var f=!1;function d(t){f||(f=!0,u||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new Rs(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===va.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new Rs(a,n))}else{var s=n.getErrorCode()===va.ABORT;e(!1,new Rs(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Rs=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function Bs(t,e,n,r){var i=Wa(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){var e=void 0!==se?se.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new Os(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ds=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?za.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new js(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:za.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return No(this,void 0,void 0,(function(){var t,e;return Lo(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new Ns(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new Ls(aa());var r=Bs(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(_s("ref",[xs(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Ns(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{za.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return _s("refFromURL",[xs(e,!1)],arguments),new Ns(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){_s("setMaxUploadRetryTime",[Ss()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){_s("setMaxOperationRetryTime",[Ss()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),js=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function Us(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Ds(n,r,new ja,e)}!function(t){var e={TaskState:Ia,TaskEvent:ga,StringFormat:ca,Storage:Ds,Reference:Ns};t.INTERNAL.registerComponent(new Xt("storage",Us,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.43")}(se);le.initializeApp({apiKey:"AIzaSyD_45MNWrQTmuTRihzYixmEdng5aEqPZog",authDomain:"avtokartaclub.firebaseapp.com",databaseURL:"https://avtokartaclub.firebaseio.com",projectId:"avtokartaclub",storageBucket:"avtokartaclub.appspot.com",messagingSenderId:"945284768758",appId:"1:945284768758:web:6476f85af52e50c08cddd7"});le.auth(),new le.auth.GoogleAuthProvider;const Fs=le.firestore(),$s=le.storage();function zs(t){let e;const n=t[5].default,r=l(n,t,t[4],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&16&e&&f(r,n,t,t[4],e,null,null)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function Vs(t){let e,n,r=t[0]&&zs(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&dt(r,1)):(r=zs(t),r.c(),dt(r,1),r.m(e.parentNode,e)):r&&(ht(),pt(r,1,1,()=>{r=null}),ft())},i(t){n||(dt(r),n=!0)},o(t){pt(r),n=!1},d(t){r&&r.d(t),t&&_(e)}}}function qs(t,e,n){let{$$slots:r={},$$scope:i}=e,{firebase:o}=e,{perf:a=!1}=e,{analytics:s=!1}=e,u=!1;const c=H();var l,h;return l="firebase",h={getFirebase:()=>o},z().$$.context.set(l,h),V(()=>{if(n(1,o=o||window&&window.firebase),!o)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");a&&o.performance(),s&&o.analytics(),c("initializeApp",{firebase:o}),n(0,u=!0)}),t.$$set=t=>{"firebase"in t&&n(1,o=t.firebase),"perf"in t&&n(2,a=t.perf),"analytics"in t&&n(3,s=t.analytics),"$$scope"in t&&n(4,i=t.$$scope)},[u,o,a,s,i,r]}class Hs extends xt{constructor(t){super(),kt(this,t,qs,Vs,s,{firebase:1,perf:2,analytics:3})}}const Gs=[];function Ws(t,e){return{subscribe:Ks(t,e).subscribe}}function Ks(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!Gs.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Gs.push(n,e)}if(t){for(let t=0;t<Gs.length;t+=2)Gs[t][0](Gs[t+1]);Gs.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const u=[a,s];return i.push(u),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Zs(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,c=n.length<2;return Ws(r,e=>{let r=!1;const l=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=n(i?l[0]:l,e);c?e(r):f=a(r)?r:t},p=s.map((t,e)=>u(t,t=>{l[e]=t,h&=~(1<<e),r&&d()},()=>{h|=1<<e}));return r=!0,d(),function(){o(p),f()}})}function Xs(){const{getFirebase:t}=(e="firebase",z().$$.context.get(e));var e;return t()}function Js(t){const e=Xs();if(!e)throw new Error("Missing Firebase app in context. Are you inside a 'FirebaseApp' component?");if(t){const n=e[t];if(n&&n())return n();throw new Error(`Firebase ${t} not found. You may be missing "import 'firebase/${t}'" `)}return e}const Ys=t=>({user:1&t}),Qs=t=>({user:t[0],auth:t[1].auth}),tu=t=>({user:1&t}),eu=t=>({user:t[0],auth:t[1].auth}),nu=t=>({user:1&t}),ru=t=>({user:t[0],auth:t[1].auth}),iu=t=>({user:1&t}),ou=t=>({user:t[0],auth:t[1].auth});function au(t){let e;const n=t[4]["signed-out"],r=l(n,t,t[3],eu);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&9&e&&f(r,n,t,t[3],e,tu,eu)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function su(t){let e;const n=t[4].default,r=l(n,t,t[3],ru);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&9&e&&f(r,n,t,t[3],e,nu,ru)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function uu(t){let e,n,r,i,o;const a=t[4].before,s=l(a,t,t[3],ou),u=[su,au],c=[];function h(t,e){return t[0]?0:1}n=h(t),r=c[n]=u[n](t);const d=t[4].after,p=l(d,t,t[3],Qs);return{c(){s&&s.c(),e=I(),r.c(),i=I(),p&&p.c()},m(t,r){s&&s.m(t,r),w(t,e,r),c[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){s&&s.p&&9&e&&f(s,a,t,t[3],e,iu,ou);let o=n;n=h(t),n===o?c[n].p(t,e):(ht(),pt(c[o],1,1,()=>{c[o]=null}),ft(),r=c[n],r?r.p(t,e):(r=c[n]=u[n](t),r.c()),dt(r,1),r.m(i.parentNode,i)),p&&p.p&&9&e&&f(p,d,t,t[3],e,Ys,Qs)},i(t){o||(dt(s,t),dt(r),dt(p,t),o=!0)},o(t){pt(s,t),pt(r),pt(p,t),o=!1},d(t){s&&s.d(t),t&&_(e),c[n].d(t),t&&_(i),p&&p.d(t)}}}function cu(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{persist:a=null}=e,s=function(t={persist:null}){const e=Js("auth");let n=null;const{persist:r}=t;r&&(n=JSON.parse(t.persist.getItem("sveltefire_user")));const i=Ks(n,()=>{const n=e.onAuthStateChanged(e=>{a(e),r&&t.persist.setItem("sveltefire_user",JSON.stringify(e))});return()=>n}),{subscribe:o,set:a}=i;return{subscribe:o,auth:e}}({persist:a});c(t,s,t=>n(0,r=t));const u=H();let l;return V(()=>{l=s.subscribe(t=>{u("user",{user:t})})}),q(()=>l()),t.$$set=t=>{"persist"in t&&n(2,a=t.persist),"$$scope"in t&&n(3,o=t.$$scope)},[r,s,a,o,i]}class lu extends xt{constructor(t){super(),kt(this,t,cu,uu,s,{persist:2})}}function hu(t){const e=Js("performance").trace(t);return e.start(),e}async function fu(t){return 2===t.state&&t.stop(),null}function du(t,e){const n=Js("firestore"),{startWith:r,log:i,traceId:o,maxWait:a,once:s}={maxWait:1e4,...e},u="string"==typeof t?n.doc(t):t,c=o&&hu(o);let l,h,f=void 0!==typeof r,d=!0,p=null;const m=(t,e)=>{f=!1,d=!1,h&&clearTimeout(h),p=e||null,y(t),c&&fu(c)},v=Ks(r,()=>(h=a&&setTimeout(()=>f&&m(null,new Error(`Timeout at ${a}. Using fallback slot.`)),a),l=u.onSnapshot(t=>{const e=t.data()||d&&r||null;i&&(console.groupCollapsed("Doc "+t.id),console.log("Path: "+u.path),console.log("Snapshot:",t),console.groupEnd()),m(e),s&&l()},t=>{console.error(t),m(null,t)}),()=>l())),{subscribe:g,set:y}=v;return{subscribe:g,firestore:n,ref:u,get loading(){return f},get error(){return p}}}function pu(t,e,n){const r=Js("firestore"),{startWith:i,log:o,traceId:a,maxWait:s,once:u,idField:c,refField:l}={idField:"id",refField:"ref",maxWait:1e4,...n},h="string"==typeof t?r.collection(t):t,f=e&&e(h),d=a&&hu(a);let p,m,v=void 0!==typeof i,g=null,y={};const b=(t,e)=>{v=!1,m&&clearTimeout(m),g=e||null,y=(t=>t&&t.length?{first:t[0],last:t[t.length-1]}:{})(t),k(t),d&&fu(d)},w=Ks(i,()=>(m=s&&setTimeout(()=>v&&b(null,new Error(`Timeout at ${s}. Using fallback slot.`)),s),p=(f||h).onSnapshot(t=>{const e=t.docs.map(t=>({...t.data(),...c?{[c]:t.id}:null,...l?{[l]:t.ref}:null}));if(o){const n=v?"New Query":"Updated Query";console.groupCollapsed(`${n} ${h.id} | ${e.length} hits`),console.log(""+h.path),console.log("Snapshot: ",t),console.groupEnd()}b(e),u&&p()},t=>{console.error(t),b(null,t)}),()=>p())),{subscribe:_,set:k}=w;return{subscribe:_,firestore:r,ref:h,get loading(){return v},get error(){return g},get meta(){return y}}}const mu=t=>({data:2&t,ref:1&t,error:1&t}),vu=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),gu=t=>({data:2&t,ref:1&t,error:1&t}),yu=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),bu=t=>({data:2&t,ref:1&t,error:1&t}),wu=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),_u=t=>({data:2&t,ref:1&t,error:1&t}),ku=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),xu=t=>({data:2&t,ref:1&t,error:1&t}),Eu=t=>({data:t[1],ref:t[0].ref,error:t[0].error});function Iu(t){let e;const n=t[10].fallback,r=l(n,t,t[9],yu);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&515&e&&f(r,n,t,t[9],e,gu,yu)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function Tu(t){let e;const n=t[10].loading,r=l(n,t,t[9],wu);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&515&e&&f(r,n,t,t[9],e,bu,wu)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function Su(t){let e;const n=t[10].default,r=l(n,t,t[9],ku);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&515&e&&f(r,n,t,t[9],e,_u,ku)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function Cu(t){let e,n,r,i,o;const a=t[10].before,s=l(a,t,t[9],Eu),u=[Su,Tu,Iu],c=[];function h(t,e){return t[1]?0:t[0].loading?1:2}n=h(t),r=c[n]=u[n](t);const d=t[10].after,p=l(d,t,t[9],vu);return{c(){s&&s.c(),e=I(),r.c(),i=I(),p&&p.c()},m(t,r){s&&s.m(t,r),w(t,e,r),c[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){s&&s.p&&515&e&&f(s,a,t,t[9],e,xu,Eu);let o=n;n=h(t),n===o?c[n].p(t,e):(ht(),pt(c[o],1,1,()=>{c[o]=null}),ft(),r=c[n],r?r.p(t,e):(r=c[n]=u[n](t),r.c()),dt(r,1),r.m(i.parentNode,i)),p&&p.p&&515&e&&f(p,d,t,t[9],e,mu,vu)},i(t){o||(dt(s,t),dt(r),dt(p,t),o=!0)},o(t){pt(s,t),pt(r),pt(p,t),o=!1},d(t){s&&s.d(t),t&&_(e),c[n].d(t),t&&_(i),p&&p.d(t)}}}function Au(e,n,r){let i,o=t,a=()=>(o(),o=u(g,t=>r(1,i=t)),g);e.$$.on_destroy.push(()=>o());let{$$slots:s={},$$scope:c}=n,{path:l}=n,{log:h=!1}=n,{traceId:f=""}=n,{startWith:d}=n,{maxWait:p=1e4}=n,{once:m=!1}=n;const v={startWith:d,traceId:f,log:h,maxWait:p,once:m};let g=du(l,v);a();const y=H();let b;return V(()=>y("ref",{ref:g.ref})),q(()=>b()),e.$$set=t=>{"path"in t&&r(2,l=t.path),"log"in t&&r(3,h=t.log),"traceId"in t&&r(4,f=t.traceId),"startWith"in t&&r(5,d=t.startWith),"maxWait"in t&&r(6,p=t.maxWait),"once"in t&&r(7,m=t.once),"$$scope"in t&&r(9,c=t.$$scope)},e.$$.update=()=>{261&e.$$.dirty&&(b&&(b(),a(r(0,g=du(l,v))),y("ref",{ref:g.ref})),r(8,b=g.subscribe(t=>{y("data",{data:t})})))},[g,i,l,h,f,d,p,m,b,c,s]}class Pu extends xt{constructor(t){super(),kt(this,t,Au,Cu,s,{path:2,log:3,traceId:4,startWith:5,maxWait:6,once:7})}}const Mu=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Nu=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),Lu=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Ou=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),Ru=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Bu=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),Du=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),ju=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),Uu=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Fu=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last});function $u(t){let e;const n=t[11].fallback,r=l(n,t,t[10],Ou);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&1027&e&&f(r,n,t,t[10],e,Lu,Ou)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function zu(t){let e;const n=t[11].loading,r=l(n,t,t[10],Bu);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&1027&e&&f(r,n,t,t[10],e,Ru,Bu)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function Vu(t){let e;const n=t[11].default,r=l(n,t,t[10],ju);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&1027&e&&f(r,n,t,t[10],e,Du,ju)},i(t){e||(dt(r,t),e=!0)},o(t){pt(r,t),e=!1},d(t){r&&r.d(t)}}}function qu(t){let e,n,r,i,o;const a=t[11].before,s=l(a,t,t[10],Fu),u=[Vu,zu,$u],c=[];function h(t,e){return t[1]?0:t[0].loading?1:2}n=h(t),r=c[n]=u[n](t);const d=t[11].after,p=l(d,t,t[10],Nu);return{c(){s&&s.c(),e=I(),r.c(),i=I(),p&&p.c()},m(t,r){s&&s.m(t,r),w(t,e,r),c[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){s&&s.p&&1027&e&&f(s,a,t,t[10],e,Uu,Fu);let o=n;n=h(t),n===o?c[n].p(t,e):(ht(),pt(c[o],1,1,()=>{c[o]=null}),ft(),r=c[n],r?r.p(t,e):(r=c[n]=u[n](t),r.c()),dt(r,1),r.m(i.parentNode,i)),p&&p.p&&1027&e&&f(p,d,t,t[10],e,Mu,Nu)},i(t){o||(dt(s,t),dt(r),dt(p,t),o=!0)},o(t){pt(s,t),pt(r),pt(p,t),o=!1},d(t){s&&s.d(t),t&&_(e),c[n].d(t),t&&_(i),p&&p.d(t)}}}function Hu(e,n,r){let i,o=t,a=()=>(o(),o=u(y,t=>r(1,i=t)),y);e.$$.on_destroy.push(()=>o());let{$$slots:s={},$$scope:c}=n,{path:l}=n,{query:h=null}=n,{traceId:f=""}=n,{log:d=!1}=n,{startWith:p}=n,{maxWait:m=1e4}=n,{once:v=!1}=n;const g={startWith:p,traceId:f,log:d,maxWait:m,once:v};let y=pu(l,h,g);a();const b=H();let w;return V(()=>b("ref",{ref:y.ref})),q(()=>w()),e.$$set=t=>{"path"in t&&r(2,l=t.path),"query"in t&&r(3,h=t.query),"traceId"in t&&r(4,f=t.traceId),"log"in t&&r(5,d=t.log),"startWith"in t&&r(6,p=t.startWith),"maxWait"in t&&r(7,m=t.maxWait),"once"in t&&r(8,v=t.once),"$$scope"in t&&r(10,c=t.$$scope)},e.$$.update=()=>{525&e.$$.dirty&&(w&&(w(),a(r(0,y=pu(l,h,g))),b("ref",{ref:y.ref})),r(9,w=y.subscribe(t=>{b("data",{data:t})})))},[y,i,l,h,f,d,p,m,v,w,c,s]}class Gu extends xt{constructor(t){super(),kt(this,t,Hu,qu,s,{path:2,query:3,traceId:4,log:5,startWith:6,maxWait:7,once:8})}}function Wu(t){let e,n,r;var i=t[0];return i&&(e=new i({}),e.$on("routeEvent",t[6])),{c(){e&&bt(e.$$.fragment),n=T()},m(t,i){e&&wt(e,t,i),w(t,n,i),r=!0},p(t,r){if(i!==(i=t[0])){if(e){ht();const t=e;pt(t.$$.fragment,1,0,()=>{_t(t,1)}),ft()}i?(e=new i({}),e.$on("routeEvent",t[6]),bt(e.$$.fragment),dt(e.$$.fragment,1),wt(e,n.parentNode,n)):e=null}},i(t){r||(e&&dt(e.$$.fragment,t),r=!0)},o(t){e&&pt(e.$$.fragment,t),r=!1},d(t){t&&_(n),e&&_t(e,t)}}}function Ku(t){let e,n,r;var i=t[0];function o(t){return{props:{params:t[1]}}}return i&&(e=new i(o(t)),e.$on("routeEvent",t[5])),{c(){e&&bt(e.$$.fragment),n=T()},m(t,i){e&&wt(e,t,i),w(t,n,i),r=!0},p(t,r){const a={};if(2&r&&(a.params=t[1]),i!==(i=t[0])){if(e){ht();const t=e;pt(t.$$.fragment,1,0,()=>{_t(t,1)}),ft()}i?(e=new i(o(t)),e.$on("routeEvent",t[5]),bt(e.$$.fragment),dt(e.$$.fragment,1),wt(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&dt(e.$$.fragment,t),r=!0)},o(t){e&&pt(e.$$.fragment,t),r=!1},d(t){t&&_(n),e&&_t(e,t)}}}function Zu(t){let e,n,r,i;const o=[Ku,Wu],a=[];function s(t,e){return t[1]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=T()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(ht(),pt(a[u],1,1,()=>{a[u]=null}),ft(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),dt(n,1),n.m(r.parentNode,r))},i(t){i||(dt(n),i=!0)},o(t){pt(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function Xu(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Ju=Ws(null,(function(t){t(Xu());const e=()=>{t(Xu())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));Zs(Ju,t=>t.location),Zs(Ju,t=>t.querystring);function Yu(e,n,r){let i,o=t;c(e,Ju,t=>r(4,i=t)),e.$$.on_destroy.push(()=>o());let{routes:a={}}=n,{prefix:s=""}=n;class u{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,a=[],s="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=r}match(t){s&&t.startsWith(s)&&(t=t.substr(s.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;)n[this._keys[r]]=e[++r]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const l=[];a instanceof Map?a.forEach((t,e)=>{l.push(new u(e,t))}):Object.keys(a).forEach(t=>{l.push(new u(t,a[t]))});let h=null,f=null;const d=H(),p=(t,e)=>{tt().then(()=>{d(t,e)})};return e.$$set=t=>{"routes"in t&&r(2,a=t.routes),"prefix"in t&&r(3,s=t.prefix)},e.$$.update=()=>{if(17&e.$$.dirty){r(0,h=null);let t=0;for(;!h&&t<l.length;){const e=l[t].match(i.location);if(e){const n={component:l[t].component,name:l[t].component.name,location:i.location,querystring:i.querystring,userData:l[t].userData};if(!l[t].checkConditions(n)){p("conditionsFailed",n);break}r(0,h=l[t].component),e&&"object"==typeof e&&Object.keys(e).length?r(1,f=e):r(1,f=null),p("routeLoaded",n)}t++}}},[h,f,a,s,i,function(t){G(e,t)},function(t){G(e,t)}]}class Qu extends xt{constructor(t){super(),kt(this,t,Yu,Zu,s,{routes:2,prefix:3})}}function tc(t){const e=t-1;return e*e*e+1}function ec(t){return-.5*(Math.cos(Math.PI*t)-1)}function nc(t,{delay:n=0,duration:r=400,easing:i=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function rc(t,{delay:e=0,duration:n=400,easing:r=tc,x:i=0,y:o=0,opacity:a=0}){const s=getComputedStyle(t),u=+s.opacity,c="none"===s.transform?"":s.transform,l=u*(1-a);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${u-l*e}`}}function ic(t,{delay:e=0,duration:n=400,easing:r=tc,start:i=0,opacity:o=0}){const a=getComputedStyle(t),s=+a.opacity,u="none"===a.transform?"":a.transform,c=1-i,l=s*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} scale(${1-c*e});\n\t\t\topacity: ${s-l*e}\n\t\t`}}function oc(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="close.svg")&&C(n,"src","close.svg"),C(n,"alt","menu"),C(n,"class","mt-1 mr-1 w-10 h-10 cursor-pointer")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[3]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function ac(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="menu.svg")&&C(n,"src","menu.svg"),C(n,"alt","menu"),C(n,"class","mt-1 mr-1 w-10 h-10 cursor-pointer")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[2]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function sc(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T,A,P;r=new Hs({props:{firebase:le,$$slots:{default:[vc]},$$scope:{ctx:t}}});let M=t[1]&&gc();return{c(){e=x("div"),n=x("div"),bt(r.$$.fragment),i=I(),o=x("br"),a=I(),s=x("hr"),u=I(),c=x("ul"),l=x("li"),l.innerHTML='<a href="#/help">?</a>',h=I(),f=x("li"),f.innerHTML='<a href="#/">Карта</a>',d=I(),p=x("li"),p.innerHTML='<a href="#/profile">Профиль</a>',m=I(),v=x("li"),v.innerHTML='<a href="#/about">Информация</a>',g=I(),M&&M.c(),y=I(),k=x("li"),k.innerHTML='<a href="#/cryptowallet">Крипто-кошелёк</a>',C(n,"class","user-auth"),C(l,"class","svelte-dd5yg8"),C(f,"class","svelte-dd5yg8"),C(p,"class","svelte-dd5yg8"),C(v,"class","svelte-dd5yg8"),C(k,"class","svelte-dd5yg8"),C(c,"class","menu-list mt-4 svelte-dd5yg8"),C(e,"class","menu-container svelte-dd5yg8")},m(_,x){w(_,e,x),b(e,n),wt(r,n,null),b(e,i),b(e,o),b(e,a),b(e,s),b(e,u),b(e,c),b(c,l),b(c,h),b(c,f),b(c,d),b(c,p),b(c,m),b(c,v),b(c,g),M&&M.m(c,null),b(c,y),b(c,k),T=!0,A||(P=S(c,"click",t[5]),A=!0)},p(t,e){const n={};67108864&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n),t[1]?M||(M=gc(),M.c(),M.m(c,y)):M&&(M.d(1),M=null)},i(t){T||(dt(r.$$.fragment,t),et(()=>{E||(E=gt(e,nc,{duration:400},!0)),E.run(1)}),T=!0)},o(t){pt(r.$$.fragment,t),E||(E=gt(e,nc,{duration:400},!1)),E.run(0),T=!1},d(t){t&&_(e),_t(r),M&&M.d(),t&&E&&E.end(),A=!1,P()}}}function uc(t){let e,n=t[23].displayName+"";return{c(){e=E(n)},m(t,n){w(t,e,n)},p(t,r){8388608&r&&n!==(n=t[23].displayName+"")&&P(e,n)},d(t){t&&_(e)}}}function cc(t){let e;return{c(){e=x("div"),e.innerHTML='<p class=" text-white">загрузка...</p>',C(e,"slot","loading")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function lc(t){let e,n,r,i=t[25].balance&&hc(t);return{c(){e=x("div"),n=x("span"),r=E("Баланс: \r\n                                    "),i&&i.c(),C(n,"class"," font-semibold text-orange-500")},m(t,o){w(t,e,o),b(e,n),b(n,r),i&&i.m(n,null)},p(t,e){t[25].balance?i?i.p(t,e):(i=hc(t),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},d(t){t&&_(e),i&&i.d()}}}function hc(t){let e,n=t[25].balance+"";return{c(){e=E(n)},m(t,n){w(t,e,n)},p(t,r){33554432&r&&n!==(n=t[25].balance+"")&&P(e,n)},d(t){t&&_(e)}}}function fc(t){let e;return{c(){e=x("div"),C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function dc(t){let e,n,r=null!=t[25]&&lc(t);return{c(){e=I(),r&&r.c(),n=I()},m(t,i){w(t,e,i),r&&r.m(t,i),w(t,n,i)},p(t,e){null!=t[25]?r?r.p(t,e):(r=lc(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(t){t&&_(e),r&&r.d(t),t&&_(n)}}}function pc(t){let e;return{c(){e=x("div"),e.innerHTML='<span class="text-orange-600">Для правильной работы приложения необходимо зарегистрироваться</span>',C(e,"slot","signed-out")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function mc(t){let e,n,r,i,o,a,s,u,c,l,h,f,d=null!=t[23].displayName&&uc(t);function p(){return t[4](t[24])}return o=new Pu({props:{path:"users/"+t[23].uid,$$slots:{default:[dc,({data:t})=>({25:t}),({data:t})=>t?33554432:0],fallback:[fc,({data:t})=>({25:t}),({data:t})=>t?33554432:0],loading:[cc,({data:t})=>({25:t}),({data:t})=>t?33554432:0]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("span"),d&&d.c(),r=I(),i=x("div"),bt(o.$$.fragment),a=I(),s=x("div"),u=x("button"),u.textContent="Выйти",c=I(),C(n,"class"," font-semibold text-green-500"),C(e,"class","user-info"),C(i,"class","account-info"),C(u,"class","p-1 px-3 mt-4 bg-gray-800 text-gray-200 rounded")},m(t,m){w(t,e,m),b(e,n),d&&d.m(n,null),w(t,r,m),w(t,i,m),wt(o,i,null),w(t,a,m),w(t,s,m),b(s,u),w(t,c,m),l=!0,h||(f=S(u,"click",p),h=!0)},p(e,r){null!=(t=e)[23].displayName?d?d.p(t,r):(d=uc(t),d.c(),d.m(n,null)):d&&(d.d(1),d=null);const i={};8388608&r&&(i.path="users/"+t[23].uid),100663296&r&&(i.$$scope={dirty:r,ctx:t}),o.$set(i)},i(t){l||(dt(o.$$.fragment,t),l=!0)},o(t){pt(o.$$.fragment,t),l=!1},d(t){t&&_(e),d&&d.d(),t&&_(r),t&&_(i),_t(o),t&&_(a),t&&_(s),t&&_(c),h=!1,f()}}}function vc(t){let e,n;return e=new lu({props:{$$slots:{default:[mc,({user:t,auth:e})=>({23:t,24:e}),({user:t,auth:e})=>(t?8388608:0)|(e?16777216:0)],"signed-out":[pc,({user:t,auth:e})=>({23:t,24:e}),({user:t,auth:e})=>(t?8388608:0)|(e?16777216:0)]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};75497472&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function gc(t){let e;return{c(){e=x("li"),e.innerHTML='<a href="#/addservice">Добавить сервис</a>',C(e,"class","svelte-dd5yg8")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function yc(t){let e,n,r,i,o,a;function s(t,e){return t[0]?oc:ac}let u=s(t),c=u(t),l=t[0]&&sc(t);return{c(){e=x("div"),n=x("div"),n.innerHTML='<div class="mt-2 -ml-6"><img class="w-12 h-12" src="main-logo.png" alt="logo"/></div> \n        <div class="ml-2 mt-1"><span class=" text-red-500 text-xl font-semibold">Avto</span><span class=" text-green-500 text-xl font-semibold">karta</span><span class=" text-orange-500 text-xl font-semibold">.club</span></div>',r=I(),i=x("div"),c.c(),o=I(),l&&l.c(),C(n,"class","justify-center flex flex-row items-center"),C(i,"class","header-menu absolute top-0 right-0 p-2 text-center"),C(e,"class","header fixed z-40 h-16 top-0 w-full bg-gray-900")},m(t,s){w(t,e,s),b(e,n),b(e,r),b(e,i),c.m(i,null),b(e,o),l&&l.m(e,null),a=!0},p(t,[n]){u===(u=s(t))&&c?c.p(t,n):(c.d(1),c=u(t),c&&(c.c(),c.m(i,null))),t[0]?l?(l.p(t,n),1&n&&dt(l,1)):(l=sc(t),l.c(),dt(l,1),l.m(e,null)):l&&(ht(),pt(l,1,1,()=>{l=null}),ft())},i(t){a||(dt(l),a=!0)},o(t){pt(l),a=!1},d(t){t&&_(e),c.d(),l&&l.d()}}}function bc(t,e,n){let r,i=!1;le.auth().onAuthStateChanged((function(t){t?(n(1,r=t),o()):console.log("no user login")}));const o=()=>{Fs.collection("users").doc(r.uid).get().then((function(t){t.exists?console.log("Document data:",t.data()):(console.log("No such document!"),a())})).catch((function(t){console.log("Error getting document:",t)}))},a=()=>{Fs.collection("users").doc(r.uid).set({uid:r.uid,mapRating:10,registered:le.firestore.FieldValue.serverTimestamp()}).then((function(){console.log("Document successfully written!")})).catch((function(t){console.error("Error writing document: ",t)}))};le.functions().httpsCallable("addNewUser");return[i,r,()=>n(0,i=!0),()=>n(0,i=!1),t=>t.signOut(),()=>n(0,i=!1)]}class wc extends xt{constructor(t){super(),kt(this,t,bc,yc,s,{})}}var _c,kc,xc,Ec=St((function(t,e){
/* @preserve
     * Leaflet 1.6.0, a JS library for interactive maps. http://leafletjs.com
     * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
     */
!function(t){var e=Object.freeze;function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}Object.freeze=function(t){return t};var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function s(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function u(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function c(){return!1}function l(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function d(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_-]+) *\}/g;function v(t,e){return t.replace(m,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r}))}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var _=0;function k(t){var e=+new Date,n=Math.max(0,16-(e-_));return _=e+n,window.setTimeout(t,n)}var x=window.requestAnimationFrame||w("RequestAnimationFrame")||k,E=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function I(t,e,n){if(!n||x!==k)return x.call(window,i(t,e));t.call(e)}function T(t){t&&E.call(window,t)}var S=(Object.freeze||Object)({freeze:e,extend:n,create:r,bind:i,lastId:o,stamp:a,throttle:s,wrapNum:u,falseFn:c,formatNum:l,trim:h,splitWords:f,setOptions:d,getParamString:p,template:v,isArray:g,indexOf:y,emptyImageUrl:b,requestFn:x,cancelFn:E,requestAnimFrame:I,cancelAnimFrame:T});function C(){}C.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var a in o.constructor=e,e.prototype=o,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(r(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},C.include=function(t){return n(this.prototype,t),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=f(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else for(var i=0,o=(t=f(t)).length;i<o;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx===n&&a.fn===e)return a.fn=c,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i((function(){this.off(t,e,n).off(t,o,n)}),this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var P=C.extend(A);function M(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var N=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function O(t,e,n){return t instanceof M?t:g(t)?new M(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new M(t.x,t.y):new M(t,e,n)}function R(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(t,e){return!t||t instanceof R?t:new R(t,e)}function D(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function j(t,e){return t instanceof D?t:new D(t,e)}function U(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function F(t,e,n){return t instanceof U?t:g(t)&&"object"!=typeof t[0]?3===t.length?new U(t[0],t[1],t[2]):2===t.length?new U(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new U(t,e,n)}M.prototype={clone:function(){return new M(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new M(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new M(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(t){var e=(t=O(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=O(t)).x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},R.prototype={extend:function(t){return t=O(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new M(this.min.x,this.max.y)},getTopRight:function(){return new M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof M?O(t):B(t))instanceof R?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=B(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof U)e=t,n=t;else{if(!(t instanceof D))return t?this.extend(F(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new U(e.lat,e.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new D(new U(e.lat-r,e.lng-i),new U(n.lat+r,n.lng+i))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof U||"lat"in t?F(t):j(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof D?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(t,e){return!!t&&(t=F(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+l(this.lat,t)+", "+l(this.lng,t)+")"},distanceTo:function(t){return V.distance(this,F(t))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var $,z={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new R(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new U(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new D(new U(o.lat-r,o.lng-i),new U(a.lat-r,a.lng-i))}},V=n({},z,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),q={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new M(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:($=6378137*Math.PI,new R([-$,-$],[$,$]))};function H(t,e,n,r){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function G(t,e,n,r){return new H(t,e,n,r)}H.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new M((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var W=n({},V,{code:"EPSG:3857",projection:q,transformation:function(){var t=.5/(Math.PI*q.R);return G(t,.5,-t,.5)}()}),K=n({},W,{code:"EPSG:900913"});function Z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n,r,i,o,a,s,u="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(a=t[n]).length;r<o;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=e?Ct?"z":"x":""}return u||"M0 0"}var J=document.documentElement.style,Y="ActiveXObject"in window,Q=Y&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=Pt("webkit"),nt=Pt("android"),rt=Pt("android 2")||Pt("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=nt&&Pt("Google")&&it<537&&!("AudioNode"in window),at=!!window.opera,st=Pt("chrome"),ut=Pt("gecko")&&!et&&!at&&!Y,ct=!st&&Pt("safari"),lt=Pt("phantom"),ht="OTransition"in J,ft=0===navigator.platform.indexOf("Win"),dt=Y&&"transition"in J,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,mt="MozPerspective"in J,vt=!window.L_DISABLE_3D&&(dt||pt||mt)&&!ht&&!lt,gt="undefined"!=typeof orientation||Pt("mobile"),yt=gt&&et,bt=gt&&pt,wt=!window.PointerEvent&&window.MSPointerEvent,_t=!(et||!window.PointerEvent&&!wt),kt=!window.L_NO_TOUCH&&(_t||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),xt=gt&&at,Et=gt&&ut,It=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(t){}return t},St=!!document.createElement("canvas").getContext,Ct=!(!document.createElementNS||!Z("svg").createSVGRect),At=!Ct&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Pt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Mt=(Object.freeze||Object)({ie:Y,ielt9:Q,edge:tt,webkit:et,android:nt,android23:rt,androidStock:ot,opera:at,chrome:st,gecko:ut,safari:ct,phantom:lt,opera12:ht,win:ft,ie3d:dt,webkit3d:pt,gecko3d:mt,any3d:vt,mobile:gt,mobileWebkit:yt,mobileWebkit3d:bt,msPointer:wt,pointer:_t,touch:kt,mobileOpera:xt,mobileGecko:Et,retina:It,passiveEvents:Tt,canvas:St,svg:Ct,vml:At}),Nt=wt?"MSPointerDown":"pointerdown",Lt=wt?"MSPointerMove":"pointermove",Ot=wt?"MSPointerUp":"pointerup",Rt=wt?"MSPointerCancel":"pointercancel",Bt=["INPUT","SELECT","OPTION"],Dt={},jt=!1,Ut=0;function Ft(t,e,n,r){return"touchstart"===e?function(t,e,n){var r=i((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Bt.indexOf(t.target.tagName)<0))return;De(t)}qt(t,e)}));t["_leaflet_touchstart"+n]=r,t.addEventListener(Nt,r,!1),jt||(document.documentElement.addEventListener(Nt,$t,!0),document.documentElement.addEventListener(Lt,zt,!0),document.documentElement.addEventListener(Ot,Vt,!0),document.documentElement.addEventListener(Rt,Vt,!0),jt=!0)}(t,n,r):"touchmove"===e?function(t,e,n){var r=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&qt(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(Lt,r,!1)}(t,n,r):"touchend"===e&&function(t,e,n){var r=function(t){qt(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(Ot,r,!1),t.addEventListener(Rt,r,!1)}(t,n,r),this}function $t(t){Dt[t.pointerId]=t,Ut++}function zt(t){Dt[t.pointerId]&&(Dt[t.pointerId]=t)}function Vt(t){delete Dt[t.pointerId],Ut--}function qt(t,e){for(var n in t.touches=[],Dt)t.touches.push(Dt[n]);t.changedTouches=[t],e(t)}var Ht=wt?"MSPointerDown":_t?"pointerdown":"touchstart",Gt=wt?"MSPointerUp":_t?"pointerup":"touchend",Wt="_leaflet_";function Kt(t,e,n){var r,i,o=!1;function a(t){var e;if(_t){if(!tt||"mouse"===t.pointerType)return;e=Ut}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(r||n);i=t.touches?t.touches[0]:t,o=a>0&&a<=250,r=n}}function s(t){if(o&&!i.cancelBubble){if(_t){if(!tt||"mouse"===t.pointerType)return;var n,a,s={};for(a in i)n=i[a],s[a]=n&&n.bind?n.bind(i):n;i=s}i.type="dblclick",i.button=0,e(i),r=null}}return t[Wt+Ht+n]=a,t[Wt+Gt+n]=s,t[Wt+"dblclick"+n]=e,t.addEventListener(Ht,a,!!Tt&&{passive:!1}),t.addEventListener(Gt,s,!!Tt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Zt(t,e){var n=t[Wt+Ht+e],r=t[Wt+Gt+e],i=t[Wt+"dblclick"+e];return t.removeEventListener(Ht,n,!!Tt&&{passive:!1}),t.removeEventListener(Gt,r,!!Tt&&{passive:!1}),tt||t.removeEventListener("dblclick",i,!1),this}var Xt,Jt,Yt,Qt,te,ee=ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ne=ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),re="webkitTransition"===ne||"OTransition"===ne?ne+"End":"transitionend";function ie(t){return"string"==typeof t?document.getElementById(t):t}function oe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function ae(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ce(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function he(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=me(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){if(void 0!==t.classList)for(var n=f(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!he(t,e)){var o=me(t);pe(t,(o?o+" ":"")+e)}}function de(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,h((" "+me(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function me(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ve(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function ge(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ye(t,e,n){var r=e||new M(0,0);t.style[ee]=(dt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function be(t,e){t._leaflet_pos=e,vt?ye(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function we(t){return t._leaflet_pos||new M(0,0)}if("onselectstart"in document)Xt=function(){Ae(window,"selectstart",De)},Jt=function(){Me(window,"selectstart",De)};else{var _e=ge(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(_e){var t=document.documentElement.style;Yt=t[_e],t[_e]="none"}},Jt=function(){_e&&(document.documentElement.style[_e]=Yt,Yt=void 0)}}function ke(){Ae(window,"dragstart",De)}function xe(){Me(window,"dragstart",De)}function Ee(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ie(),Qt=t,te=t.style.outline,t.style.outline="none",Ae(window,"keydown",Ie))}function Ie(){Qt&&(Qt.style.outline=te,Qt=void 0,te=void 0,Me(window,"keydown",Ie))}function Te(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Se(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ce=(Object.freeze||Object)({TRANSFORM:ee,TRANSITION:ne,TRANSITION_END:re,get:ie,getStyle:oe,create:ae,remove:se,empty:ue,toFront:ce,toBack:le,hasClass:he,addClass:fe,removeClass:de,setClass:pe,getClass:me,setOpacity:ve,testProp:ge,setTransform:ye,setPosition:be,getPosition:we,disableTextSelection:Xt,enableTextSelection:Jt,disableImageDrag:ke,enableImageDrag:xe,preventOutline:Ee,restoreOutline:Ie,getSizedParentNode:Te,getScale:Se});function Ae(t,e,n,r){if("object"==typeof e)for(var i in e)Ne(t,i,e[i],n);else for(var o=0,a=(e=f(e)).length;o<a;o++)Ne(t,e[o],n,r);return this}var Pe="_leaflet_events";function Me(t,e,n,r){if("object"==typeof e)for(var i in e)Le(t,i,e[i],n);else if(e)for(var o=0,a=(e=f(e)).length;o<a;o++)Le(t,e[o],n,r);else{for(var s in t[Pe])Le(t,s,t[Pe][s]);delete t[Pe]}return this}function Ne(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[Pe]&&t[Pe][i])return this;var o=function(e){return n.call(r||t,e||window.event)},s=o;_t&&0===e.indexOf("touch")?Ft(t,e,o,i):!kt||"dblclick"!==e||!Kt||_t&&st?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!!Tt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Ge(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1)):("click"===e&&nt&&(o=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=ze&&n-ze;r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated?je(t):(ze=n,e(t))}(t,s)}),t.addEventListener(e,o,!1)):"attachEvent"in t&&t.attachEvent("on"+e,o):Kt(t,o,i),t[Pe]=t[Pe]||{},t[Pe][i]=o}function Le(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):""),o=t[Pe]&&t[Pe][i];if(!o)return this;_t&&0===e.indexOf("touch")?function(t,e,n){var r=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Nt,r,!1):"touchmove"===e?t.removeEventListener(Lt,r,!1):"touchend"===e&&(t.removeEventListener(Ot,r,!1),t.removeEventListener(Rt,r,!1))}(t,e,i):!kt||"dblclick"!==e||!Zt||_t&&st?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,!!Tt&&{passive:!1}):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o):Zt(t,i),t[Pe][i]=null}function Oe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,He(t),this}function Re(t){return Ne(t,"mousewheel",Oe),this}function Be(t){return Ae(t,"mousedown touchstart dblclick",Oe),Ne(t,"click",qe),this}function De(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function je(t){return De(t),Oe(t),this}function Ue(t,e){if(!e)return new M(t.clientX,t.clientY);var n=Se(e),r=n.boundingClientRect;return new M((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Fe=ft&&st?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function $e(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Fe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var ze,Ve={};function qe(t){Ve[t.type]=!0}function He(t){var e=Ve[t.type];return Ve[t.type]=!1,e}function Ge(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var We=(Object.freeze||Object)({on:Ae,off:Me,stopPropagation:Oe,disableScrollPropagation:Re,disableClickPropagation:Be,preventDefault:De,stop:je,getMousePosition:Ue,getWheelDelta:$e,fakeStop:qe,skipped:He,isExternalTarget:Ge,addListener:Ae,removeListener:Me}),Ke=P.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=we(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),be(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ze=P.extend({options:{crs:W,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(F(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ne&&vt&&!xt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,re,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(F(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof M?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=O(e.paddingTopLeft||e.padding||[0,0]),r=O(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=O(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ke,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!vt)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=F(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,e),c=i.distanceTo(r)||1;function l(t){var e=(u*u-s*s+2.0164*(t?-1:1)*2.0164*c*c)/(2*(t?u:s)*2.0164*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var d=l(0);function p(t){return s*(f(d)*function(t){return h(t)/f(t)}(d+1.42*t)-h(d))/2.0164}var m=Date.now(),v=(l(1)-d)/1.42,g=n.duration?1e3*n.duration:1e3*v*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-m)/g,u=function(t){return 1-Math.pow(1-t,1.5)}(o)*v;o<=1?(this._flyToFrame=I(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(p(u)/c)),a),this.getScaleZoom(s/function(t){return s*(f(d)/f(d+1.42*t))}(u),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=j(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,j(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=O((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=O(e.paddingBottomRight||e.padding||[0,0]),i=this.getCenter(),o=this.project(i),a=this.project(t),s=this.getPixelBounds(),u=s.getSize().divideBy(2),c=B([s.min.add(n),s.max.subtract(r)]);if(!c.contains(a)){this._enforcingBounds=!0;var l=o.subtract(a),h=O(a.x+l.x,a.y+l.y);(a.x<c.min.x||a.x>c.max.x)&&(h.x=o.x-l.x,l.x>0?h.x+=u.x-n.x:h.x-=u.x-r.x),(a.y<c.min.y||a.y>c.max.y)&&(h.y=o.y-l.y,l.y>0?h.y+=u.y-n.y:h.y-=u.y-r.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new U(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ae("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new D(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=O(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),c=B(this.project(s,r),this.project(a,r)).getSize(),l=vt?this.options.zoomSnap:1,h=u.x/c.x,f=u.y/c.y,d=e?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(d,r),l&&(r=Math.round(r/(l/100))*(l/100),r=e?Math.ceil(r/l)*l:Math.floor(r/l)*l),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(F(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(O(t),e)},layerPointToLatLng:function(t){var e=O(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(F(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(F(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(F(t),F(e))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(t)))},mouseEventToContainerPoint:function(t){return Ue(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ie(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ae(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt,fe(t,"leaflet-container"+(kt?" leaflet-touch":"")+(It?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=oe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){be(this._mapPane,new M(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){be(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Me:Ae;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),vt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=I((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!Ge(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!Ge(o,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!He(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ee(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,e))).length){var o=r[0];"contextmenu"===e&&o.listens(e,!0)&&De(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(e,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return we(this._mapPane)||new M(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return B([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new R(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new R(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=B(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new M(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=vt?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ee,n=this._proxy.style[e];ye(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ye(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(I((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),I((function(){this._moveEnd(!0)}),this))}}),Xe=C.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return fe(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Je=function(t){return new Xe(t)};Ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ae("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=ae("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ye=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ae("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Be(e),Re(e);var r=this._section=ae("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Ae(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=ae("a",t+"-toggle",e);i.href="#",i.title="Layers",kt?(Ae(i,"click",je),Ae(i,"click",this.expand,this)):Ae(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ae("div",t+"-base",r),this._separator=ae("div",t+"-separator",r),this._overlaysList=ae("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Ae(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Qe=Xe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ae("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=ae("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Be(o),Ae(o,"click",je),Ae(o,"click",i,this),Ae(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&fe(this._zoomInButton,e)}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qe,this.addControl(this.zoomControl))}));var tn=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ae("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ae("div",e,n)),t.imperial&&(this._iScale=ae("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),en=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Be(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook((function(){this.options.attributionControl&&(new en).addTo(this)})),Xe.Layers=Ye,Xe.Zoom=Qe,Xe.Scale=tn,Xe.Attribution=en,Je.layers=function(t,e,n){return new Ye(t,e,n)},Je.zoom=function(t){return new Qe(t)},Je.scale=function(t){return new tn(t)},Je.attribution=function(t){return new en(t)};var nn=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(t,e){return t.addHandler(e,this),this};var rn,on={Events:A},an=kt?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},un={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},cn=P.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){d(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ae(this._dragStartTarget,an,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(),Me(this._dragStartTarget,an,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!he(this._element,"leaflet-zoom-anim")&&!(cn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(cn._dragging=this,this._preventOutline&&Ee(this._element),ke(),Xt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Te(this._element);this._startPoint=new M(e.clientX,e.clientY),this._parentScale=Se(n),Ae(document,un[t.type],this._onMove,this),Ae(document,sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new M(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,De(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=we(this._element).subtract(n),fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,T(this._animRequest),this._lastEvent=t,this._animRequest=I(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),be(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un)Me(document,un[t],this._onMove,this),Me(document,sn[t],this._onUp,this);xe(),Jt(),this._moved&&this._moving&&(T(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,cn._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function t(e,n,r,i,o){var a,s,u,c=0;for(s=i+1;s<=o-1;s++)(u=mn(e[s],e[i],e[o],!0))>c&&(a=s,c=u);c>r&&(n[a]=1,t(e,n,r,i,a),t(e,n,r,a,o))}(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}(t=function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)a=t[r],s=t[i],u=void 0,c=void 0,u=s.x-a.x,c=s.y-a.y,u*u+c*c>e&&(n.push(t[r]),i=r);var a,s,u,c;return i<o-1&&n.push(t[o-1]),n}(t,n),n)}function hn(t,e,n){return Math.sqrt(mn(t,e,n,!0))}function fn(t,e,n,r,i){var o,a,s,u=r?rn:pn(t,n),c=pn(e,n);for(rn=c;;){if(!(u|c))return[t,e];if(u&c)return!1;s=pn(a=dn(t,e,o=u||c,n,i),n),o===u?(t=a,u=s):(e=a,c=s)}}function dn(t,e,n,r,i){var o,a,s=e.x-t.x,u=e.y-t.y,c=r.min,l=r.max;return 8&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):4&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):2&n?(o=l.x,a=t.y+u*(l.x-t.x)/s):1&n&&(o=c.x,a=t.y+u*(c.x-t.x)/s),new M(o,a,i)}function pn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function mn(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,u=n.y-a,c=s*s+u*u;return c>0&&((i=((t.x-o)*s+(t.y-a)*u)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=t.x-o,u=t.y-a,r?s*s+u*u:new M(o,a)}function vn(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function gn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vn(t)}var yn=(Object.freeze||Object)({simplify:ln,pointToSegmentDistance:hn,closestPointOnSegment:function(t,e,n){return mn(t,e,n)},clipSegment:fn,_getEdgeIntersection:dn,_getBitCode:pn,_sqClosestPointOnSegment:mn,isFlat:vn,_flat:gn});function bn(t,e,n){var r,i,o,a,s,u,c,l,h,f=[1,4,2,8];for(i=0,c=t.length;i<c;i++)t[i]._code=pn(t[i],e);for(a=0;a<4;a++){for(l=f[a],r=[],i=0,o=(c=t.length)-1;i<c;o=i++)s=t[i],u=t[o],s._code&l?u._code&l||((h=dn(u,s,l,e,n))._code=pn(h,e),r.push(h)):(u._code&l&&((h=dn(u,s,l,e,n))._code=pn(h,e),r.push(h)),r.push(s));t=r}return t}var wn=(Object.freeze||Object)({clipPolygon:bn}),_n={project:function(t){return new M(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new R([-180,-90],[180,90])},kn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new M(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=c=Math.PI/2-2*Math.atan(a*e)-s;return new U(s*n,t.x*n/r)}},xn=(Object.freeze||Object)({LonLat:_n,Mercator:kn,SphericalMercator:q}),En=n({},V,{code:"EPSG:3395",projection:kn,transformation:function(){var t=.5/(Math.PI*kn.R);return G(t,.5,-t,.5)}()}),In=n({},V,{code:"EPSG:4326",projection:_n,transformation:G(1/180,1,-1/180,.5)}),Tn=n({},z,{projection:_n,transformation:G(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});z.Earth=V,z.EPSG3395=En,z.EPSG3857=W,z.EPSG900913=K,z.EPSG4326=In,z.Simple=Tn;var Sn=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?g(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Cn=Sn.extend({initialize:function(t,e){var n,r;if(d(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),An=Cn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Cn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Cn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Pn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var i=O(r),o=O("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return It&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Mn=Pn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Mn.imagePath||(Mn.imagePath=this._detectIconPath()),(this.options.imagePath||Mn.imagePath)+Pn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ae("div","leaflet-default-icon-path",document.body),e=oe(t,"background-image")||oe(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Nn=nn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new cn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=we(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=B(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var c=O((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),be(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=I(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=we(e._icon),i=e._map.layerPointToLatLng(r);n&&be(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ln=Sn.extend({options:{icon:new Mn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=F(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),fe(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(fe(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&be(this._icon,t),this._shadow&&be(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Nn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Nn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ve(this._icon,t),this._shadow&&ve(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),On=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Rn=On.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=F(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return On.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new R(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Bn=Rn.extend({initialize:function(t,e,r){if("number"==typeof e&&(e=n({},r,{radius:e})),d(this,e),this._latlng=F(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:On.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===V.distance){var i=Math.PI/180,o=this._mRadius/V.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(c*i))/(Math.cos(e*i)*Math.cos(c*i)))/i;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,t-l]).x,this._radiusY=u.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),Dn=On.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=mn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],c=1,l=u.length;c<l;c++){var h=o(t,e=u[c-1],n=u[c],!0);h<r&&(r=h,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,r=0;t<u-1;t++)if(i=s[t],o=s[t+1],(r+=n=i.distanceTo(o))>e)return a=(r-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=F(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=vn(t),r=0,i=t.length;r<i;r++)n?(e[r]=F(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new M(t,t);this._pxBounds=new R([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof U,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,a,s,u=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=fn(s[n],s[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((e||0!==r)&&hn(t,s[i],s[r])<=u)return!0;return!1}});Dn._flat=gn;var jn=Dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s,u,c=this._rings[0],l=c.length;if(!l)return null;for(o=a=s=0,t=0,e=l-1;t<l;e=t++)n=c[t],r=c[e],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?c[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Dn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof U&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Dn.prototype._setLatLngs.call(this,t),vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new M(e,e);if(t=new R(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=bn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,u,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(e=this._parts[i]).length)-1;o<u;a=o++)n=e[o],r=e[a],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||Dn.prototype._containsPoint.call(this,t,!0)}}),Un=An.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=g(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Fn(t,o);return a?(a.feature=Wn(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Fn(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],c=e&&e.pointToLayer,l=e&&e.coordsToLatLng||zn;if(!s&&!a)return null;switch(a.type){case"Point":return $n(c,t,n=l(s),e);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=l(s[i]),u.push($n(c,t,n,e));return new An(u);case"LineString":case"MultiLineString":return r=Vn(s,"LineString"===a.type?0:1,l),new Dn(r,e);case"Polygon":case"MultiPolygon":return r=Vn(s,"Polygon"===a.type?1:2,l),new jn(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=Fn({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new An(u);default:throw new Error("Invalid GeoJSON object.")}}function $n(t,e,n,r){return t?t(e,n):new Ln(n,r&&r.markersInheritOptions&&r)}function zn(t){return new U(t[1],t[0],t[2])}function Vn(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?Vn(t[o],e-1,n):(n||zn)(t[o]),i.push(r);return i}function qn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[l(t.lng,e),l(t.lat,e),l(t.alt,e)]:[l(t.lng,e),l(t.lat,e)]}function Hn(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?Hn(t[o],e-1,n,r):qn(t[o],r));return!e&&n&&i.push(i[0]),i}function Gn(t,e){return t.feature?n({},t.feature,{geometry:e}):Wn(e)}function Wn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Kn={toGeoJSON:function(t){return Gn(this,{type:"Point",coordinates:qn(this.getLatLng(),t)})}};function Zn(t,e){return new Un(t,e)}Ln.include(Kn),Bn.include(Kn),Rn.include(Kn),Dn.include({toGeoJSON:function(t){var e=!vn(this._latlngs);return Gn(this,{type:(e?"Multi":"")+"LineString",coordinates:Hn(this._latlngs,e?1:0,!1,t)})}}),jn.include({toGeoJSON:function(t){var e=!vn(this._latlngs),n=e&&!vn(this._latlngs[0]),r=Hn(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),Gn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Cn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Gn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=Wn(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?Gn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Xn=Zn,Jn=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ce(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ae("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ye(this._image,n,e)},_reset:function(){var t=this._image,e=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();be(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Yn=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ae("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[e.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=ae("source");s.src=this._url[a],e.appendChild(s)}}}}),Qn=Jn.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=c,t.onmousemove=c}}),tr=Sn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ve(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ve(this._container,0),this._removeTimeout=setTimeout(i(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=F(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ce(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Sn||(n=e,e=t),e instanceof An)for(var r in t._layers){e=t._layers[r];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=O(this.options.offset),n=this._getAnchor();this._zoomAnimated?be(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),er=tr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){tr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof On||this._source.on("preclick",Oe))},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof On||this._source.off("preclick",Oe))},getEvents:function(){var t=tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ae("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ae("div",t+"-content-wrapper",e);if(this._contentNode=ae("div",t+"-content",n),Be(n),Re(this._contentNode),Ae(n,"contextmenu",Oe),this._tipContainer=ae("div",t+"-tip-container",e),this._tip=ae("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ae("a",t+"-close-button",e);r.href="#close",r.innerHTML="&#215;",Ae(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight;i&&r>i?(e.height=i+"px",fe(t,"leaflet-popup-scrolled")):de(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();be(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(oe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new M(this._containerLeft,-n-this._containerBottom);i._add(we(this._container));var o=t.layerPointToContainerPoint(i),a=O(this.options.autoPanPadding),s=O(this.options.autoPanPaddingTopLeft||a),u=O(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),l=0,h=0;o.x+r+u.x>c.x&&(l=o.x+r-c.x+u.x),o.x-l-s.x<0&&(l=o.x-s.x),o.y+n+u.y>c.y&&(h=o.y+n-c.y+u.y),o.y-h-s.y<0&&(h=o.y-s.y),(l||h)&&t.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(t){this._close(),je(t)},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(t,e,n){return t instanceof er||(t=new er(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Sn.include({bindPopup:function(t,e){return t instanceof er?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new er(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(je(t),e instanceof On?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var nr=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){tr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=tr.prototype.getEvents.call(this);return kt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,r=e.latLngToContainerPoint(e.getCenter()),i=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=O(this.options.offset),c=this._getAnchor();"top"===o?t=t.add(O(-a/2+u.x,-s+u.y+c.y,!0)):"bottom"===o?t=t.subtract(O(a/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(O(a/2+u.x,s/2-c.y+u.y,!0)):"right"===o||"auto"===o&&i.x<r.x?(o="right",t=t.add(O(u.x+c.x,c.y-s/2+u.y,!0))):(o="left",t=t.subtract(O(a+c.x-u.x,s/2-c.y-u.y,!0))),de(n,"leaflet-tooltip-right"),de(n,"leaflet-tooltip-left"),de(n,"leaflet-tooltip-top"),de(n,"leaflet-tooltip-bottom"),fe(n,"leaflet-tooltip-"+o),be(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ve(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ze.include({openTooltip:function(t,e,n){return t instanceof nr||(t=new nr(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Sn.include({bindTooltip:function(t,e){return t instanceof nr?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new nr(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),kt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var rr=Pn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ue(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=O(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Pn.Default=Mn;var ir=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ce(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof M?t:new M(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){ve(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);ve(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(T(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(se(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new M(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new M(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();vt?ye(t.el,i,r):be(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new R(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new R(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new M(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var d=new M(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new D(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new M(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,Q&&this.options.opacity<1&&ve(t,this.options.opacity),nt&&!rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&I(i(this._tileReady,this,t,null,o)),be(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(ve(n.el,0),T(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(fe(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new M(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new R(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),or=ir.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&It&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ae(n,"load",i(this._tileOnLoad,this,e,n)),Ae(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:It?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return v(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,e.complete||(e.src=b,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return ot||e.el.setAttribute("src",b),ir.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return ir.prototype._tileReady.call(this,t,e,n)}});function ar(t,e){return new or(t,e)}var sr=or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);var o=(e=d(this,e)).detectRetina&&It?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,or.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=B(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===In?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=or.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});or.WMS=sr,ar.wms=function(t,e){return new sr(t,e)};var ur=Sn.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=we(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e).subtract(o),s=i.multiplyBy(-n).add(r).add(i).subtract(a);vt?ye(this._container,s,n):be(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new R(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ae(t,"mousemove",this._onMouseMove,this),Ae(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,se(this._container),Me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ur.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=It?2:1;be(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",It&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&!this._map._draggableMoved(e)&&(n=e);n&&(qe(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(fe(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function lr(t){return St?new cr(t):null}var hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),fr={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hr("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=hr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=hr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ce(t._container)},_bringToBack:function(t){le(t._container)}},dr=At?hr:Z,pr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=dr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ur.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),be(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=dr("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ce(t._path)},_bringToBack:function(t){le(t._path)}});function mr(t){return Ct||At?new pr(t):null}At&&pr.include(fr),Ze.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&lr(t)||mr(t)}});var vr=jn.extend({initialize:function(t,e){jn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pr.create=dr,pr.pointsToPath=X,Un.geometryToLayer=Fn,Un.coordsToLatLng=zn,Un.coordsToLatLngs=Vn,Un.latLngToCoords=qn,Un.latLngsToCoords=Hn,Un.getFeature=Gn,Un.asFeature=Wn,Ze.mergeOptions({boxZoom:!0});var gr=nn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),ke(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ae(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new R(this._point,this._startPoint),n=e.getSize();be(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(se(this._box),de(this._container,"leaflet-crosshair")),Jt(),xe(),Me(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ze.addInitHook("addHandler","boxZoom",gr),Ze.mergeOptions({doubleClickZoom:!0});var yr=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});Ze.addInitHook("addHandler","doubleClickZoom",yr),Ze.mergeOptions({dragging:!0,inertia:!rt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var br=nn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new cn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),l=s.multiplyBy(c/u),h=c/(n.inertiaDeceleration*a),f=l.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),I((function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ze.addInitHook("addHandler","dragging",br),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wr=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ae(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=O(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}je(t)}}});Ze.addInitHook("addHandler","keyboard",wr),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _r=nn.extend({addHooks:function(){Ae(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Me(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=$e(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),je(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Ze.addInitHook("addHandler","scrollWheelZoom",_r),Ze.mergeOptions({tap:!0,tapTolerance:15});var kr=nn.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(De(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new M(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ae(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Me(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new M(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});kt&&!_t&&Ze.addInitHook("addHandler","tap",kr),Ze.mergeOptions({touchZoom:kt&&!rt,bounceAtZoomLimits:!0});var xr=nn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend",this._onTouchEnd,this),De(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=I(s,this,!0),De(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Me(document,"touchmove",this._onTouchMove),Me(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ze.addInitHook("addHandler","touchZoom",xr),Ze.BoxZoom=gr,Ze.DoubleClickZoom=yr,Ze.Drag=br,Ze.Keyboard=wr,Ze.ScrollWheelZoom=_r,Ze.Tap=kr,Ze.TouchZoom=xr,Object.freeze=e,t.version="1.6.0",t.Control=Xe,t.control=Je,t.Browser=Mt,t.Evented=P,t.Mixin=on,t.Util=S,t.Class=C,t.Handler=nn,t.extend=n,t.bind=i,t.stamp=a,t.setOptions=d,t.DomEvent=We,t.DomUtil=Ce,t.PosAnimation=Ke,t.Draggable=cn,t.LineUtil=yn,t.PolyUtil=wn,t.Point=M,t.point=O,t.Bounds=R,t.bounds=B,t.Transformation=H,t.transformation=G,t.Projection=xn,t.LatLng=U,t.latLng=F,t.LatLngBounds=D,t.latLngBounds=j,t.CRS=z,t.GeoJSON=Un,t.geoJSON=Zn,t.geoJson=Xn,t.Layer=Sn,t.LayerGroup=Cn,t.layerGroup=function(t,e){return new Cn(t,e)},t.FeatureGroup=An,t.featureGroup=function(t){return new An(t)},t.ImageOverlay=Jn,t.imageOverlay=function(t,e,n){return new Jn(t,e,n)},t.VideoOverlay=Yn,t.videoOverlay=function(t,e,n){return new Yn(t,e,n)},t.SVGOverlay=Qn,t.svgOverlay=function(t,e,n){return new Qn(t,e,n)},t.DivOverlay=tr,t.Popup=er,t.popup=function(t,e){return new er(t,e)},t.Tooltip=nr,t.tooltip=function(t,e){return new nr(t,e)},t.Icon=Pn,t.icon=function(t){return new Pn(t)},t.DivIcon=rr,t.divIcon=function(t){return new rr(t)},t.Marker=Ln,t.marker=function(t,e){return new Ln(t,e)},t.TileLayer=or,t.tileLayer=ar,t.GridLayer=ir,t.gridLayer=function(t){return new ir(t)},t.SVG=pr,t.svg=mr,t.Renderer=ur,t.Canvas=cr,t.canvas=lr,t.Path=On,t.CircleMarker=Rn,t.circleMarker=function(t,e){return new Rn(t,e)},t.Circle=Bn,t.circle=function(t,e,n){return new Bn(t,e,n)},t.Polyline=Dn,t.polyline=function(t,e){return new Dn(t,e)},t.Polygon=jn,t.polygon=function(t,e){return new jn(t,e)},t.Rectangle=vr,t.rectangle=function(t,e){return new vr(t,e)},t.Map=Ze,t.map=function(t,e){return new Ze(t,e)};var Er=window.L;t.noConflict=function(){return window.L=Er,this},window.L=t}(e)}));function Ic(t,e,n){const r=t.slice();return r[92]=e[n],r}function Tc(t,e,n){const r=t.slice();return r[95]=e[n],r}function Sc(t,e,n){const r=t.slice();return r[101]=e[n],r}function Cc(t,e,n){const r=t.slice();return r[106]=e[n],r}function Ac(t,e,n){const r=t.slice();return r[110]=e[n],r}function Pc(t){let e,n;return{c(){e=x("span"),n=E(t[4]),C(e,"class"," text-red-600")},m(t,r){w(t,e,r),b(e,n)},p(t,e){16&e[0]&&P(n,t[4])},d(t){t&&_(e)}}}function Mc(t){let e,n;return{c(){e=x("span"),n=E(t[4]),C(e,"class"," text-orange-600")},m(t,r){w(t,e,r),b(e,n)},p(t,e){16&e[0]&&P(n,t[4])},d(t){t&&_(e)}}}function Nc(t){let e,n;return{c(){e=x("span"),n=E(t[4]),C(e,"class"," text-green-600")},m(t,r){w(t,e,r),b(e,n)},p(t,e){16&e[0]&&P(n,t[4])},d(t){t&&_(e)}}}function Lc(e){let n,r,i,o,a;return{c(){n=x("div"),r=x("img"),r.src!==(i="./icons/expand_more.svg")&&C(r,"src","./icons/expand_more.svg"),C(r,"alt","options"),C(r,"class"," mx-auto")},m(t,i){w(t,n,i),b(n,r),o||(a=S(r,"click",e[38]),o=!0)},p:t,d(t){t&&_(n),o=!1,a()}}}function Oc(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m=t[21]&&Rc(t),v=t[22]&&Fc(t),g=t[8]&&$c(t);return{c(){e=x("div"),n=x("div"),n.textContent="Журнал",r=I(),i=x("div"),i.textContent="Настройки",a=I(),m&&m.c(),s=I(),u=x("div"),u.textContent="Добавить услугу",c=I(),v&&v.c(),l=I(),h=x("div"),h.textContent="Добавить блок",f=I(),g&&g.c(),C(n,"class","option-menu svelte-93gzcr"),C(i,"class","option-menu svelte-93gzcr"),C(u,"class","option-menu svelte-93gzcr"),C(h,"class","option-menu svelte-93gzcr")},m(o,y){w(o,e,y),b(e,n),b(e,r),b(e,i),b(e,a),m&&m.m(e,null),b(e,s),b(e,u),b(e,c),v&&v.m(e,null),b(e,l),b(e,h),b(e,f),g&&g.m(e,null),d||(p=[S(n,"click",t[39]),S(i,"click",t[40]),S(u,"click",t[43]),S(h,"click",t[46])],d=!0)},p(t,n){t[21]?m?m.p(t,n):(m=Rc(t),m.c(),m.m(e,s)):m&&(m.d(1),m=null),t[22]?v?v.p(t,n):(v=Fc(t),v.c(),v.m(e,l)):v&&(v.d(1),v=null),t[8]?g?g.p(t,n):(g=$c(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(t){t&&_(e),m&&m.d(),v&&v.d(),g&&g.d(),d=!1,o(p)}}}function Rc(t){let e,n,r,i,o,a;function s(t,e){return t[88].subServices?Dc:Bc}let u=s(t),c=u(t);return{c(){e=x("div"),n=x("div"),r=x("span"),r.textContent="Предварительная запись через сайт:",i=I(),c.c(),o=I(),a=x("div"),a.innerHTML='<span class=" text-sm">Уведомления:</span>',C(r,"class"," text-sm"),C(e,"class","mt-1 p-1 border border-dashed")},m(t,s){w(t,e,s),b(e,n),b(n,r),b(n,i),c.m(n,null),b(e,o),b(e,a)},p(t,e){u===(u=s(t))&&c?c.p(t,e):(c.d(1),c=u(t),c&&(c.c(),c.m(n,null)))},d(t){t&&_(e),c.d()}}}function Bc(e){let n;return{c(){n=x("span"),n.textContent="Сначала добавьте услугу...",C(n,"class"," text-sm text-orange-600 italic")},m(t,e){w(t,n,e)},p:t,d(t){t&&_(n)}}}function Dc(t){let e;function n(t,e){return t[88].reception?Uc:jc}let r=n(t),i=r(t);return{c(){i.c(),e=T()},m(t,n){i.m(t,n),w(t,e,n)},p(t,o){r!==(r=n(t))&&(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&_(e)}}}function jc(t){let e,n,r,i,o;function a(){return t[42](t[89])}return{c(){e=x("span"),e.textContent="Выключено",n=I(),r=x("button"),r.textContent="включить",C(e,"class"," text-sm text-gray-500"),C(r,"class","btn-green")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"click",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function Uc(t){let e,n,r,i,o;function a(){return t[41](t[89])}return{c(){e=x("span"),e.textContent="Включено",n=I(),r=x("button"),r.textContent="отключить",C(e,"class"," text-sm text-green-600"),C(r,"class","btn-gray")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"click",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function Fc(t){let e,n,r,i,a,s;function u(){return t[45](t[89])}return{c(){e=x("div"),n=x("input"),r=I(),i=x("button"),i.textContent="добавить",C(n,"type","text"),C(n,"placeholder","Название услуги"),C(n,"class","svelte-93gzcr"),C(i,"class","btn-orange"),C(e,"class","pt-1 p-1 border border-dashed")},m(o,c){w(o,e,c),b(e,n),M(n,t[23]),b(e,r),b(e,i),a||(s=[S(n,"input",t[44]),S(i,"click",u)],a=!0)},p(e,r){t=e,8388608&r[0]&&n.value!==t[23]&&M(n,t[23])},d(t){t&&_(e),a=!1,o(s)}}}function $c(t){let e,n,r,i,a,s,u,c,l,h;function f(t,e){return null!=t[9]?Vc:zc}let d=f(t),p=d(t),m=null!=t[9]&&qc(t);return{c(){e=x("div"),n=x("div"),p.c(),r=I(),i=x("div"),a=x("input"),s=I(),u=x("input"),c=I(),m&&m.c(),C(n,"class","image-upload svelte-93gzcr"),C(a,"type","text"),C(a,"maxlength","50"),C(a,"class","svelte-93gzcr"),C(u,"type","text"),C(u,"maxlength","150"),C(u,"class","svelte-93gzcr"),C(i,"class","mt-2 text-center")},m(o,f){w(o,e,f),b(e,n),p.m(n,null),b(e,r),b(e,i),b(i,a),M(a,t[10]),b(i,s),b(i,u),M(u,t[11]),b(i,c),m&&m.m(i,null),l||(h=[S(a,"input",t[48]),S(u,"input",t[49])],l=!0)},p(t,e){d===(d=f(t))&&p?p.p(t,e):(p.d(1),p=d(t),p&&(p.c(),p.m(n,null))),1024&e[0]&&a.value!==t[10]&&M(a,t[10]),2048&e[0]&&u.value!==t[11]&&M(u,t[11]),null!=t[9]?m?m.p(t,e):(m=qc(t),m.c(),m.m(i,null)):m&&(m.d(1),m=null)},d(t){t&&_(e),p.d(),m&&m.d(),l=!1,o(h)}}}function zc(t){let e,n,r,i,o;function a(...e){return t[47](t[87],...e)}return{c(){e=x("label"),e.innerHTML='<p class="my-4">Загрузите изображение</p> \n                                        <img src="./icons/add_photo_teal.svg" alt="add_photo" class="img-icon svelte-93gzcr"/>',n=I(),r=x("input"),C(e,"for","block-foto"),C(r,"type","file"),C(r,"id","block-foto"),C(r,"name","file"),C(r,"class","svelte-93gzcr")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"change",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function Vc(t){let e,n;return{c(){e=x("img"),C(e,"class","img-up svelte-93gzcr"),e.src!==(n=t[9])&&C(e,"src",n),C(e,"alt","block-img")},m(t,n){w(t,e,n)},p(t,r){512&r[0]&&e.src!==(n=t[9])&&C(e,"src",n)},d(t){t&&_(e)}}}function qc(e){let n,r,i;return{c(){n=x("button"),n.textContent="Добавить",C(n,"class","btn-green")},m(t,o){w(t,n,o),r||(i=S(n,"click",e[33]),r=!0)},p:t,d(t){t&&_(n),r=!1,i()}}}function Hc(t){let e,n,r,i;function o(){return t[50](t[110])}return{c(){e=x("div"),n=x("button"),n.textContent="Удалить блок",C(n,"class","btn-opt"),C(e,"class","mt-1 text-center")},m(t,a){w(t,e,a),b(e,n),r||(i=S(n,"click",o),r=!0)},p(e,n){t=e},d(t){t&&_(e),r=!1,i()}}}function Gc(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y=t[110].title+"",k=t[110].desc+"",T=t[88].owner==t[1].uid&&Hc(t);function A(){return t[51](t[100])}return{c(){e=x("div"),n=x("span"),r=E(y),i=I(),o=x("span"),o.innerHTML='<img src="./icons/close_circle.svg" alt="X" class="w-8 h-8"/>',a=I(),s=x("img"),c=I(),l=x("hr"),h=I(),f=x("div"),d=E(k),p=I(),T&&T.c(),m=I(),C(n,"class","absolute p-1 mt-3 bg-gray-900 text-white font-semibold uppercase opacity-75"),C(o,"class","absolute right-0 m-2 opacity-50"),s.src!==(u=t[110].imgURL)&&C(s,"src",u),C(s,"alt","block-img"),C(s,"class","img-up svelte-93gzcr"),C(f,"class","p-2 bg-gray-100 text-black text-sm leading-tight"),C(e,"class"," relative border rounded shadow-md")},m(t,u){w(t,e,u),b(e,n),b(n,r),b(e,i),b(e,o),b(e,a),b(e,s),b(e,c),b(e,l),b(e,h),b(e,f),b(f,d),b(f,p),T&&T.m(f,null),b(e,m),v||(g=S(e,"click",A),v=!0)},p(e,n){t=e,65536&n[3]&&y!==(y=t[110].title+"")&&P(r,y),65536&n[3]&&s.src!==(u=t[110].imgURL)&&C(s,"src",u),65536&n[3]&&k!==(k=t[110].desc+"")&&P(d,k),t[88].owner==t[1].uid?T?T.p(t,n):(T=Hc(t),T.c(),T.m(f,null)):T&&(T.d(1),T=null)},d(t){t&&_(e),T&&T.d(),v=!1,g()}}}function Wc(t){let e,n=t[109],r=[];for(let e=0;e<n.length;e+=1)r[e]=Gc(Ac(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(1073741826&i[0]|67108864&i[2]|65536&i[3]){let o;for(n=t[109],o=0;o<n.length;o+=1){const a=Ac(t,n,o);r[o]?r[o].p(a,i):(r[o]=Gc(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&_(e)}}}function Kc(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[53]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Zc(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[52]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Xc(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[55]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Jc(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[54]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Yc(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[57]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Qc(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[56]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function tl(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[59]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function el(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[58]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function nl(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[61]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function rl(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-93gzcr")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[60]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function il(t){let e,n,r,i,o=t[101].rating>=2&&ol(t);return{c(){e=x("img"),r=I(),o&&o.c(),i=T(),e.src!==(n="./icons/star.svg")&&C(e,"src","./icons/star.svg"),C(e,"alt","star"),C(e,"class","star-small svelte-93gzcr")},m(t,n){w(t,e,n),w(t,r,n),o&&o.m(t,n),w(t,i,n)},p(t,e){t[101].rating>=2?o?o.p(t,e):(o=ol(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(t){t&&_(e),t&&_(r),o&&o.d(t),t&&_(i)}}}function ol(t){let e,n,r,i,o=t[101].rating>=3&&al(t);return{c(){e=x("img"),r=I(),o&&o.c(),i=T(),e.src!==(n="./icons/star.svg")&&C(e,"src","./icons/star.svg"),C(e,"alt","star"),C(e,"class","star-small svelte-93gzcr")},m(t,n){w(t,e,n),w(t,r,n),o&&o.m(t,n),w(t,i,n)},p(t,e){t[101].rating>=3?o?o.p(t,e):(o=al(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(t){t&&_(e),t&&_(r),o&&o.d(t),t&&_(i)}}}function al(t){let e,n,r,i,o=t[101].rating>=4&&sl(t);return{c(){e=x("img"),r=I(),o&&o.c(),i=T(),e.src!==(n="./icons/star.svg")&&C(e,"src","./icons/star.svg"),C(e,"alt","star"),C(e,"class","star-small svelte-93gzcr")},m(t,n){w(t,e,n),w(t,r,n),o&&o.m(t,n),w(t,i,n)},p(t,e){t[101].rating>=4?o?o.p(t,e):(o=sl(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(t){t&&_(e),t&&_(r),o&&o.d(t),t&&_(i)}}}function sl(t){let e,n,r,i,o=5==t[101].rating&&ul();return{c(){e=x("img"),r=I(),o&&o.c(),i=T(),e.src!==(n="./icons/star.svg")&&C(e,"src","./icons/star.svg"),C(e,"alt","star"),C(e,"class","star-small svelte-93gzcr")},m(t,n){w(t,e,n),w(t,r,n),o&&o.m(t,n),w(t,i,n)},p(t,e){5==t[101].rating?o||(o=ul(),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(t){t&&_(e),t&&_(r),o&&o.d(t),t&&_(i)}}}function ul(t){let e,n;return{c(){e=x("img"),e.src!==(n="./icons/star.svg")&&C(e,"src","./icons/star.svg"),C(e,"alt","star"),C(e,"class","star-small svelte-93gzcr")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function cl(t){let e,n,r;function i(){return t[63](t[101])}return{c(){e=x("span"),e.textContent="Ответить",C(e,"class"," text-teal-500 text-xs")},m(t,o){w(t,e,o),n||(r=S(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function ll(t){let e,n=t[104],r=[];for(let e=0;e<n.length;e+=1)r[e]=hl(Cc(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(2048&i[3]){let o;for(n=t[104],o=0;o<n.length;o+=1){const a=Cc(t,n,o);r[o]?r[o].p(a,i):(r[o]=hl(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&_(e)}}}function hl(t){let e,n,r,i,o,a,s,u=t[106].username+"",c=t[106].text+"";return{c(){e=x("div"),n=x("p"),r=E(u),i=I(),o=x("p"),a=E(c),s=I(),C(n,"class"," font-semibold"),C(o,"class","mt-1"),C(e,"class","reply svelte-93gzcr")},m(t,u){w(t,e,u),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a),b(e,s)},p(t,e){2048&e[3]&&u!==(u=t[106].username+"")&&P(r,u),2048&e[3]&&c!==(c=t[106].text+"")&&P(a,c)},d(t){t&&_(e)}}}function fl(t){let e,n=t[104].length>=1&&ll(t);return{c(){n&&n.c(),e=T()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){t[104].length>=1?n?n.p(t,r):(n=ll(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&_(e)}}}function dl(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m=t[101].username+"",v=t[101].text+"",g=t[101].rating>=1&&il(t),y=t[88].owner==t[1].uid&&cl(t);return f=new Gu({props:{path:t[101].ref.collection("reply"),$$slots:{default:[fl,({data:t,ref:e})=>({104:t,105:e}),({data:t,ref:e})=>[0,0,0,(t?2048:0)|(e?4096:0)]]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("p"),r=x("span"),i=E(m),o=I(),a=x("span"),g&&g.c(),s=I(),u=x("p"),c=E(v),l=I(),y&&y.c(),h=I(),bt(f.$$.fragment),d=I(),C(r,"class"," font-semibold"),C(a,"class"," float-right"),C(u,"class","mt-2"),C(e,"class","review svelte-93gzcr")},m(t,m){w(t,e,m),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),g&&g.m(a,null),b(e,s),b(e,u),b(u,c),b(u,l),y&&y.m(u,null),b(e,h),wt(f,e,null),b(e,d),p=!0},p(t,e){(!p||32&e[3])&&m!==(m=t[101].username+"")&&P(i,m),t[101].rating>=1?g?g.p(t,e):(g=il(t),g.c(),g.m(a,null)):g&&(g.d(1),g=null),(!p||32&e[3])&&v!==(v=t[101].text+"")&&P(c,v),t[88].owner==t[1].uid?y?y.p(t,e):(y=cl(t),y.c(),y.m(u,null)):y&&(y.d(1),y=null);const n={};32&e[3]&&(n.path=t[101].ref.collection("reply")),1050624&e[3]&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){p||(dt(f.$$.fragment,t),p=!0)},o(t){pt(f.$$.fragment,t),p=!1},d(t){t&&_(e),g&&g.d(),y&&y.d(),_t(f)}}}function pl(t){let e;return{c(){e=x("div"),e.innerHTML="<p>Отзывов нет</p>",C(e,"class","mt-1 p-2 bg-gray-100 border rounded-md text-center")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function ml(t){let e;return{c(){e=x("span"),e.textContent="Не удалось загрузить",C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function vl(t){let e,n,r,i,o,a,s,u,c,l,h=t[98],f=[];for(let e=0;e<h.length;e+=1)f[e]=dl(Sc(t,h,e));const d=t=>pt(f[t],1,1,()=>{f[t]=null});function p(){return t[64](t[100])}let m=0==t[98].length&&pl();return{c(){e=x("div");for(let t=0;t<f.length;t+=1)f[t].c();n=I(),r=x("div"),i=x("img"),a=I(),m&&m.c(),s=I(),C(e,"class","mt-1"),i.src!==(o="./icons/expand_more.svg")&&C(i,"src","./icons/expand_more.svg"),C(i,"alt","options"),C(i,"class"," mx-auto")},m(t,o){w(t,e,o);for(let t=0;t<f.length;t+=1)f[t].m(e,null);w(t,n,o),w(t,r,o),b(r,i),w(t,a,o),m&&m.m(t,o),w(t,s,o),u=!0,c||(l=S(i,"click",p),c=!0)},p(n,r){if(t=n,2&r[0]|16&r[1]|67108864&r[2]|2080&r[3]){let n;for(h=t[98],n=0;n<h.length;n+=1){const i=Sc(t,h,n);f[n]?(f[n].p(i,r),dt(f[n],1)):(f[n]=dl(i),f[n].c(),dt(f[n],1),f[n].m(e,null))}for(ht(),n=h.length;n<f.length;n+=1)d(n);ft()}0==t[98].length?m||(m=pl(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(t){if(!u){for(let t=0;t<h.length;t+=1)dt(f[t]);u=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)pt(f[t]);u=!1},d(t){t&&_(e),k(f,t),t&&_(n),t&&_(r),t&&_(a),m&&m.d(t),t&&_(s),c=!1,l()}}}function gl(e){let n,r,i,o,a,s,u,c;return{c(){n=x("div"),r=x("div"),i=x("div"),o=x("img"),o.src!==(a="./icons/event_note.svg")&&C(o,"src","./icons/event_note.svg"),C(o,"alt","call"),C(o,"class","w-8 h-8 cursor-pointer"),C(i,"class","p-2 rounded-full bg-teal-400"),C(r,"class","mt-3 ml-1 p-2 fixed rounded-full bg-teal-500 shadow-lg"),C(n,"class","absolute bottom-0 left-0 w-20 h-20")},m(t,a){w(t,n,a),b(n,r),b(r,i),b(i,o),u||(c=S(o,"click",e[65]),u=!0)},p:t,i(t){s||et(()=>{s=vt(n,ic,{duration:1e3}),s.start()})},o:t,d(t){t&&_(n),u=!1,c()}}}function yl(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,E,T,A,P,N,L,O,R,B,D,j,U,F,$,z,V=t[88].subServices,q=[];for(let e=0;e<V.length;e+=1)q[e]=bl(Tc(t,V,e));return{c(){e=x("div"),n=x("div"),r=x("div"),r.innerHTML='<span class="text-lg font-semibold">Записаться</span>',i=I(),a=x("div"),s=x("div"),s.innerHTML="<span>Выберите услугу:</span>",u=I(),c=x("div"),l=x("select"),h=x("option");for(let t=0;t<q.length;t+=1)q[t].c();f=I(),d=x("div"),d.innerHTML="<span>Выберите дату:</span>",p=I(),m=x("div"),v=x("input"),g=I(),y=x("div"),y.innerHTML="<span>Выберите время:</span>",E=I(),T=x("div"),A=x("input"),P=I(),N=x("div"),N.innerHTML="<span>Комментарий:</span>",L=I(),O=x("div"),R=x("input"),B=I(),D=x("div"),j=x("button"),j.textContent="Отмена",U=I(),F=x("button"),F.textContent="Записаться",C(r,"class","text-center"),h.__value="",h.value=h.__value,C(l,"class","p-1 rounded-lg border bg-white"),C(d,"class","mt-1"),C(v,"type","date"),C(v,"class","svelte-93gzcr"),C(y,"class","mt-1"),C(A,"type","time"),C(A,"class","svelte-93gzcr"),C(N,"class","mt-1"),C(R,"type","text"),C(R,"class","svelte-93gzcr"),C(a,"class","mt-1"),C(j,"class","btn-gray"),C(F,"class","btn-orange"),C(n,"class","p-2 bg-gray-100 border rounded-lg shadow-lg"),C(e,"id","receptionBox"),C(e,"class","svelte-93gzcr")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(n,i),b(n,a),b(a,s),b(a,u),b(a,c),b(c,l),b(l,h);for(let t=0;t<q.length;t+=1)q[t].m(l,null);b(a,f),b(a,d),b(a,p),b(a,m),b(m,v),M(v,t[25]),b(a,g),b(a,y),b(a,E),b(a,T),b(T,A),M(A,t[26]),b(a,P),b(a,N),b(a,L),b(a,O),b(O,R),M(R,t[27]),b(n,B),b(n,D),b(D,j),b(D,U),b(D,F),$||(z=[S(l,"change",t[67]),S(v,"input",t[68]),S(A,"input",t[69]),S(R,"input",t[70]),S(j,"click",t[71]),S(F,"click",t[37])],$=!0)},p(t,e){if(67108864&e[2]){let n;for(V=t[88].subServices,n=0;n<V.length;n+=1){const r=Tc(t,V,n);q[n]?q[n].p(r,e):(q[n]=bl(r),q[n].c(),q[n].m(l,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=V.length}33554432&e[0]&&M(v,t[25]),67108864&e[0]&&M(A,t[26]),134217728&e[0]&&R.value!==t[27]&&M(R,t[27])},d(t){t&&_(e),k(q,t),$=!1,o(z)}}}function bl(t){let e,n,r,i=t[95]+"";return{c(){e=x("option"),n=E(i),e.__value=r=t[95],e.value=e.__value},m(t,r){w(t,e,r),b(e,n)},p(t,o){67108864&o[2]&&i!==(i=t[95]+"")&&P(n,i),67108864&o[2]&&r!==(r=t[95])&&(e.__value=r,e.value=e.__value)},d(t){t&&_(e)}}}function wl(t){let e,n,r,i,a,s,u,c,l,h,f,d,p;return u=new Gu({props:{path:t[89].collection("records"),query:Ol,$$slots:{default:[Tl,({data:t,ref:e})=>({90:t,91:e}),({data:t,ref:e})=>[0,0,(t?268435456:0)|(e?536870912:0)]]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("div"),r=x("div"),r.innerHTML='<span class=" text-lg font-semibold">Журнал</span>',i=I(),a=x("input"),s=I(),bt(u.$$.fragment),c=I(),l=x("div"),h=x("button"),h.textContent="Закрыть",C(r,"class","text-center"),C(a,"type","date"),C(a,"class","svelte-93gzcr"),C(h,"class","btn-gray"),C(l,"class","mt-2 text-center"),C(n,"class","p-2 bg-gray-100 border rounded-lg shadow-lg"),C(e,"id","recordsBox"),C(e,"class","svelte-93gzcr")},m(o,m){w(o,e,m),b(e,n),b(n,r),b(n,i),b(n,a),M(a,t[18]),b(n,s),wt(u,n,null),b(n,c),b(n,l),b(l,h),f=!0,d||(p=[S(a,"input",t[72]),S(h,"click",t[78])],d=!0)},p(t,e){262144&e[0]&&M(a,t[18]);const n={};134217728&e[2]&&(n.path=t[89].collection("records")),458752&e[0]|268435456&e[2]|1048576&e[3]&&(n.$$scope={dirty:e,ctx:t}),u.$set(n)},i(t){f||(dt(u.$$.fragment,t),f=!0)},o(t){pt(u.$$.fragment,t),f=!1},d(t){t&&_(e),_t(u),d=!1,o(p)}}}function _l(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g=t[92].time+"",y=t[92].subservice+"",k=t[92].clientname+"",T=t[92].desc+"",A=!t[92].confirmed&&kl(t);return{c(){e=x("div"),n=x("div"),r=x("span"),i=E(g),o=I(),a=x("span"),s=E(y),u=I(),c=x("div"),l=E(k),h=I(),f=E(T),d=I(),A&&A.c(),p=I(),C(r,"class"," text-orange-600 font-semibold"),C(a,"class","ml-2 font-semibold"),C(c,"class","mt-1 text-sm"),C(e,"class","mt-1 p-1 border rounded bg-white")},m(g,y){w(g,e,y),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),b(e,u),b(e,c),b(c,l),b(c,h),b(c,f),b(e,d),A&&A.m(e,null),b(e,p),m||(v=S(r,"click",t[73]),m=!0)},p(t,n){268435456&n[2]&&g!==(g=t[92].time+"")&&P(i,g),268435456&n[2]&&y!==(y=t[92].subservice+"")&&P(s,y),268435456&n[2]&&k!==(k=t[92].clientname+"")&&P(l,k),268435456&n[2]&&T!==(T=t[92].desc+"")&&P(f,T),t[92].confirmed?A&&(A.d(1),A=null):A?A.p(t,n):(A=kl(t),A.c(),A.m(e,p))},d(t){t&&_(e),A&&A.d(),m=!1,v()}}}function kl(t){let e,n,r,i,a,s,u,c,l=t[17]&&xl(t),h=null!=t[16]&&El(t);function f(){return t[76](t[92])}function d(){return t[77](t[92])}return{c(){l&&l.c(),e=I(),n=x("div"),h&&h.c(),r=I(),i=x("button"),i.textContent="Принять",a=I(),s=x("button"),s.textContent="Отменить",C(i,"class","btn-opt bg-green-500"),C(s,"class","btn-opt bg-gray-800"),C(n,"class","mt-2 text-center")},m(t,o){l&&l.m(t,o),w(t,e,o),w(t,n,o),h&&h.m(n,null),b(n,r),b(n,i),b(n,a),b(n,s),u||(c=[S(i,"click",f,{once:!0}),S(s,"click",d)],u=!0)},p(i,o){(t=i)[17]?l?l.p(t,o):(l=xl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),null!=t[16]?h?h.p(t,o):(h=El(t),h.c(),h.m(n,r)):h&&(h.d(1),h=null)},d(t){l&&l.d(t),t&&_(e),t&&_(n),h&&h.d(),u=!1,o(c)}}}function xl(t){let e,n,r,i;return{c(){e=x("div"),n=x("input"),C(n,"type","time"),C(n,"class","svelte-93gzcr")},m(o,a){w(o,e,a),b(e,n),M(n,t[16]),r||(i=S(n,"input",t[74]),r=!0)},p(t,e){65536&e[0]&&M(n,t[16])},d(t){t&&_(e),r=!1,i()}}}function El(t){let e,n,r;function i(){return t[75](t[92])}return{c(){e=x("button"),e.textContent="Изменить",C(e,"class","btn-opt bg-orange-500")},m(t,o){w(t,e,o),n||(r=S(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function Il(t){let e,n=t[92].date==t[18]&&_l(t);return{c(){n&&n.c(),e=T()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){t[92].date==t[18]?n?n.p(t,r):(n=_l(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&_(e)}}}function Tl(t){let e,n=t[90],r=[];for(let e=0;e<n.length;e+=1)r[e]=Il(Ic(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(537329664&i[0]|268435456&i[2]){let o;for(n=t[90],o=0;o<n.length;o+=1){const a=Ic(t,n,o);r[o]?r[o].p(a,i):(r[o]=Il(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&_(e)}}}function Sl(t){let e;return{c(){e=x("span"),e.textContent="Не удалось загрузить",C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Cl(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,A,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,nt,rt,it,ot,at,st,ut,ct,lt,mt,gt,yt,kt,xt,Et=t[88].name+"",It=t[88].offer+"",Tt=t[4]<3&&Pc(t),St=t[4]>=3&&t[4]<4&&Mc(t),Ct=t[4]>=4&&Nc(t),At=t[88].owner==t[1].uid&&Lc(t),Pt=t[7]&&Oc(t);function Mt(t,e){return t[5]>=1?Zc:Kc}L=new Gu({props:{path:t[89].collection("adblocks"),query:t[12],$$slots:{default:[Wc,({data:t,last:e})=>({109:t,100:e}),({data:t,last:e})=>[0,0,0,(t?65536:0)|(e?128:0)]]},$$scope:{ctx:t}}});let Nt=Mt(t),Lt=Nt(t);function Ot(t,e){return t[5]>=2?Jc:Xc}let Rt=Ot(t),Bt=Rt(t);function Dt(t,e){return t[5]>=3?Qc:Yc}let jt=Dt(t),Ut=jt(t);function Ft(t,e){return t[5]>=4?el:tl}let $t=Ft(t),zt=$t(t);function Vt(t,e){return 5==t[5]?rl:nl}let qt=Vt(t),Ht=qt(t);K=new Gu({props:{path:t[89].collection("reviews"),query:t[13],$$slots:{default:[vl,({data:t,ref:e,last:n})=>({98:t,99:e,100:n}),({data:t,ref:e,last:n})=>[0,0,0,(t?32:0)|(e?64:0)|(n?128:0)]],fallback:[ml,({data:t,ref:e,last:n})=>({98:t,99:e,100:n}),({data:t,ref:e,last:n})=>[0,0,0,(t?32:0)|(e?64:0)|(n?128:0)]]},$$scope:{ctx:t}}});let Gt=t[88].reception&&gl(t),Wt=t[20]&&yl(t),Kt=t[19]&&wl(t);return{c(){e=x("div"),n=x("div"),r=x("div"),i=x("div"),i.innerHTML='<img src="./icons/star.svg" alt="star" class="w-8 h-8"/>',a=I(),s=x("div"),Tt&&Tt.c(),u=I(),St&&St.c(),c=I(),Ct&&Ct.c(),l=I(),h=x("div"),f=x("div"),d=x("p"),p=E(Et),m=I(),v=x("div"),g=x("p"),y=E(It),k=I(),At&&At.c(),T=I(),Pt&&Pt.c(),A=I(),N=x("div"),bt(L.$$.fragment),O=I(),R=x("div"),B=x("div"),Lt.c(),D=I(),Bt.c(),j=I(),Ut.c(),U=I(),zt.c(),F=I(),Ht.c(),$=I(),z=x("div"),V=x("input"),q=I(),H=x("button"),H.textContent="Добавить",G=I(),W=x("div"),bt(K.$$.fragment),Z=I(),Gt&&Gt.c(),X=I(),J=x("div"),Y=x("div"),Q=x("div"),tt=x("a"),nt=x("img"),at=I(),st=x("div"),ut=x("button"),ut.textContent="Вернуться на карту",lt=I(),Wt&&Wt.c(),mt=I(),Kt&&Kt.c(),gt=I(),C(s,"class","mt-1 font-semibold text-center"),C(r,"class","p-2 flex flex-col content-center items-center"),C(d,"class","font-semibold text-lg"),C(f,"class","p-2 my-auto mx-auto text-center"),C(h,"class","flex flex-grow"),C(n,"class","p-1 flex flex-row"),C(g,"class","p-2 text-sm text-justify"),C(e,"class","p-2 rounded-lg shadow-lg"),C(N,"class","p-1"),C(B,"class","star-container svelte-93gzcr"),C(V,"type","text"),C(V,"placeholder","Ваш отзыв"),C(V,"class","svelte-93gzcr"),C(H,"class","btn-orange"),C(z,"class","mt-1 inline-block"),C(R,"class","rating-container svelte-93gzcr"),C(W,"class","p-1"),nt.src!==(rt="./icons/phone.svg")&&C(nt,"src","./icons/phone.svg"),C(nt,"alt","call"),C(nt,"class","w-8 h-8"),C(tt,"href",it="tel:"+t[88].phone),C(Q,"class","p-2 rounded-full bg-green-400"),C(Y,"class","mt-3 ml-2 p-2 fixed rounded-full bg-green-500 shadow-lg"),C(J,"class","absolute bottom-0 right-0 w-20 h-20"),C(ut,"class","mt-2 p-3 fixed rounded-full bg-gray-800 shadow-lg text-white"),C(st,"id","back-button"),C(st,"class","absolute bottom-0 w-40 h-20 svelte-93gzcr")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(r,i),b(r,a),b(r,s),Tt&&Tt.m(s,null),b(s,u),St&&St.m(s,null),b(s,c),Ct&&Ct.m(s,null),b(n,l),b(n,h),b(h,f),b(f,d),b(d,p),b(e,m),b(e,v),b(v,g),b(g,y),b(e,k),At&&At.m(e,null),b(e,T),Pt&&Pt.m(e,null),w(o,A,_),w(o,N,_),wt(L,N,null),w(o,O,_),w(o,R,_),b(R,B),Lt.m(B,null),b(B,D),Bt.m(B,null),b(B,j),Ut.m(B,null),b(B,U),zt.m(B,null),b(B,F),Ht.m(B,null),b(R,$),b(R,z),b(z,V),M(V,t[6]),b(z,q),b(z,H),w(o,G,_),w(o,W,_),wt(K,W,null),w(o,Z,_),Gt&&Gt.m(o,_),w(o,X,_),w(o,J,_),b(J,Y),b(Y,Q),b(Q,tt),b(tt,nt),w(o,at,_),w(o,st,_),b(st,ut),w(o,lt,_),Wt&&Wt.m(o,_),w(o,mt,_),Kt&&Kt.m(o,_),w(o,gt,_),yt=!0,kt||(xt=[S(V,"input",t[62]),S(H,"click",t[34]),S(ut,"click",t[66])],kt=!0)},p(t,n){t[4]<3?Tt?Tt.p(t,n):(Tt=Pc(t),Tt.c(),Tt.m(s,u)):Tt&&(Tt.d(1),Tt=null),t[4]>=3&&t[4]<4?St?St.p(t,n):(St=Mc(t),St.c(),St.m(s,c)):St&&(St.d(1),St=null),t[4]>=4?Ct?Ct.p(t,n):(Ct=Nc(t),Ct.c(),Ct.m(s,null)):Ct&&(Ct.d(1),Ct=null),(!yt||67108864&n[2])&&Et!==(Et=t[88].name+"")&&P(p,Et),(!yt||67108864&n[2])&&It!==(It=t[88].offer+"")&&P(y,It),t[88].owner==t[1].uid?At?At.p(t,n):(At=Lc(t),At.c(),At.m(e,T)):At&&(At.d(1),At=null),t[7]?Pt?Pt.p(t,n):(Pt=Oc(t),Pt.c(),Pt.m(e,null)):Pt&&(Pt.d(1),Pt=null);const r={};134217728&n[2]&&(r.path=t[89].collection("adblocks")),4096&n[0]&&(r.query=t[12]),2&n[0]|67108864&n[2]|1114112&n[3]&&(r.$$scope={dirty:n,ctx:t}),L.$set(r),Nt===(Nt=Mt(t))&&Lt?Lt.p(t,n):(Lt.d(1),Lt=Nt(t),Lt&&(Lt.c(),Lt.m(B,D))),Rt===(Rt=Ot(t))&&Bt?Bt.p(t,n):(Bt.d(1),Bt=Rt(t),Bt&&(Bt.c(),Bt.m(B,j))),jt===(jt=Dt(t))&&Ut?Ut.p(t,n):(Ut.d(1),Ut=jt(t),Ut&&(Ut.c(),Ut.m(B,U))),$t===($t=Ft(t))&&zt?zt.p(t,n):(zt.d(1),zt=$t(t),zt&&(zt.c(),zt.m(B,F))),qt===(qt=Vt(t))&&Ht?Ht.p(t,n):(Ht.d(1),Ht=qt(t),Ht&&(Ht.c(),Ht.m(B,null))),64&n[0]&&V.value!==t[6]&&M(V,t[6]);const i={};134217728&n[2]&&(i.path=t[89].collection("reviews")),8192&n[0]&&(i.query=t[13]),2&n[0]|67108864&n[2]|1048608&n[3]&&(i.$$scope={dirty:n,ctx:t}),K.$set(i),t[88].reception?Gt?(Gt.p(t,n),67108864&n[2]&&dt(Gt,1)):(Gt=gl(t),Gt.c(),dt(Gt,1),Gt.m(X.parentNode,X)):Gt&&(Gt.d(1),Gt=null),(!yt||67108864&n[2]&&it!==(it="tel:"+t[88].phone))&&C(tt,"href",it),t[20]?Wt?Wt.p(t,n):(Wt=yl(t),Wt.c(),Wt.m(mt.parentNode,mt)):Wt&&(Wt.d(1),Wt=null),t[19]?Kt?(Kt.p(t,n),524288&n[0]&&dt(Kt,1)):(Kt=wl(t),Kt.c(),dt(Kt,1),Kt.m(gt.parentNode,gt)):Kt&&(ht(),pt(Kt,1,1,()=>{Kt=null}),ft())},i(t){yt||(dt(L.$$.fragment,t),dt(K.$$.fragment,t),dt(Gt),ot||et(()=>{ot=vt(J,ic,{duration:1e3}),ot.start()}),ct||et(()=>{ct=vt(st,ic,{duration:1e3}),ct.start()}),dt(Kt),yt=!0)},o(t){pt(L.$$.fragment,t),pt(K.$$.fragment,t),pt(Kt),yt=!1},d(t){t&&_(e),Tt&&Tt.d(),St&&St.d(),Ct&&Ct.d(),At&&At.d(),Pt&&Pt.d(),t&&_(A),t&&_(N),_t(L),t&&_(O),t&&_(R),Lt.d(),Bt.d(),Ut.d(),zt.d(),Ht.d(),t&&_(G),t&&_(W),_t(K),t&&_(Z),Gt&&Gt.d(t),t&&_(X),t&&_(J),t&&_(at),t&&_(st),t&&_(lt),Wt&&Wt.d(t),t&&_(mt),Kt&&Kt.d(t),t&&_(gt),kt=!1,o(xt)}}}function Al(t){let e,n;return e=new Pu({props:{path:"services/"+t[0].id,$$slots:{default:[Cl,({data:t,ref:e})=>({88:t,89:e}),({data:t,ref:e})=>[0,0,(t?67108864:0)|(e?134217728:0)]],fallback:[Sl,({data:t,ref:e})=>({88:t,89:e}),({data:t,ref:e})=>[0,0,(t?67108864:0)|(e?134217728:0)]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.path="services/"+t[0].id),268386290&n[0]|201326592&n[2]|1048576&n[3]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Pl(t){let e,n;return e=new lu({props:{$$slots:{default:[Al,({user:t})=>({87:t}),({user:t})=>[0,0,t?33554432:0]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};268386291&n[0]|1048576&n[3]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Ml(t){let e,n,r,i,a,s,u,c,l,h,f,d,p;return{c(){e=x("div"),n=x("div"),r=x("p"),i=x("input"),a=I(),s=x("p"),u=x("button"),u.textContent="Отмена",c=I(),l=x("button"),l.textContent="Отправить",C(i,"type","text"),C(i,"placeholder","Ответ"),C(i,"class","svelte-93gzcr"),C(r,"class","text-center"),C(u,"class","btn-gray"),C(l,"class","btn-orange"),C(s,"class","mt-2 text-center"),C(n,"class","p-3 border bg-white rounded-lg shadow-lg"),C(e,"id","replyReviewBox"),C(e,"class"," fixed top-0 svelte-93gzcr")},m(o,h){w(o,e,h),b(e,n),b(n,r),b(r,i),M(i,t[14]),b(n,a),b(n,s),b(s,u),b(s,c),b(s,l),f=!0,d||(p=[S(i,"input",t[79]),S(u,"click",t[80]),S(l,"click",t[81])],d=!0)},p(t,e){16384&e[0]&&i.value!==t[14]&&M(i,t[14])},i(t){f||(et(()=>{h||(h=gt(n,nc,{duration:200},!0)),h.run(1)}),f=!0)},o(t){h||(h=gt(n,nc,{duration:200},!1)),h.run(0),f=!1},d(t){t&&_(e),t&&h&&h.end(),d=!1,o(p)}}}function Nl(t){let e,n,r,i,o,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(t[3]),o=I(),a=x("p"),s=x("button"),s.textContent="Ок",C(r,"class","text-center"),C(s,"class","btn-orange"),C(a,"class","mt-2 text-center"),C(n,"class","p-3 border bg-white rounded-lg shadow-lg"),C(e,"id","alertBox"),C(e,"class"," fixed top-0 svelte-93gzcr")},m(u,f){w(u,e,f),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),c=!0,l||(h=S(s,"click",t[82]),l=!0)},p(t,e){(!c||8&e[0])&&P(i,t[3])},i(t){c||(et(()=>{u||(u=gt(n,nc,{duration:500},!0)),u.run(1)}),c=!0)},o(t){u||(u=gt(n,nc,{duration:500},!1)),u.run(0),c=!1},d(t){t&&_(e),t&&u&&u.end(),l=!1,h()}}}function Ll(t){let e,n,r,i,o,a;n=new Hs({props:{firebase:le,$$slots:{default:[Pl]},$$scope:{ctx:t}}});let s=t[15]&&Ml(t),u=t[2]&&Nl(t);return{c(){e=x("div"),bt(n.$$.fragment),r=I(),s&&s.c(),i=I(),u&&u.c(),o=T(),C(e,"class","mt-16")},m(t,c){w(t,e,c),wt(n,e,null),w(t,r,c),s&&s.m(t,c),w(t,i,c),u&&u.m(t,c),w(t,o,c),a=!0},p(t,e){const r={};268386291&e[0]|1048576&e[3]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[15]?s?(s.p(t,e),32768&e[0]&&dt(s,1)):(s=Ml(t),s.c(),dt(s,1),s.m(i.parentNode,i)):s&&(ht(),pt(s,1,1,()=>{s=null}),ft()),t[2]?u?(u.p(t,e),4&e[0]&&dt(u,1)):(u=Nl(t),u.c(),dt(u,1),u.m(o.parentNode,o)):u&&(ht(),pt(u,1,1,()=>{u=null}),ft())},i(t){a||(dt(n.$$.fragment,t),dt(s),dt(u),a=!0)},o(t){pt(n.$$.fragment,t),pt(s),pt(u),a=!1},d(t){t&&_(e),_t(n),t&&_(r),s&&s.d(t),t&&_(i),u&&u.d(t),t&&_(o)}}}_c=L.Marker.prototype._initIcon,kc=L.Marker.prototype._setPos,xc="msTransform"===L.DomUtil.TRANSFORM,L.Marker.addInitHook((function(){var t=this.options.icon&&this.options.icon.options&&this.options.icon.options.iconAnchor;t&&(t=t[0]+"px "+t[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||t||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",(function(t){t.target._applyRotation()}))})),L.Marker.include({_initIcon:function(){_c.call(this)},_setPos:function(t){kc.call(this,t),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,xc?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(t){return this.options.rotationAngle=t,this.update(),this},setRotationOrigin:function(t){return this.options.rotationOrigin=t,this.update(),this}});const Ol=t=>t.orderBy("time");function Rl(t,e,n){const r=H();let i,o,a,s,{params:u={}}=e,c=$s.ref();function l(t){o||(n(3,a=t),n(2,o=!0)),setTimeout(()=>{n(2,o=!1)},5e3)}le.auth().onAuthStateChanged((function(t){t?n(1,i=t):console.log("no user login")}));let h,f,d,p=0,m="",v="Заголовок",g="Описание",y=t=>t.orderBy("desc").limit(1);function b(t){n(12,y=e=>e.orderBy("desc").startAfter(t.desc).limit(1))}let w=t=>t.orderBy("date","desc").limit(3);function _(t){n(13,w=e=>e.orderBy("date","desc").startAfter(t.date).limit(3))}function k(t,e){t.stopPropagation(),t.preventDefault();let r=t.target.files[0],i={contentType:r.type};c.child(`users/${e}/service/${u.id}/${r.name}`).put(r,i).then((function(t){t.ref.getDownloadURL().then((function(t){console.log("File available at",t),n(9,d=t)}))})).catch((function(t){console.error("Upload failed:",t)}))}!function(){let t=[];Fs.collection(`services/${u.id}/reviews`).get().then((function(e){e.forEach((function(e){let n=e.data();t.push(n.rating)}));let r=t.reduce((t,e)=>t+e,0)/t.length;n(4,s=Math.trunc(10*r)/10)}))}();let x,E,I,T,S="";function C(t){x=t,n(15,E=!0)}function A(){S.length>15?Fs.collection(`services/${u.id}/reviews/${x}/reply`).add({date:le.firestore.FieldValue.serverTimestamp(),text:S,owner:i.uid,username:i.displayName}).then((function(){n(15,E=!1),n(14,S=""),l("Спасибо, ответ добавлен!")})).catch((function(t){console.error("Error updating document: ",t)})):l("Слишком короткий ответ!")}let P,M,N,L,O,R,B,D,j=u.date?u.date:null,U=!!u.records;return t.$$set=t=>{"params"in t&&n(0,u=t.params)},[u,i,o,a,s,p,m,h,f,d,v,g,y,w,S,E,I,T,j,U,P,M,N,L,O,R,B,D,r,l,b,_,k,function(){null!=d&&Fs.collection(`services/${u.id}/adblocks`).add({imgURL:d,title:v,desc:g,owner:i.uid}).then((function(){l("Рекламный блок добавлен! Обновите страницу."),n(7,h=!1),n(8,f=!1),n(9,d=null),n(10,v="Заголовок"),n(11,g="Описание")})).catch((function(t){console.error("Error updating document: ",t)}))},function(){if(m.length>15){Fs.collection(`services/${u.id}/reviews`).where("owner","==",i.uid).get().then((function(t){t.empty?Fs.collection(`services/${u.id}/reviews`).add({date:le.firestore.FieldValue.serverTimestamp(),text:m,rating:p,owner:i.uid,username:i.displayName}).then((function(){n(5,p=0),n(6,m=""),l("Спасибо, отзыв добавлен!")})).catch((function(t){console.error("Error updating document: ",t)})):l("Отзыв можно оставить после оплаты услуг сервиса, но только один отзыв разрешается написать без оплаты.")})).catch((function(t){console.log("Error getting documents: ",t)}))}else l("Слишком короткий отзыв!")},C,A,function(){O&&R&&B&&null!=D?Fs.collection(`services/${u.id}/records`).add({clientname:i.displayName,clientUID:i.uid,subservice:O,date:R,time:B,desc:D}).then((function(t){n(20,P=!1),l("Вы записаны, ждите ответа мастера.")})).catch((function(t){l("Ошибка.")})):l("Заполните все поля.")},()=>n(7,h=!h),()=>n(19,U=!U),()=>n(21,M=!M),t=>t.update({reception:!1}),t=>t.update({reception:!0}),()=>n(22,N=!N),function(){L=this.value,n(23,L)},t=>t.update({subServices:le.firestore.FieldValue.arrayUnion(L)}).then(()=>l("Услуга добавлена.")),()=>n(8,f=!f),(t,e)=>k(e,t.uid),function(){v=this.value,n(10,v)},function(){g=this.value,n(11,g)},t=>t.ref.delete(),t=>b(t),()=>n(5,p=1),()=>n(5,p=1),()=>n(5,p=2),()=>n(5,p=2),()=>n(5,p=3),()=>n(5,p=3),()=>n(5,p=4),()=>n(5,p=4),()=>n(5,p=5),()=>n(5,p=5),function(){m=this.value,n(6,m)},t=>C(t.id),t=>_(t),()=>n(20,P=!0),()=>r("close"),t=>n(24,O=t.target.value),function(){R=this.value,n(25,R)},function(){B=this.value,n(26,B)},function(){D=this.value,n(27,D)},()=>n(20,P=!1),function(){j=this.value,n(18,j)},()=>n(17,T=!T),function(){I=this.value,n(16,I)},t=>t.ref.update({time:I}).then(l("Время изменено.")),t=>t.ref.update({confirmed:!0}).then(l("Принято.")),t=>t.ref.delete().then(l("Отменено.")),()=>n(19,U=!1),function(){S=this.value,n(14,S)},()=>n(15,E=!1),()=>A(),()=>n(2,o=!1)]}class Bl extends xt{constructor(t){super(),kt(this,t,Rl,Ll,s,{params:0},[-1,-1,-1,-1])}}function Dl(t,e,n){const r=t.slice();return r[12]=e[n],r}function jl(e){let n;return{c(){n=x("p"),n.textContent="У вас нет зарегистрированных машин, для регистрации спецтехники зайдите в свой профиль."},m(t,e){w(t,n,e)},p:t,d(t){t&&_(n)}}}function Ul(t){let e,n=t[11],r=[];for(let e=0;e<n.length;e+=1)r[e]=zl(Dl(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(2054&i){let o;for(n=t[11],o=0;o<n.length;o+=1){const a=Dl(t,n,o);r[o]?r[o].p(a,i):(r[o]=zl(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&_(e)}}}function Fl(t){let e,n,r,i,o;function a(){return t[8](t[12])}return{c(){e=x("i"),e.textContent="Отдыхает ...",n=I(),r=x("button"),r.textContent="На линию",C(r,"class","btn-green")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"click",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function $l(t){let e,n,r,i,o;function a(){return t[7](t[12])}return{c(){e=x("i"),e.textContent="На линии ...",n=I(),r=x("button"),r.textContent="Завершить",C(r,"class","btn-orange")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"click",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function zl(t){let e,n,r,i,o,a,s,u=t[12].model+"";function c(t,e){return t[12].online?$l:Fl}let l=c(t),h=l(t);return{c(){e=x("div"),n=x("div"),r=x("span"),i=E(u),o=I(),a=x("div"),h.c(),s=I(),C(r,"class"," text-teal-500"),C(e,"class","flex flex-row justify-around items-center")},m(t,u){w(t,e,u),b(e,n),b(n,r),b(r,i),b(e,o),b(e,a),h.m(a,null),b(e,s)},p(t,e){2048&e&&u!==(u=t[12].model+"")&&P(i,u),l===(l=c(t))&&h?h.p(t,e):(h.d(1),h=l(t),h&&(h.c(),h.m(a,null)))},d(t){t&&_(e),h.d()}}}function Vl(t){let e;return{c(){e=x("span"),e.textContent="Не удалось загрузить...",C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function ql(t){let e;function n(t,e){return t[11].length>0?Ul:jl}let r=n(t),i=r(t);return{c(){i.c(),e=I()},m(t,n){i.m(t,n),w(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&_(e)}}}function Hl(t){let e,n,r,i,o,a,s,u,c;return a=new Gu({props:{path:"rentalCars",query:function(...e){return t[9](t[10],...e)},$$slots:{default:[ql,({data:t})=>({11:t}),({data:t})=>t?2048:0],fallback:[Vl,({data:t})=>({11:t}),({data:t})=>t?2048:0]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("span"),r=x("img"),o=I(),bt(a.$$.fragment),r.src!==(i="./icons/close.svg")&&C(r,"src","./icons/close.svg"),C(r,"alt","x"),C(n,"class","float-right")},m(i,l){w(i,e,l),b(e,n),b(n,r),w(i,o,l),wt(a,i,l),s=!0,u||(c=S(r,"click",t[6]),u=!0)},p(e,n){t=e;const r={};34816&n&&(r.$$scope={dirty:n,ctx:t}),a.$set(r)},i(t){s||(dt(a.$$.fragment,t),s=!0)},o(t){pt(a.$$.fragment,t),s=!1},d(t){t&&_(e),t&&_(o),_t(a,t),u=!1,c()}}}function Gl(t){let e,n;return e=new lu({props:{$$slots:{default:[Hl,({user:t})=>({10:t}),({user:t})=>t?1024:0]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};32768&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Wl(t){let e,n,r;return n=new Hs({props:{firebase:le,$$slots:{default:[Gl]},$$scope:{ctx:t}}}),{c(){e=x("div"),bt(n.$$.fragment),C(e,"class","p-2")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,[e]){const r={};32768&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Kl(t,e,n){let{region:r}=e,{city:i}=e,{latlng:o}=e;const a=H();function s(t){t.update({online:!0,location:[o.lat,o.lng],region:r,city:i}).then((function(){a("alert",{message:"Вы на линии (отмечены на карте)"})})).catch((function(t){a("alert",{message:"Ошибка: "+t})}))}function u(t){t.update({online:!1}).then((function(){a("alert",{message:"Работа завершена."})})).catch((function(t){a("alert",{message:"Ошибка: "+t})}))}return t.$$set=t=>{"region"in t&&n(3,r=t.region),"city"in t&&n(4,i=t.city),"latlng"in t&&n(5,o=t.latlng)},[a,s,u,r,i,o,()=>a("close"),t=>u(t.ref),t=>s(t.ref),(t,e)=>e.where("owner","==",t.uid)]}class Zl extends xt{constructor(t){super(),kt(this,t,Kl,Wl,s,{region:3,city:4,latlng:5})}}function Xl(t,e,n){const r=t.slice();return r[20]=e[n],r}function Jl(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,S,A,M,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K=t[20].address+"",Z=t[20].routes+"",X=t[20].desc+"",J=t[20].price+"",Y=t[20].paymentMethod+"",Q=t[20].setDriver==t[17].uid&&1!=t[20].completed&&Yl(),tt=t[20].childSeat&&Ql(),et=null==t[20].completed&&th(t),nt=t[20].setDriver==t[17].uid&&1!=t[20].driverArrived?rh(t):void 0,rt=t[20].onway&&1!=t[20].completed&&ih(t),it=t[20].completed&&oh();return{c(){e=x("li"),n=x("div"),Q&&Q.c(),r=I(),i=x("p"),o=x("span"),o.textContent="Откуда:",a=I(),s=E(K),u=I(),c=x("p"),l=x("span"),l.textContent="Куда:",h=I(),f=E(Z),d=I(),p=x("p"),m=x("span"),m.textContent="Примечание:",v=I(),g=E(X),y=I(),tt&&tt.c(),k=I(),T=x("p"),S=x("span"),A=E("Цена:  "),M=E(J),N=E(" руб."),L=I(),O=x("p"),R=x("span"),B=E("Способ оплаты:  "),D=E(Y),j=I(),et&&et.c(),U=I(),F=x("hr"),$=I(),z=x("div"),nt&&nt.c(),V=I(),rt&&rt.c(),q=I(),it&&it.c(),H=I(),G=x("hr"),W=I(),C(o,"class","font-semibold"),C(l,"class","font-semibold"),C(m,"class","font-semibold"),C(S,"class","font-semibold text-orange-500"),C(R,"class","font-semibold text-green-500"),C(n,"class","mt-2 text-sm"),C(z,"class","my-2 flex flex-row justify-around")},m(t,_){w(t,e,_),b(e,n),Q&&Q.m(n,null),b(n,r),b(n,i),b(i,o),b(i,a),b(i,s),b(n,u),b(n,c),b(c,l),b(c,h),b(c,f),b(n,d),b(n,p),b(p,m),b(p,v),b(p,g),b(n,y),tt&&tt.m(n,null),b(n,k),b(n,T),b(T,S),b(S,A),b(S,M),b(S,N),b(n,L),b(n,O),b(O,R),b(R,B),b(R,D),b(e,j),et&&et.m(e,null),b(e,U),b(e,F),b(e,$),b(e,z),nt&&nt.m(z,null),b(z,V),rt&&rt.m(z,null),b(e,q),it&&it.m(e,null),b(e,H),b(e,G),b(e,W)},p(t,i){t[20].setDriver==t[17].uid&&1!=t[20].completed?Q||(Q=Yl(),Q.c(),Q.m(n,r)):Q&&(Q.d(1),Q=null),262144&i&&K!==(K=t[20].address+"")&&P(s,K),262144&i&&Z!==(Z=t[20].routes+"")&&P(f,Z),262144&i&&X!==(X=t[20].desc+"")&&P(g,X),t[20].childSeat?tt||(tt=Ql(),tt.c(),tt.m(n,k)):tt&&(tt.d(1),tt=null),262144&i&&J!==(J=t[20].price+"")&&P(M,J),262144&i&&Y!==(Y=t[20].paymentMethod+"")&&P(D,Y),null==t[20].completed?et?et.p(t,i):(et=th(t),et.c(),et.m(e,U)):et&&(et.d(1),et=null),t[20].setDriver==t[17].uid&&1!=t[20].driverArrived?nt?nt.p(t,i):(nt=rh(t),nt.c(),nt.m(z,V)):nt&&(nt.d(1),nt=null),t[20].onway&&1!=t[20].completed?rt?rt.p(t,i):(rt=ih(t),rt.c(),rt.m(z,null)):rt&&(rt.d(1),rt=null),t[20].completed?it||(it=oh(),it.c(),it.m(e,H)):it&&(it.d(1),it=null)},d(t){t&&_(e),Q&&Q.d(),tt&&tt.d(),et&&et.d(),nt&&nt.d(),rt&&rt.d(),it&&it.d()}}}function Yl(t){let e;return{c(){e=x("p"),e.textContent="Заказ принят! Направляйтесь к клиенту!",C(e,"class"," font-semibold text-lg text-green-600")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Ql(t){let e;return{c(){e=x("p"),e.innerHTML='<span class="font-semibold text-red-600">Детское кресло!</span>'},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function th(t){let e,n,r,i,o,s,u,c,l,h,f,d,p,m;function v(t,e){return t[20].setDriver?nh:eh}let g=v(t),y=g(t);return{c(){e=x("div"),n=x("div"),r=x("button"),r.innerHTML='<img class="w-8 h-8" src="./icons/place.svg" alt="placeMarker"/>',i=I(),o=x("div"),s=x("button"),u=x("a"),c=x("img"),f=I(),d=x("div"),y.c(),C(r,"class","order-btn bg-teal-400 svelte-1hsoolj"),C(c,"class","w-8 h-8"),c.src!==(l="./icons/phone.svg")&&C(c,"src","./icons/phone.svg"),C(c,"alt","placeMarker"),C(u,"href",h="tel:"+t[20].phone),C(s,"class","order-btn bg-green-400 svelte-1hsoolj"),C(e,"class","mt-3 mb-2 text-center flex flex-row justify-around")},m(l,h){w(l,e,h),b(e,n),b(n,r),b(e,i),b(e,o),b(o,s),b(s,u),b(u,c),b(e,f),b(e,d),y.m(d,null),p||(m=S(r,"click",(function(){a(t[5](t[19].path,t[20]))&&t[5](t[19].path,t[20]).apply(this,arguments)})),p=!0)},p(e,n){t=e,262144&n&&h!==(h="tel:"+t[20].phone)&&C(u,"href",h),g===(g=v(t))&&y?y.p(t,n):(y.d(1),y=g(t),y&&(y.c(),y.m(d,null)))},d(t){t&&_(e),y.d(),p=!1,m()}}}function eh(t){let e,n,r;return{c(){e=x("button"),e.innerHTML='<img class="w-8 h-8" src="./icons/check.svg" alt="getOrder"/>',C(e,"class","order-btn bg-white svelte-1hsoolj")},m(i,o){w(i,e,o),n||(r=S(e,"click",(function(){a(t[6](t[19].path,t[20],t[17].uid))&&t[6](t[19].path,t[20],t[17].uid).apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function nh(t){let e,n,r;return{c(){e=x("button"),e.innerHTML='<img class="w-8 h-8" src="./icons/close_white.svg" alt="getOrder"/>',C(e,"class","order-btn bg-red-500 svelte-1hsoolj")},m(i,o){w(i,e,o),n||(r=S(e,"click",(function(){a(t[7](t[19].path,t[20],t[17].uid))&&t[7](t[19].path,t[20],t[17].uid).apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function rh(t){let e,n,r,i;return{c(){e=x("div"),n=x("button"),n.textContent="На месте",C(n,"class","btn-orange"),C(e,"class"," text-center")},m(o,s){w(o,e,s),b(e,n),r||(i=S(n,"click",(function(){a(t[8](t[19].path,t[20],t[17].uid))&&t[8](t[19].path,t[20],t[17].uid).apply(this,arguments)})),r=!0)},p(e,n){t=e},d(t){t&&_(e),r=!1,i()}}}function ih(t){let e,n,r,i;return{c(){e=x("div"),n=x("button"),n.textContent="Завершить",C(n,"class"," text-white bg-red-600"),C(e,"class"," text-center")},m(o,s){w(o,e,s),b(e,n),r||(i=S(n,"click",(function(){a(t[9](t[19].path,t[20],t[17].uid))&&t[9](t[19].path,t[20],t[17].uid).apply(this,arguments)}),{once:!0}),r=!0)},p(e,n){t=e},d(t){t&&_(e),r=!1,i()}}}function oh(t){let e;return{c(){e=x("p"),e.textContent="Заказ завершен. Баланс обновится через несколько минут.",C(e,"class"," text-gray-700")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function ah(t){let e,n=1!=t[20].payed&&Jl(t);return{c(){n&&n.c(),e=T()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){1!=t[20].payed?n?n.p(t,r):(n=Jl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&_(e)}}}function sh(t){let e;return{c(){e=x("div"),e.innerHTML='<div class="p-2 ml-20 rounded-lg bg-gray-100 shadow-lg">Загрузка...</div>',C(e,"slot","loading")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function uh(t){let e;return{c(){e=x("div"),e.innerHTML='<div class="p-2 ml-20 rounded-lg bg-gray-100 shadow-lg">Невозможно загрузить данные...</div>',C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function ch(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,E,T;function A(){return t[11](t[17])}function P(){return t[12](t[17])}function M(){return t[13](t[17])}let N=t[18],L=[];for(let e=0;e<N.length;e+=1)L[e]=ah(Xl(t,N,e));return{c(){e=x("div"),n=x("div"),r=x("div"),i=x("button"),i.textContent="Выйти на линию",a=I(),s=x("button"),s.textContent="Закончить работу",u=I(),c=x("button"),c.textContent="Отметиться на карте",l=I(),h=x("p"),h.textContent="Текущие заказы:",f=I(),d=x("hr"),p=I(),m=x("div"),v=x("ul");for(let t=0;t<L.length;t+=1)L[t].c();g=I(),y=I(),C(i,"class","p-1 bg-green-500 text-sm text-white rounded shadow"),C(s,"class","p-1 mt-1 bg-red-500 text-sm text-white rounded shadow"),C(c,"class","p-1 mt-1 bg-orange-500 text-sm text-white rounded shadow"),C(r,"class"," text-center"),C(h,"class","mt-3 font-semibold text-center"),C(m,"class"," h-80 overflow-y-auto"),C(n,"class","p-2 bg-gray-100 rounded-lg shadow-lg h-auto w-full"),C(e,"class","taxi-orders-container z-0 fixed ml-12 mr-2")},m(t,o){w(t,e,o),b(e,n),b(n,r),b(r,i),b(r,a),b(r,s),b(r,u),b(r,c),b(n,l),b(n,h),b(n,f),b(n,d),b(n,p),b(n,m),b(m,v);for(let t=0;t<L.length;t+=1)L[t].m(v,null);w(t,g,o),w(t,y,o),E||(T=[S(i,"click",A),S(s,"click",P),S(c,"click",M)],E=!0)},p(e,n){if(t=e,918496&n){let e;for(N=t[18],e=0;e<N.length;e+=1){const r=Xl(t,N,e);L[e]?L[e].p(r,n):(L[e]=ah(r),L[e].c(),L[e].m(v,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=N.length}},d(t){t&&_(e),k(L,t),t&&_(g),t&&_(y),E=!1,o(T)}}}function lh(t){let e,n;return e=new Gu({props:{path:`taxiOrders/region/${t[0]}/city/${t[1]}`,query:ph,$$slots:{default:[ch,({data:t,ref:e})=>({18:t,19:e}),({data:t,ref:e})=>(t?262144:0)|(e?524288:0)],fallback:[uh,({data:t,ref:e})=>({18:t,19:e}),({data:t,ref:e})=>(t?262144:0)|(e?524288:0)],loading:[sh,({data:t,ref:e})=>({18:t,19:e}),({data:t,ref:e})=>(t?262144:0)|(e?524288:0)]},$$scope:{ctx:t}}}),e.$on("data",dh),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};3&n&&(r.path=`taxiOrders/region/${t[0]}/city/${t[1]}`),9306112&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function hh(t){let e,n;return e=new lu({props:{$$slots:{default:[lh,({user:t})=>({17:t}),({user:t})=>t?131072:0]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};8519683&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function fh(t){let e,n;return e=new Hs({props:{firebase:le,$$slots:{default:[hh]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,[n]){const r={};8388611&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function dh(){new Audio("./sounds/notification.mp3").play()}const ph=t=>t.orderBy("date").limit(10);function mh(t,e,n){let{latlng:r}=e,{region:i}=e,{city:o}=e;const a=H();function s(t){Fs.collection("taxiDrivers").doc(t).update({online:!0}).then((function(){alert("Вы на линии. Удачи!")})).catch((function(t){console.error("Error updating document: ",t)}))}function u(t){Fs.collection("taxiDrivers").doc(t).update({online:!1}).then((function(){alert("Работа завершена! Спасибо!")})).catch((function(t){console.error("Error updating document: ",t)}))}function c(t){Fs.collection("taxiDrivers").doc(t).update({location:[r.lat,r.lng]}).then((function(){alert("Вы отмечены на карте! Ожидайте клиентов!")})).catch((function(t){console.error("Error updating document: ",t)}))}let l=le.functions().httpsCallable("completeTaxiOrder");return t.$$set=t=>{"latlng"in t&&n(10,r=t.latlng),"region"in t&&n(0,i=t.region),"city"in t&&n(1,o=t.city)},[i,o,s,u,c,function(t,e){a("lookOrderPlace",{location:e.location})},function(t,e,n){let r=Fs.collection(t).doc(e.id);Fs.runTransaction((function(t){return t.get(r).then((function(e){if(!e.exists)throw"Document does not exist!";let i=e.data().setDriver;return i=n,i==n?(t.update(r,{setDriver:n,active:!1}),i):Promise.reject("Ошибка!")}))})).then((function(t){new Audio("./sounds/sms-alert.mp3").play()})).catch((function(t){console.error(t)}))},function(t,e,n){Fs.collection(t).doc(e.id).update({active:!0,setDriver:le.firestore.FieldValue.delete()})},function(t,e,n){a("driverArrived",{order:e,ref:t})},function(t,e,n){let r=Fs.collection(t).doc(e.id);"Автокарта"===e.paymentMethod?(r.update({completed:!0}),function(t,e,n,r){l({orderRef:t,orderID:e,clientUID:n,price:r}).then((function(t){console.log("completeTaxiOrder",t)})).catch((function(t){console.log(t.code,t.message,t.details)}))}(t,e.id,e.clientUID,e.price)):r.update({completed:!0,payed:!0})},r,t=>s(t.uid),t=>u(t.uid),t=>c(t.uid)]}class vh extends xt{constructor(t){super(),kt(this,t,mh,fh,s,{latlng:10,region:0,city:1})}}function gh(t,e,n){const r=t.slice();return r[32]=e[n],r}function yh(t){let e;return{c(){e=x("div"),e.innerHTML='<p class="text-center italic">Заказов нет</p>'},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function bh(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,S,A,M,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J=t[32].address+"",Y=t[32].routes+"",Q=t[32].desc+"",tt=t[32].price+"",et=t[32].paymentMethod+"",nt=t[32].setDriver&&1!=t[32].onway&&wh(t),rt=t[32].driverArrived&&1!=t[32].onway&&kh(),it=t[32].driverArrived&&1!=t[32].accepted&&xh(t),ot=t[32].accepted&&1!=t[32].onway&&Eh(t),at=1!=t[32].driverArrived&&Ih(t),st=t[32].completed&&null==t[32].rating&&Th(t);return{c(){e=x("div"),n=x("div"),nt&&nt.c(),r=I(),rt&&rt.c(),i=I(),it&&it.c(),o=I(),ot&&ot.c(),a=I(),s=x("div"),u=x("p"),c=x("span"),c.textContent="Откуда:",l=I(),h=E(J),f=I(),d=x("p"),p=x("span"),p.textContent="Куда:",m=I(),v=E(Y),g=I(),y=x("p"),k=x("span"),k.textContent="Примечание:",T=I(),S=E(Q),A=I(),M=x("p"),N=x("span"),L=E("Цена:  "),O=E(tt),R=E(" руб."),B=I(),D=x("p"),j=x("span"),U=E("Способ оплаты:  "),F=E(et),$=I(),z=x("div"),at&&at.c(),V=I(),q=x("hr"),H=I(),G=x("div"),st&&st.c(),W=I(),K=x("hr"),Z=I(),C(c,"class","font-semibold"),C(p,"class","font-semibold"),C(k,"class","font-semibold"),C(N,"class","font-semibold text-orange-600"),C(j,"class","font-semibold text-green-500"),C(s,"class","mt-2"),C(n,"class","mt-2 text-sm"),C(z,"class","mt-2 mb-2 text-center"),C(G,"class","my-2 text-center")},m(t,_){w(t,e,_),b(e,n),nt&&nt.m(n,null),b(n,r),rt&&rt.m(n,null),b(n,i),it&&it.m(n,null),b(n,o),ot&&ot.m(n,null),b(n,a),b(n,s),b(s,u),b(u,c),b(u,l),b(u,h),b(s,f),b(s,d),b(d,p),b(d,m),b(d,v),b(s,g),b(s,y),b(y,k),b(y,T),b(y,S),b(s,A),b(s,M),b(M,N),b(N,L),b(N,O),b(N,R),b(s,B),b(s,D),b(D,j),b(j,U),b(j,F),b(e,$),b(e,z),at&&at.m(z,null),b(e,V),b(e,q),b(e,H),b(e,G),st&&st.m(G,null),b(G,W),b(G,K),b(e,Z),X=!0},p(t,e){t[32].setDriver&&1!=t[32].onway?nt?(nt.p(t,e),1073741824&e[0]&&dt(nt,1)):(nt=wh(t),nt.c(),dt(nt,1),nt.m(n,r)):nt&&(ht(),pt(nt,1,1,()=>{nt=null}),ft()),t[32].driverArrived&&1!=t[32].onway?rt?rt.p(t,e):(rt=kh(),rt.c(),rt.m(n,i)):rt&&(rt.d(1),rt=null),t[32].driverArrived&&1!=t[32].accepted?it?it.p(t,e):(it=xh(t),it.c(),it.m(n,o)):it&&(it.d(1),it=null),t[32].accepted&&1!=t[32].onway?ot?ot.p(t,e):(ot=Eh(t),ot.c(),ot.m(n,a)):ot&&(ot.d(1),ot=null),(!X||1073741824&e[0])&&J!==(J=t[32].address+"")&&P(h,J),(!X||1073741824&e[0])&&Y!==(Y=t[32].routes+"")&&P(v,Y),(!X||1073741824&e[0])&&Q!==(Q=t[32].desc+"")&&P(S,Q),(!X||1073741824&e[0])&&tt!==(tt=t[32].price+"")&&P(O,tt),(!X||1073741824&e[0])&&et!==(et=t[32].paymentMethod+"")&&P(F,et),1!=t[32].driverArrived?at?at.p(t,e):(at=Ih(t),at.c(),at.m(z,null)):at&&(at.d(1),at=null),t[32].completed&&null==t[32].rating?st?st.p(t,e):(st=Th(t),st.c(),st.m(G,W)):st&&(st.d(1),st=null)},i(t){X||(dt(nt),X=!0)},o(t){pt(nt),X=!1},d(t){t&&_(e),nt&&nt.d(),rt&&rt.d(),it&&it.d(),ot&&ot.d(),at&&at.d(),st&&st.d()}}}function wh(t){let e,n;return e=new Pu({props:{path:"taxiDrivers/"+t[32].setDriver,$$slots:{default:[_h,({data:t})=>({35:t}),({data:t})=>[0,t?16:0]]},$$scope:{ctx:t}}}),e.$on("data",Vh),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};1073741824&n[0]&&(r.path="taxiDrivers/"+t[32].setDriver),1073741824&n[0]|48&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function _h(t){let e,n,r,i,o,s,u,c,l,h,f,d,p,m,v,g,y,k,T,A,M,N,L,O,R,B,D,j,U,F,$,z=t[35].name+"",V=t[35].lastName+"",q=t[35].carBrand+"",H=t[35].carNumber+"";return{c(){e=x("div"),n=x("p"),r=x("span"),r.textContent="Заказ принял:",i=I(),o=E(z),s=I(),u=E(V),c=I(),l=x("p"),h=x("span"),h.textContent="Автомобиль:",f=I(),d=E(q),p=I(),m=E(H),v=I(),g=x("div"),y=x("img"),T=I(),A=x("div"),M=x("div"),N=x("button"),N.innerHTML='<img class="w-8 h-8" src="./icons/place.svg" alt="placeMarker"/>',L=I(),O=x("div"),R=x("button"),B=x("a"),D=x("img"),C(r,"class"," font-normal text-gray-800"),C(n,"class","font-semibold text-base text-green-700"),C(h,"class"," font-normal text-gray-800"),C(l,"class","font-semibold text-base text-orange-600"),C(y,"class","w-full h-32 object-cover object-none object-center"),y.src!==(k=t[35].driverAuto.frontside)&&C(y,"src",k),C(y,"alt","auto"),C(g,"class","mt-2 content-center"),C(N,"class","order-btn bg-teal-400 svelte-2mpae6"),C(D,"class","w-8 h-8"),D.src!==(j="./icons/phone.svg")&&C(D,"src","./icons/phone.svg"),C(D,"alt","phone"),C(B,"href",U="tel:"+t[35].phone),C(B,"alt","phone"),C(R,"class","order-btn ml-4 bg-green-400 svelte-2mpae6"),C(A,"class","mt-2 flex flex-row justify-around")},m(_,k){w(_,e,k),b(e,n),b(n,r),b(n,i),b(n,o),b(n,s),b(n,u),b(e,c),b(e,l),b(l,h),b(l,f),b(l,d),b(l,p),b(l,m),b(e,v),b(e,g),b(g,y),b(e,T),b(e,A),b(A,M),b(M,N),b(A,L),b(A,O),b(O,R),b(R,B),b(B,D),F||($=S(N,"click",(function(){a(t[6](t[32].setDriver))&&t[6](t[32].setDriver).apply(this,arguments)})),F=!0)},p(e,n){t=e,16&n[1]&&z!==(z=t[35].name+"")&&P(o,z),16&n[1]&&V!==(V=t[35].lastName+"")&&P(u,V),16&n[1]&&q!==(q=t[35].carBrand+"")&&P(d,q),16&n[1]&&H!==(H=t[35].carNumber+"")&&P(m,H),16&n[1]&&y.src!==(k=t[35].driverAuto.frontside)&&C(y,"src",k),16&n[1]&&U!==(U="tel:"+t[35].phone)&&C(B,"href",U)},d(t){t&&_(e),F=!1,$()}}}function kh(e){let n,r,i;return{c(){n=x("p"),n.textContent="Водитель подъехал и ждёт вас!",C(n,"class","mt-4 font-semibold text-orange-600 text-lg text-center")},m(t,e){w(t,n,e),r||(i=S(n,"load",Vh()),r=!0)},p:t,d(t){t&&_(n),r=!1,i()}}}function xh(t){let e,n,r,i;return{c(){e=x("p"),n=x("button"),n.textContent="Выхожу",C(n,"class","btn-orange"),C(e,"class","text-center")},m(o,s){w(o,e,s),b(e,n),r||(i=S(n,"click",(function(){a(t[7](t[31].path,t[32]))&&t[7](t[31].path,t[32]).apply(this,arguments)})),r=!0)},p(e,n){t=e},d(t){t&&_(e),r=!1,i()}}}function Eh(t){let e,n,r,i;function o(){return t[10](t[32])}return{c(){e=x("p"),n=x("button"),n.textContent="Поехали",C(n,"class","btn-green"),C(e,"class","text-center")},m(t,a){w(t,e,a),b(e,n),r||(i=S(n,"click",o),r=!0)},p(e,n){t=e},d(t){t&&_(e),r=!1,i()}}}function Ih(t){let e,n,r;return{c(){e=x("button"),e.textContent="Отменить заказ",C(e,"class","px-2 text-white bg-red-600 shadow-lg")},m(i,o){w(i,e,o),n||(r=S(e,"click",(function(){a(t[5](t[31].path,t[32]))&&t[5](t[31].path,t[32]).apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function Th(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g;function y(t,e){return t[3]>=1?Ch:Sh}let k=y(t),E=k(t);function T(t,e){return t[3]>=2?Ph:Ah}let A=T(t),P=A(t);function N(t,e){return t[3]>=3?Nh:Mh}let L=N(t),O=L(t);function R(t,e){return t[3]>=4?Oh:Lh}let B=R(t),D=B(t);function j(t,e){return 5==t[3]?Bh:Rh}let U=j(t),F=U(t);function $(){return t[22](t[31],t[32])}return{c(){e=x("p"),e.textContent="Оцените поездку:",n=I(),r=x("div"),i=x("div"),E.c(),a=I(),P.c(),s=I(),O.c(),u=I(),D.c(),c=I(),F.c(),l=I(),h=x("div"),f=x("input"),d=I(),p=x("div"),m=x("button"),m.textContent="Отправить",C(e,"class"," font-semibold text-center text-lg"),C(i,"class","star-container svelte-2mpae6"),C(f,"type","text"),C(f,"placeholder","Ваш отзыв"),C(f,"class","border rounded-lg"),C(h,"class","mt-1"),C(m,"class","btn-orange"),C(p,"class","mt-2"),C(r,"class","rating-container svelte-2mpae6")},m(o,y){w(o,e,y),w(o,n,y),w(o,r,y),b(r,i),E.m(i,null),b(i,a),P.m(i,null),b(i,s),O.m(i,null),b(i,u),D.m(i,null),b(i,c),F.m(i,null),b(r,l),b(r,h),b(h,f),M(f,t[2]),b(r,d),b(r,p),b(p,m),v||(g=[S(f,"input",t[21]),S(m,"click",$)],v=!0)},p(e,n){k===(k=y(t=e))&&E?E.p(t,n):(E.d(1),E=k(t),E&&(E.c(),E.m(i,a))),A===(A=T(t))&&P?P.p(t,n):(P.d(1),P=A(t),P&&(P.c(),P.m(i,s))),L===(L=N(t))&&O?O.p(t,n):(O.d(1),O=L(t),O&&(O.c(),O.m(i,u))),B===(B=R(t))&&D?D.p(t,n):(D.d(1),D=B(t),D&&(D.c(),D.m(i,c))),U===(U=j(t))&&F?F.p(t,n):(F.d(1),F=U(t),F&&(F.c(),F.m(i,null))),4&n[0]&&f.value!==t[2]&&M(f,t[2])},d(t){t&&_(e),t&&_(n),t&&_(r),E.d(),P.d(),O.d(),D.d(),F.d(),v=!1,o(g)}}}function Sh(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[12]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Ch(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[11]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Ah(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[14]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Ph(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[13]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Mh(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[16]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Nh(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[15]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Lh(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[18]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Oh(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[17]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Rh(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star_border.svg")&&C(n,"src","./icons/star_border.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[20]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Bh(e){let n,r,i,o;return{c(){n=x("img"),n.src!==(r="./icons/star.svg")&&C(n,"src","./icons/star.svg"),C(n,"alt","star"),C(n,"class","star svelte-2mpae6")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[19]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Dh(t){let e,n,r=!t[32].payed&&bh(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[32].payed?r&&(ht(),pt(r,1,1,()=>{r=null}),ft()):r?(r.p(t,n),1073741824&n[0]&&dt(r,1)):(r=bh(t),r.c(),dt(r,1),r.m(e.parentNode,e))},i(t){n||(dt(r),n=!0)},o(t){pt(r),n=!1},d(t){r&&r.d(t),t&&_(e)}}}function jh(t){let e;return{c(){e=x("div"),e.textContent="Невозможно загрузить данные...",C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Uh(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g=0==t[30].length&&yh(),y=t[30],T=[];for(let e=0;e<y.length;e+=1)T[e]=Dh(gh(t,y,e));const A=t=>pt(T[t],1,1,()=>{T[t]=null});return{c(){e=x("div"),n=x("div"),r=x("p"),i=E("Текущие заказы: \r\n\r\n                        "),o=x("span"),a=x("img"),u=I(),c=x("hr"),l=I(),g&&g.c(),h=I(),f=x("div");for(let t=0;t<T.length;t+=1)T[t].c();d=I(),a.src!==(s="./icons/close.svg")&&C(a,"src","./icons/close.svg"),C(a,"alt","x"),C(a,"class","cursor-pointer"),C(o,"class"," float-right"),C(r,"class","font-semibold text-center"),C(e,"class","w-full")},m(s,y){w(s,e,y),b(e,n),b(n,r),b(r,i),b(r,o),b(o,a),b(n,u),b(n,c),b(e,l),g&&g.m(e,null),b(e,h),b(e,f);for(let t=0;t<T.length;t+=1)T[t].m(f,null);w(s,d,y),p=!0,m||(v=S(a,"click",t[9]),m=!0)},p(t,n){if(0==t[30].length?g||(g=yh(),g.c(),g.m(e,h)):g&&(g.d(1),g=null),1073742316&n[0]|17&n[1]){let e;for(y=t[30],e=0;e<y.length;e+=1){const r=gh(t,y,e);T[e]?(T[e].p(r,n),dt(T[e],1)):(T[e]=Dh(r),T[e].c(),dt(T[e],1),T[e].m(f,null))}for(ht(),e=y.length;e<T.length;e+=1)A(e);ft()}},i(t){if(!p){for(let t=0;t<y.length;t+=1)dt(T[t]);p=!0}},o(t){T=T.filter(Boolean);for(let t=0;t<T.length;t+=1)pt(T[t]);p=!1},d(t){t&&_(e),g&&g.d(),k(T,t),t&&_(d),m=!1,v()}}}function Fh(t){let e,n;return e=new Gu({props:{path:`taxiOrders/region/${t[0]}/city/${t[1]}`,query:function(...e){return t[23](t[29],...e)},$$slots:{default:[Uh,({data:t,ref:e})=>({30:t,31:e}),({data:t,ref:e})=>[t?1073741824:0,e?1:0]],fallback:[jh,({data:t,ref:e})=>({30:t,31:e}),({data:t,ref:e})=>[t?1073741824:0,e?1:0]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(n,r){t=n;const i={};3&r[0]&&(i.path=`taxiOrders/region/${t[0]}/city/${t[1]}`),1073741836&r[0]|33&r[1]&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function $h(t){let e,n;return e=new lu({props:{$$slots:{default:[Fh,({user:t})=>({29:t}),({user:t})=>[t?536870912:0]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};15&n[0]|32&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function zh(t){let e,n,r;return n=new Hs({props:{firebase:le,$$slots:{default:[$h]},$$scope:{ctx:t}}}),{c(){e=x("div"),bt(n.$$.fragment),C(e,"class","p-2 w-full z-0 bg-white")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,e){const r={};15&e[0]|32&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Vh(){new Audio("./sounds/car_horn_beep_x3_short.mp3").play()}function qh(t,e,n){let r,i,{region:o}=e,{city:a}=e;le.auth().onAuthStateChanged((function(t){t||console.log("no user login")}));const s=H();function u(t,e,n){Fs.collection(e).doc(n.id).update({rating:t}).then((function(){Fs.collection(`taxiDrivers/${n.setDriver}/ratings/`).add({date:le.firestore.FieldValue.serverTimestamp(),rating:t,review:r}).then((function(){})).catch((function(t){console.error("Error updating document: ",t)}))})).catch((function(t){console.error("Error updating document: ",t)}))}return t.$$set=t=>{"region"in t&&n(0,o=t.region),"city"in t&&n(1,a=t.city)},[o,a,r,i,s,function(t,e){Fs.collection(t).doc(e.id).delete().then((function(){s("alert",{message:"Заказ отменен!"})})).catch((function(t){console.error("Error removing document: ",t)}))},function(t){Fs.collection("taxiDrivers").doc(t).get({source:"server"}).then((function(t){let e=t.data().location;s("findDriverLocation",{location:e}),s("close")})).catch((function(t){console.log("Error getting document:",t)}))},function(t,e){Fs.collection(t).doc(e.id).update({accepted:!0}).then((function(){!function(t,e){setTimeout((function n(){Fs.collection(t).doc(e.id).get().then((function(r){r.data().onway||(s("checkOnWay",{ref:t,order:e}),setTimeout(n,5e3))}))}),5e3)}(t,e),s("alert",{message:"Водитель оповещён."})})).catch((function(t){console.error("Error updating document: ",t)}))},u,()=>s("close"),t=>t.ref.update({onway:!0}),()=>n(3,i=1),()=>n(3,i=1),()=>n(3,i=2),()=>n(3,i=2),()=>n(3,i=3),()=>n(3,i=3),()=>n(3,i=4),()=>n(3,i=4),()=>n(3,i=5),()=>n(3,i=5),function(){r=this.value,n(2,r)},(t,e)=>u(i,t.path,e),(t,e)=>e.where("clientUID","==",t.uid)]}class Hh extends xt{constructor(t){super(),kt(this,t,qh,zh,s,{region:0,city:1},[-1,-1])}}function Gh(e){let n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,A,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,dt,pt,mt,vt,gt,yt,bt,wt,_t,kt,xt,Et,It=e[0].address+"",Tt=e[0].desc+"",St=e[0].price+"";return{c(){n=x("div"),r=x("p"),r.textContent="Скорректируйте адрес и укажите цену",i=I(),a=x("div"),s=x("label"),s.textContent="Детское кресло:",u=I(),c=x("input"),l=I(),h=x("div"),f=x("label"),f.textContent="Номер мобильного:",d=I(),p=x("input"),m=I(),v=x("div"),g=x("label"),g.textContent="Примечание:",y=I(),k=x("input"),T=I(),A=x("div"),L=x("label"),L.textContent="Пункт назначения:",O=I(),R=x("input"),B=I(),D=x("div"),j=x("label"),j.textContent="Цена в рублях:",U=I(),F=x("input"),$=I(),z=x("div"),V=x("label"),V.textContent="Способ оплаты:",q=I(),H=x("select"),G=x("option"),W=x("option"),W.textContent="Наличные",K=x("option"),K.textContent="Автокарта",Z=x("option"),Z.textContent="Сбербанк-онлайн",X=x("option"),X.textContent="Киви-кошелёк",J=I(),Y=x("div"),Q=x("button"),Q.textContent="Отмена",tt=I(),nt=x("button"),nt.textContent="Оформить заказ",rt=I(),it=x("div"),ot=x("p"),at=x("span"),at.textContent="Текущий адрес:",st=I(),ut=x("span"),ct=E(It),lt=I(),ht=x("p"),ft=x("span"),ft.textContent="Примечание:",dt=I(),pt=x("span"),mt=E(Tt),vt=I(),gt=x("p"),yt=x("span"),yt.textContent="Цена:",bt=I(),wt=x("span"),_t=E(St),kt=E(" руб."),C(r,"class","my-1 text-center font-semibold text-gray-900"),C(c,"type","checkbox"),C(a,"class","mt-3"),C(p,"type","text"),C(p,"placeholder","+71234567890"),C(p,"class","p-1 bg-gray-200 rounded"),C(h,"class","mt-3"),C(k,"type","text"),C(k,"class","p-1 bg-gray-200 rounded"),C(v,"class","mt-2"),C(R,"type","text"),C(R,"class","p-1 bg-gray-200 rounded"),C(A,"class","mt-2"),C(F,"type","text"),C(F,"class","p-1 bg-gray-200 rounded"),C(D,"class","mt-2"),G.__value="false",G.value=G.__value,W.__value="Наличные",W.value=W.__value,K.__value="Автокарта",K.value=K.__value,Z.__value="Сбербанк-онлайн",Z.value=Z.__value,X.__value="Киви-кошелёк",X.value=X.__value,C(H,"class","p-1 bg-white border rounded-lg"),void 0===e[0].paymentMethod&&et(()=>e[14].call(H)),C(z,"class","mt-2"),C(Q,"class","btn-gray"),C(nt,"class","btn-orange"),C(Y,"class","mt-4"),C(at,"class"," font-semibold"),C(ft,"class"," font-semibold"),C(yt,"class"," font-semibold"),C(it,"class","mt-4 text-sm"),C(n,"class","p-2 z-0 w-full bg-white rounded shadow-lg")},m(t,o){w(t,n,o),b(n,r),b(n,i),b(n,a),b(a,s),b(a,u),b(a,c),c.checked=e[0].childSeat,b(n,l),b(n,h),b(h,f),b(h,d),b(h,p),M(p,e[0].phone),b(n,m),b(n,v),b(v,g),b(v,y),b(v,k),M(k,e[0].desc),b(n,T),b(n,A),b(A,L),b(A,O),b(A,R),M(R,e[0].routes),b(n,B),b(n,D),b(D,j),b(D,U),b(D,F),M(F,e[0].price),b(n,$),b(n,z),b(z,V),b(z,q),b(z,H),b(H,G),b(H,W),b(H,K),b(H,Z),b(H,X),N(H,e[0].paymentMethod),b(n,J),b(n,Y),b(Y,Q),b(Y,tt),b(Y,nt),b(n,rt),b(n,it),b(it,ot),b(ot,at),b(ot,st),b(ot,ut),b(ut,ct),b(it,lt),b(it,ht),b(ht,ft),b(ht,dt),b(ht,pt),b(pt,mt),b(it,vt),b(it,gt),b(gt,yt),b(gt,bt),b(gt,wt),b(wt,_t),b(wt,kt),xt||(Et=[S(c,"change",e[9]),S(p,"input",e[10]),S(k,"input",e[11]),S(R,"input",e[12]),S(F,"input",e[13]),S(H,"change",e[14]),S(Q,"click",e[1]),S(nt,"click",e[2])],xt=!0)},p(t,[e]){1&e&&(c.checked=t[0].childSeat),1&e&&p.value!==t[0].phone&&M(p,t[0].phone),1&e&&k.value!==t[0].desc&&M(k,t[0].desc),1&e&&R.value!==t[0].routes&&M(R,t[0].routes),1&e&&F.value!==t[0].price&&M(F,t[0].price),1&e&&N(H,t[0].paymentMethod),1&e&&It!==(It=t[0].address+"")&&P(ct,It),1&e&&Tt!==(Tt=t[0].desc+"")&&P(mt,Tt),1&e&&St!==(St=t[0].price+"")&&P(_t,St)},i:t,o:t,d(t){t&&_(n),xt=!1,o(Et)}}}function Wh(t,e,n){let{address:r}=e,{clientUID:i}=e,{clientName:o}=e,{LatLng:a}=e,{region:s}=e,{city:u}=e,c={date:le.firestore.FieldValue.serverTimestamp(),address:r,location:[a.lat,a.lng],childSeat:!1,phone:"+7",desc:" ",clientUID:i,clientName:o,routes:" ",price:0,paymentMethod:void 0,active:!0};const l=H();return t.$$set=t=>{"address"in t&&n(3,r=t.address),"clientUID"in t&&n(4,i=t.clientUID),"clientName"in t&&n(5,o=t.clientName),"LatLng"in t&&n(6,a=t.LatLng),"region"in t&&n(7,s=t.region),"city"in t&&n(8,u=t.city)},[c,function(){l("closeDialog")},function(){if("Автокарта"===c.paymentMethod){let e;Fs.collection("users").doc(i).get().then((function(n){const r=n.data();e=r.balance,e-c.price<0?(l("alert",{message:"Недостаточно средств."}),l("closeDialog")):t()})).catch((function(t){l("alert",{message:"Ошибка: "+t}),l("closeDialog")}))}else t();function t(){Fs.collection(`taxiOrders/region/${s}/city/${u}`).add(c).then((function(t){l("alert",{message:"Ваш заказ оформлен!"}),l("closeDialog")})).catch((function(t){console.error("Error adding document: ",t)}))}},r,i,o,a,s,u,function(){c.childSeat=this.checked,n(0,c)},function(){c.phone=this.value,n(0,c)},function(){c.desc=this.value,n(0,c)},function(){c.routes=this.value,n(0,c)},function(){c.price=this.value,n(0,c)},function(){c.paymentMethod=O(this),n(0,c)}]}class Kh extends xt{constructor(t){super(),kt(this,t,Wh,Gh,s,{address:3,clientUID:4,clientName:5,LatLng:6,region:7,city:8})}}function Zh(t,e,n){const r=t.slice();return r[15]=e[n],r}function Xh(t){let e;return{c(){e=E(t[1])},m(t,n){w(t,e,n)},p(t,n){2&n&&P(e,t[1])},d(t){t&&_(e)}}}function Jh(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p=t[15].name+"",m=t[15].date.toDate().toLocaleString("ru",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})+"";function v(){return t[6](t[15])}function g(t,e){return t[15].from==t[12].uid?tf:t[15].to==t[12].displayName?Qh:Yh}let y=g(t),k=y(t);return{c(){e=x("li"),n=x("div"),r=x("p"),i=x("span"),o=E(p),a=E(":"),s=I(),u=x("span"),c=E(m),l=I(),k.c(),h=I(),C(i,"class","text-sm font-semibold cursor-pointer"),C(u,"class","text-xs float-right"),C(r,"class","text-gray-500"),C(n,"class","mt-2")},m(t,p){w(t,e,p),b(e,n),b(n,r),b(r,i),b(i,o),b(i,a),b(r,s),b(r,u),b(u,c),b(n,l),k.m(n,null),b(e,h),f||(d=S(i,"click",v),f=!0)},p(e,r){t=e,8192&r&&p!==(p=t[15].name+"")&&P(o,p),8192&r&&m!==(m=t[15].date.toDate().toLocaleString("ru",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})+"")&&P(c,m),y===(y=g(t))&&k?k.p(t,r):(k.d(1),k=y(t),k&&(k.c(),k.m(n,null)))},d(t){t&&_(e),k.d(),f=!1,d()}}}function Yh(t){let e,n,r=t[15].text+"";return{c(){e=x("p"),n=E(r),C(e,"class","message def svelte-c23hf2")},m(t,r){w(t,e,r),b(e,n)},p(t,e){8192&e&&r!==(r=t[15].text+"")&&P(n,r)},d(t){t&&_(e)}}}function Qh(t){let e,n,r=t[15].text+"";return{c(){e=x("p"),n=E(r),C(e,"class","message to-me svelte-c23hf2")},m(t,r){w(t,e,r),b(e,n)},p(t,e){8192&e&&r!==(r=t[15].text+"")&&P(n,r)},d(t){t&&_(e)}}}function tf(t){let e,n,r=t[15].text+"";return{c(){e=x("p"),n=E(r),C(e,"class","message my svelte-c23hf2")},m(t,r){w(t,e,r),b(e,n)},p(t,e){8192&e&&r!==(r=t[15].text+"")&&P(n,r)},d(t){t&&_(e)}}}function ef(t){let e,n=null!=t[15].date?Jh(t):void 0;return{c(){n&&n.c(),e=T()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){null!=t[15].date?n?n.p(t,r):(n=Jh(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&_(e)}}}function nf(t){let e,n=t[13],r=[];for(let e=0;e<n.length;e+=1)r[e]=ef(Zh(t,n,e));return{c(){e=x("ul");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,n){w(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(12304&i){let o;for(n=t[13],o=0;o<n.length;o+=1){const a=Zh(t,n,o);r[o]?r[o].p(a,i):(r[o]=ef(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&_(e),k(r,t)}}}function rf(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k=t[1]!=t[2]&&Xh(t);function T(){return t[8](t[12])}return l=new Gu({props:{path:`chat/region/${t[0]}/city/${t[2]}`,query:sf,$$slots:{default:[nf,({data:t,ref:e})=>({13:t,14:e}),({data:t,ref:e})=>(t?8192:0)|(e?16384:0)]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("div"),r=x("div"),i=E(t[2]),a=I(),k&&k.c(),s=I(),u=x("hr"),c=I(),bt(l.$$.fragment),h=I(),f=x("div"),d=x("input"),p=I(),m=x("button"),m.textContent="Отправить",C(r,"class"," p-1 text-sm"),C(n,"id","messages"),C(n,"class","mt-2 p-2 bg-white border rounded-lg shadow-lg h-80 w-full overflow-y-auto"),C(d,"class","p-1 border bg-white"),C(d,"type","text"),C(m,"class","btn-green"),C(f,"class","mt-1 w-full"),C(e,"class","z-0 fixed ml-12 mr-2")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(r,i),b(r,a),k&&k.m(r,null),b(n,s),b(n,u),b(n,c),wt(l,n,null),b(e,h),b(e,f),b(f,d),M(d,t[3].text),b(f,p),b(f,m),v=!0,g||(y=[S(d,"input",t[7]),S(m,"click",T)],g=!0)},p(e,n){t=e,(!v||4&n)&&P(i,t[2]),t[1]!=t[2]?k?k.p(t,n):(k=Xh(t),k.c(),k.m(r,null)):k&&(k.d(1),k=null);const o={};5&n&&(o.path=`chat/region/${t[0]}/city/${t[2]}`),274448&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o),8&n&&d.value!==t[3].text&&M(d,t[3].text)},i(t){v||(dt(l.$$.fragment,t),v=!0)},o(t){pt(l.$$.fragment,t),v=!1},d(t){t&&_(e),k&&k.d(),_t(l),g=!1,o(y)}}}function of(t){let e,n;return e=new lu({props:{$$slots:{default:[rf,({user:t})=>({12:t}),({user:t})=>t?4096:0]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};266271&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function af(t){let e,n;return e=new Hs({props:{firebase:le,$$slots:{default:[of]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,[n]){const r={};262175&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}const sf=t=>t.orderBy("date","desc").limit(30);function uf(t,e,n){let{region:r}=e,{district:i}=e,{city:o}=e;H();let a,s={date:le.firestore.FieldValue.serverTimestamp(),from:null,name:null,to:"all",text:" "},u="all",c=(new Date).getTime()-1e4;function l(t){a=(new Date).getTime(),a-c>1e4?(n(3,s.from=t.uid,s),n(3,s.name=t.displayName,s),n(3,s.to=u,s),Fs.collection(`chat/region/${r}/city/${o}`).add(s).then((function(t){c=(new Date).getTime(),n(4,u="all")})).catch((function(t){console.error("Error adding document: ",t)}))):alert("Действует ограничение, 1 сообщение/10 секунд.")}return t.$$set=t=>{"region"in t&&n(0,r=t.region),"district"in t&&n(1,i=t.district),"city"in t&&n(2,o=t.city)},[r,i,o,s,u,l,t=>n(4,u=t.name),function(){s.text=this.value,n(3,s)},t=>l(t)]}class cf extends xt{constructor(t){super(),kt(this,t,uf,af,s,{region:0,district:1,city:2})}}function lf(t,e,n){const r=t.slice();return r[25]=e[n],r}function hf(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T,A,P,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z;return{c(){e=x("div"),n=x("div"),n.innerHTML='<p class=" text-center text-white font-semibold">Что случилось?</p>',r=I(),i=x("div"),a=x("p"),a.textContent="На вас напали",s=I(),u=x("input"),c=I(),l=x("input"),h=I(),f=x("button"),f.textContent="Угроза жизни",d=I(),p=x("p"),p.textContent="При нажатии на кнопку с баланса спишется 1000 руб.",m=I(),v=x("div"),g=x("p"),g.textContent="ДТП или требуется медицинская помощь",y=I(),k=x("input"),E=I(),T=x("input"),A=I(),P=x("button"),P.textContent="Мед. помощь",N=I(),L=x("p"),L.textContent="При нажатии на кнопку с баланса спишется 500 руб.",O=I(),R=x("div"),B=x("p"),B.textContent="Требуется техническая помощь (поломка авто)",D=I(),j=x("input"),U=I(),F=x("input"),$=I(),z=x("button"),z.textContent="Тех. помощь",V=I(),q=x("p"),q.textContent="При нажатии на кнопку с баланса спишется 100 руб.",H=I(),G=x("div"),W=x("button"),W.textContent="Отмена",C(n,"class","header"),C(a,"class","m-2 font-semibold"),C(u,"type","text"),C(u,"placeholder","Номер телефона"),C(u,"class","svelte-1edxs34"),C(l,"type","text"),C(l,"placeholder","Опишите проблему"),C(l,"class","svelte-1edxs34"),C(f,"class","m-1 p-1 bg-red-600 text-white"),C(p,"class"," text-sm text-red-600"),C(i,"class","help-block svelte-1edxs34"),C(g,"class","m-2 font-semibold"),C(k,"type","text"),C(k,"placeholder","Номер телефона"),C(k,"class","svelte-1edxs34"),C(T,"type","text"),C(T,"placeholder","Опишите проблему"),C(T,"class","svelte-1edxs34"),C(P,"class","m-1 p-1 bg-red-600 text-white"),C(L,"class"," text-sm text-red-600"),C(v,"class","help-block svelte-1edxs34"),C(B,"class","m-2 font-semibold"),C(j,"type","text"),C(j,"placeholder","Номер телефона"),C(j,"class","svelte-1edxs34"),C(F,"type","text"),C(F,"placeholder","Опишите проблему"),C(F,"class","svelte-1edxs34"),C(z,"class","m-1 p-1 bg-gray-800 text-white"),C(q,"class"," text-sm text-red-600"),C(R,"class","help-block svelte-1edxs34"),C(W,"class","p-1 bg-orange-600 text-white rounded-lg"),C(G,"class","mt-2 text-center")},m(o,_){w(o,e,_),b(e,n),b(e,r),b(e,i),b(i,a),b(i,s),b(i,u),M(u,t[2]),b(i,c),b(i,l),M(l,t[1]),b(i,h),b(i,f),b(i,d),b(i,p),b(e,m),b(e,v),b(v,g),b(v,y),b(v,k),M(k,t[2]),b(v,E),b(v,T),M(T,t[1]),b(v,A),b(v,P),b(v,N),b(v,L),b(e,O),b(e,R),b(R,B),b(R,D),b(R,j),M(j,t[2]),b(R,U),b(R,F),M(F,t[1]),b(R,$),b(R,z),b(R,V),b(R,q),b(e,H),b(e,G),b(G,W),K||(Z=[S(u,"input",t[7]),S(l,"input",t[8]),S(f,"click",t[9]),S(f,"click",t[10]),S(k,"input",t[11]),S(T,"input",t[12]),S(P,"click",t[13]),S(P,"click",t[14]),S(j,"input",t[15]),S(F,"input",t[16]),S(z,"click",t[17]),S(z,"click",t[18]),S(W,"click",t[19])],K=!0)},p(t,e){4&e&&u.value!==t[2]&&M(u,t[2]),2&e&&l.value!==t[1]&&M(l,t[1]),4&e&&k.value!==t[2]&&M(k,t[2]),2&e&&T.value!==t[1]&&M(T,t[1]),4&e&&j.value!==t[2]&&M(j,t[2]),2&e&&F.value!==t[1]&&M(F,t[1])},d(t){t&&_(e),K=!1,o(Z)}}}function ff(t){let e,n=t[23],r=[];for(let e=0;e<n.length;e+=1)r[e]=df(lf(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(8388608&i){let o;for(n=t[23],o=0;o<n.length;o+=1){const a=lf(t,n,o);r[o]?r[o].p(a,i):(r[o]=df(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&_(e)}}}function df(t){let e,n,r,i,o,a,s,u,c,l,h=t[25].message+"";function f(){return t[6](t[25])}return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(h),o=I(),a=x("div"),s=x("button"),s.textContent="Отменить",u=I(),C(a,"class","text-center"),C(e,"class","p-2 bg-white rounded-lg")},m(t,h){w(t,e,h),b(e,n),b(n,r),b(r,i),b(e,o),b(e,a),b(a,s),b(e,u),c||(l=S(s,"click",f),c=!0)},p(e,n){t=e,8388608&n&&h!==(h=t[25].message+"")&&P(i,h)},d(t){t&&_(e),c=!1,l()}}}function pf(t){let e;function n(t,e){return t[23].length>=1?ff:hf}let r=n(t),i=r(t);return{c(){i.c(),e=T()},m(t,n){i.m(t,n),w(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&_(e)}}}function mf(t){let e,n;return e=new Gu({props:{path:"icons/sos/"+t[0],query:function(...e){return t[20](t[22],...e)},$$slots:{default:[pf,({data:t,ref:e})=>({23:t,24:e}),({data:t,ref:e})=>(t?8388608:0)|(e?16777216:0)]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(n,r){t=n;const i={};1&r&&(i.path="icons/sos/"+t[0]),276824070&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function vf(t){let e,n;return e=new lu({props:{$$slots:{default:[mf,({user:t})=>({22:t}),({user:t})=>t?4194304:0]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};268435463&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function gf(t){let e,n,r;return n=new Hs({props:{firebase:le,$$slots:{default:[vf]},$$scope:{ctx:t}}}),{c(){e=x("div"),bt(n.$$.fragment),C(e,"class","p-1 w-full bg-gray-900 rounded-lg shadow-lg")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,[e]){const r={};268435463&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function yf(t,e,n){let{region:r}=e,{getUser:i}=e;const o=H();let a="",s=i.phoneNumber,u=le.functions().httpsCallable("balanceDecrement");function c(t){let e;"life"===t?e=1e3:"medical"===t?e=500:"technical"===t&&(e=100),u({amount:e}).then((function(t){console.log("balanceDecrement",t)})).catch((function(t){console.log(t.code,t.message,t.details)}))}return t.$$set=t=>{"region"in t&&n(0,r=t.region),"getUser"in t&&n(5,i=t.getUser)},[r,a,s,o,c,i,t=>t.ref.delete(),function(){s=this.value,n(2,s)},function(){a=this.value,n(1,a)},()=>o("danger",{message:a,type:"life",phone:s}),()=>c("life"),function(){s=this.value,n(2,s)},function(){a=this.value,n(1,a)},()=>o("danger",{message:a,type:"medical",phone:s}),()=>c("medical"),function(){s=this.value,n(2,s)},function(){a=this.value,n(1,a)},()=>o("danger",{message:a,type:"technical",phone:s}),()=>c("technical"),()=>o("close"),(t,e)=>e.where("author","==",t.uid)]}class bf extends xt{constructor(t){super(),kt(this,t,yf,gf,s,{region:0,getUser:5})}}function wf(e){let n,r,i,a,s,u,c,l,h,f,d,p,m,v,g;return{c(){n=x("div"),r=x("div"),r.innerHTML='<p class="text-center font-semibold">Добавить тему для обсуждения:</p>',i=I(),a=x("div"),s=x("input"),u=I(),c=x("div"),l=x("textarea"),h=I(),f=x("div"),d=x("button"),d.textContent="Отмена",p=I(),m=x("button"),m.textContent="Добавить",C(s,"type","text"),C(s,"class","mt-2 border"),C(s,"placeholder","Заголовок"),C(s,"maxlength","50"),C(l,"class","mt-2 p-2 bg-gray-100 border rounded-lg w-full"),C(l,"cols","50"),C(l,"rows","10"),C(l,"placeholder","Ваше сообщение"),C(l,"maxlength","300"),C(d,"class","btn-gray"),C(m,"class","btn-orange"),C(f,"class","text-center"),C(n,"class","p-2 bg-white rounded-lg shadow-lg w-full")},m(t,o){w(t,n,o),b(n,r),b(n,i),b(n,a),b(a,s),M(s,e[0]),b(n,u),b(n,c),b(c,l),M(l,e[1]),b(n,h),b(n,f),b(f,d),b(f,p),b(f,m),v||(g=[S(s,"input",e[8]),S(l,"input",e[9]),S(d,"click",e[10]),S(m,"click",e[11])],v=!0)},p(t,[e]){1&e&&s.value!==t[0]&&M(s,t[0]),2&e&&M(l,t[1])},i:t,o:t,d(t){t&&_(n),v=!1,o(g)}}}function _f(t,e,n){let{user:r}=e,{latlng:i}=e,{region:o}=e,{city:a}=e;const s=H();let u,c="",l="";function h(){!1===u?Fs.collection("topics").add({date:le.firestore.FieldValue.serverTimestamp(),region:o,city:a,header:c,text:l,location:[i.lat,i.lng],owner:r.uid,username:r.displayName}).then((function(t){s("alert",{message:"Тема для обсуждения добавлена. Обновите карту."}),s("close")})).catch((function(t){console.error("Error adding document: ",t)})):s("alert",{message:"У вас уже есть открытая тема. Одновременно можно открыть только одну тему."})}Fs.collection("topics").where("owner","==",r.uid).get().then((function(t){t.empty?(u=!1,console.log("hasTopic",u)):(u=!0,console.log("hasTopic",u))})).catch((function(t){console.log("Error getting documents: ",t)}));return t.$$set=t=>{"user"in t&&n(4,r=t.user),"latlng"in t&&n(5,i=t.latlng),"region"in t&&n(6,o=t.region),"city"in t&&n(7,a=t.city)},[c,l,s,h,r,i,o,a,function(){c=this.value,n(0,c)},function(){l=this.value,n(1,l)},()=>s("close"),()=>h()]}class kf extends xt{constructor(t){super(),kt(this,t,_f,wf,s,{user:4,latlng:5,region:6,city:7})}}function xf(e){let n,r,i,a,s,u,c,l,h,f;return{c(){n=x("div"),r=x("button"),r.innerHTML='<img src="./icons/police-car.png" alt="police" class="svelte-1m0ybx8"/>',i=I(),a=x("div"),s=x("button"),s.innerHTML='<img src="./icons/speed-camera.png" alt="camera" class="svelte-1m0ybx8"/>',u=I(),c=x("div"),l=x("button"),l.innerHTML='<img src="./icons/road-camera.png" alt="rcamera" class="svelte-1m0ybx8"/>',C(r,"class","svelte-1m0ybx8"),C(n,"class","fixed -mt-32"),C(s,"class","svelte-1m0ybx8"),C(a,"class","fixed -ml-16 -mt-32"),C(l,"class","svelte-1m0ybx8"),C(c,"class","fixed ml-16 -mt-32")},m(t,o){w(t,n,o),b(n,r),w(t,i,o),w(t,a,o),b(a,s),w(t,u,o),w(t,c,o),b(c,l),h||(f=[S(r,"click",e[5]),S(r,"click",e[6]),S(s,"click",e[7]),S(s,"click",e[8]),S(l,"click",e[9]),S(l,"click",e[10])],h=!0)},p:t,d(t){t&&_(n),t&&_(i),t&&_(a),t&&_(u),t&&_(c),h=!1,o(f)}}}function Ef(e){let n,r,i,a,s,u,c,l,h,f;return{c(){n=x("div"),r=x("button"),r.innerHTML='<img src="./icons/road-construction.png" alt="rc" class="svelte-1m0ybx8"/>',i=I(),a=x("div"),s=x("button"),s.innerHTML='<img src="./icons/road-closed.png" alt="closed" class="svelte-1m0ybx8"/>',u=I(),c=x("div"),l=x("button"),l.innerHTML='<img src="./icons/car-crash.png" alt="dtp" class="svelte-1m0ybx8"/>',C(r,"class","svelte-1m0ybx8"),C(n,"class","fixed ml-16"),C(s,"class","svelte-1m0ybx8"),C(a,"class","fixed ml-16 -mt-16"),C(l,"class","svelte-1m0ybx8"),C(c,"class","fixed ml-16 -mt-32")},m(t,o){w(t,n,o),b(n,r),w(t,i,o),w(t,a,o),b(a,s),w(t,u,o),w(t,c,o),b(c,l),h||(f=[S(r,"click",e[12]),S(r,"click",e[13]),S(s,"click",e[14]),S(s,"click",e[15]),S(l,"click",e[16]),S(l,"click",e[17])],h=!0)},p:t,d(t){t&&_(n),t&&_(i),t&&_(a),t&&_(u),t&&_(c),h=!1,o(f)}}}function If(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T,A,P,M,N,L,O,R,B=t[1]&&xf(t),D=t[0]&&Ef(t);return{c(){e=x("div"),n=x("div"),r=x("button"),r.innerHTML='<img src="./icons/button-cancel.png" alt="close" class="svelte-1m0ybx8"/>',i=I(),a=x("div"),s=x("button"),s.innerHTML='<img src="./icons/police-car.png" alt="police" class="svelte-1m0ybx8"/>',u=I(),B&&B.c(),c=I(),l=x("div"),h=x("button"),h.innerHTML='<img src="./icons/road-1.png" alt="road" class="svelte-1m0ybx8"/>',f=I(),D&&D.c(),d=I(),p=x("div"),m=x("button"),m.innerHTML='<img src="./icons/chat-3.png" alt="add" class="svelte-1m0ybx8"/>',v=I(),g=x("div"),y=x("button"),y.innerHTML='<img src="./icons/taxi-24.png" alt="taxiCall" class="svelte-1m0ybx8"/>',k=I(),E=x("div"),T=x("button"),T.innerHTML='<img src="./icons/location-info.png" alt="address" class="svelte-1m0ybx8"/>',A=I(),P=x("div"),M=x("button"),M.innerHTML='<img src="./icons/sos-button.png" alt="sos" class="svelte-1m0ybx8"/>',C(r,"class","svelte-1m0ybx8"),C(n,"class","close"),C(s,"class","svelte-1m0ybx8"),C(a,"class","menu-item svelte-1m0ybx8"),C(h,"class","svelte-1m0ybx8"),C(l,"class","menu-item svelte-1m0ybx8"),C(m,"class","svelte-1m0ybx8"),C(p,"class","menu-item svelte-1m0ybx8"),C(y,"class","svelte-1m0ybx8"),C(g,"class","menu-item svelte-1m0ybx8"),C(T,"class","svelte-1m0ybx8"),C(E,"class","menu-item svelte-1m0ybx8"),C(M,"class","svelte-1m0ybx8"),C(P,"class","menu-item svelte-1m0ybx8"),C(e,"class","container svelte-1m0ybx8")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(e,i),b(e,a),b(a,s),b(a,u),B&&B.m(a,null),b(e,c),b(e,l),b(l,h),b(l,f),D&&D.m(l,null),b(e,d),b(e,p),b(p,m),b(e,v),b(e,g),b(g,y),b(e,k),b(e,E),b(E,T),b(e,A),b(e,P),b(P,M),L=!0,O||(R=[S(r,"click",t[3]),S(s,"click",t[4]),S(h,"click",t[11]),S(m,"click",t[18]),S(m,"click",t[19]),S(y,"click",t[20]),S(y,"click",t[21]),S(T,"click",t[22]),S(T,"click",t[23]),S(M,"click",t[24]),S(M,"click",t[25])],O=!0)},p(e,[n]){(t=e)[1]?B?B.p(t,n):(B=xf(t),B.c(),B.m(a,null)):B&&(B.d(1),B=null),t[0]?D?D.p(t,n):(D=Ef(t),D.c(),D.m(l,null)):D&&(D.d(1),D=null)},i(t){L||(et(()=>{N||(N=gt(e,ic,{duration:500,easing:ec},!0)),N.run(1)}),L=!0)},o(t){N||(N=gt(e,ic,{duration:500,easing:ec},!1)),N.run(0),L=!1},d(t){t&&_(e),B&&B.d(),D&&D.d(),t&&N&&N.end(),O=!1,o(R)}}}function Tf(){let t=document.querySelectorAll(".menu-item");for(var e=0,n=t.length;e<n;e++)t[e].style.left=(50-35*Math.cos(-.5*Math.PI-1/n*2*e*Math.PI)).toFixed(4)+"%",t[e].style.top=(50+35*Math.sin(-.5*Math.PI-1/n*2*e*Math.PI)).toFixed(4)+"%"}function Sf(t,e,n){const r=H();let i,o;V(Tf);return[i,o,r,()=>r("closeMenu"),()=>n(1,o=!0),()=>r("police"),()=>r("closeMenu"),()=>r("mCamera"),()=>r("closeMenu"),()=>r("sCamera"),()=>r("closeMenu"),()=>n(0,i=!0),()=>r("rConstruction"),()=>r("closeMenu"),()=>r("rClosed"),()=>r("closeMenu"),()=>r("dtp"),()=>r("closeMenu"),()=>r("add"),()=>r("closeMenu"),()=>r("taxiCall"),()=>r("closeMenu"),()=>r("getAddress"),()=>r("closeMenu"),()=>r("sos"),()=>r("closeMenu")]}class Cf extends xt{constructor(t){super(),kt(this,t,Sf,If,s,{})}}var Af=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},Pf=Object.prototype.toString;function Mf(t){return"[object Array]"===Pf.call(t)}function Nf(t){return void 0===t}function Lf(t){return null!==t&&"object"==typeof t}function Of(t){if("[object Object]"!==Pf.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function Rf(t){return"[object Function]"===Pf.call(t)}function Bf(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),Mf(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var Df={isArray:Mf,isArrayBuffer:function(t){return"[object ArrayBuffer]"===Pf.call(t)},isBuffer:function(t){return null!==t&&!Nf(t)&&null!==t.constructor&&!Nf(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Lf,isPlainObject:Of,isUndefined:Nf,isDate:function(t){return"[object Date]"===Pf.call(t)},isFile:function(t){return"[object File]"===Pf.call(t)},isBlob:function(t){return"[object Blob]"===Pf.call(t)},isFunction:Rf,isStream:function(t){return Lf(t)&&Rf(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Bf,merge:function t(){var e={};function n(n,r){Of(e[r])&&Of(n)?e[r]=t(e[r],n):Of(n)?e[r]=t({},n):Mf(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)Bf(arguments[r],n);return e},extend:function(t,e,n){return Bf(e,(function(e,r){t[r]=n&&"function"==typeof e?Af(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function jf(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Uf=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(Df.isURLSearchParams(e))r=e.toString();else{var i=[];Df.forEach(e,(function(t,e){null!=t&&(Df.isArray(t)?e+="[]":t=[t],Df.forEach(t,(function(t){Df.isDate(t)?t=t.toISOString():Df.isObject(t)&&(t=JSON.stringify(t)),i.push(jf(e)+"="+jf(t))})))})),r=i.join("&")}if(r){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function Ff(){this.handlers=[]}Ff.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},Ff.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Ff.prototype.forEach=function(t){Df.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var $f=Ff,zf=function(t,e,n){return Df.forEach(n,(function(n){t=n(t,e)})),t},Vf=function(t){return!(!t||!t.__CANCEL__)},qf=function(t,e){Df.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},Hf=function(t,e,n,r,i){return function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,r,i)},Gf=Df.isStandardBrowserEnv()?{write:function(t,e,n,r,i,o){var a=[];a.push(t+"="+encodeURIComponent(e)),Df.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Df.isString(r)&&a.push("path="+r),Df.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Wf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Kf=Df.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=Df.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},Zf=function(t){return new Promise((function(e,n){var r=t.data,i=t.headers;Df.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(t.auth){var a=t.auth.username||"",s=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.Authorization="Basic "+btoa(a+":"+s)}var u,c,l=(u=t.baseURL,c=t.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(u,c):c);if(o.open(t.method.toUpperCase(),Uf(l,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r,i,a,s,u,c="getAllResponseHeaders"in o?(r=o.getAllResponseHeaders(),u={},r?(Df.forEach(r.split("\n"),(function(t){if(s=t.indexOf(":"),i=Df.trim(t.substr(0,s)).toLowerCase(),a=Df.trim(t.substr(s+1)),i){if(u[i]&&Wf.indexOf(i)>=0)return;u[i]="set-cookie"===i?(u[i]?u[i]:[]).concat([a]):u[i]?u[i]+", "+a:a}})),u):u):null,l={data:t.responseType&&"text"!==t.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:c,config:t,request:o};!function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(Hf("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}(e,n,l),o=null}},o.onabort=function(){o&&(n(Hf("Request aborted",t,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(Hf("Network Error",t,null,o)),o=null},o.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(Hf(e,t,"ECONNABORTED",o)),o=null},Df.isStandardBrowserEnv()){var h=(t.withCredentials||Kf(l))&&t.xsrfCookieName?Gf.read(t.xsrfCookieName):void 0;h&&(i[t.xsrfHeaderName]=h)}if("setRequestHeader"in o&&Df.forEach(i,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete i[e]:o.setRequestHeader(e,t)})),Df.isUndefined(t.withCredentials)||(o.withCredentials=!!t.withCredentials),t.responseType)try{o.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(o.abort(),n(t),o=null)})),r||(r=null),o.send(r)}))},Xf={"Content-Type":"application/x-www-form-urlencoded"};function Jf(t,e){!Df.isUndefined(t)&&Df.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Yf,Qf={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Yf=Zf),Yf),transformRequest:[function(t,e){return qf(e,"Accept"),qf(e,"Content-Type"),Df.isFormData(t)||Df.isArrayBuffer(t)||Df.isBuffer(t)||Df.isStream(t)||Df.isFile(t)||Df.isBlob(t)?t:Df.isArrayBufferView(t)?t.buffer:Df.isURLSearchParams(t)?(Jf(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Df.isObject(t)?(Jf(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Qf.headers={common:{Accept:"application/json, text/plain, */*"}},Df.forEach(["delete","get","head"],(function(t){Qf.headers[t]={}})),Df.forEach(["post","put","patch"],(function(t){Qf.headers[t]=Df.merge(Xf)}));var td=Qf;function ed(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var nd=function(t){return ed(t),t.headers=t.headers||{},t.data=zf(t.data,t.headers,t.transformRequest),t.headers=Df.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Df.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||td.adapter)(t).then((function(e){return ed(t),e.data=zf(e.data,e.headers,t.transformResponse),e}),(function(e){return Vf(e)||(ed(t),e&&e.response&&(e.response.data=zf(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},rd=function(t,e){e=e||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(t,e){return Df.isPlainObject(t)&&Df.isPlainObject(e)?Df.merge(t,e):Df.isPlainObject(e)?Df.merge({},e):Df.isArray(e)?e.slice():e}function u(r){Df.isUndefined(e[r])?Df.isUndefined(t[r])||(n[r]=s(void 0,t[r])):n[r]=s(t[r],e[r])}Df.forEach(r,(function(t){Df.isUndefined(e[t])||(n[t]=s(void 0,e[t]))})),Df.forEach(i,u),Df.forEach(o,(function(r){Df.isUndefined(e[r])?Df.isUndefined(t[r])||(n[r]=s(void 0,t[r])):n[r]=s(void 0,e[r])})),Df.forEach(a,(function(r){r in e?n[r]=s(t[r],e[r]):r in t&&(n[r]=s(void 0,t[r]))}));var c=r.concat(i).concat(o).concat(a),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return Df.forEach(l,u),n};function id(t){this.defaults=t,this.interceptors={request:new $f,response:new $f}}id.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=rd(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[nd,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},id.prototype.getUri=function(t){return t=rd(this.defaults,t),Uf(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Df.forEach(["delete","get","head","options"],(function(t){id.prototype[t]=function(e,n){return this.request(rd(n||{},{method:t,url:e,data:(n||{}).data}))}})),Df.forEach(["post","put","patch"],(function(t){id.prototype[t]=function(e,n,r){return this.request(rd(r||{},{method:t,url:e,data:n}))}}));var od=id;function ad(t){this.message=t}ad.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ad.prototype.__CANCEL__=!0;var sd=ad;function ud(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new sd(t),e(n.reason))}))}ud.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ud.source=function(){var t;return{token:new ud((function(e){t=e})),cancel:t}};var cd=ud;function ld(t){var e=new od(t),n=Af(od.prototype.request,e);return Df.extend(n,od.prototype,e),Df.extend(n,e),n}var hd=ld(td);hd.Axios=od,hd.create=function(t){return ld(rd(hd.defaults,t))},hd.Cancel=sd,hd.CancelToken=cd,hd.isCancel=Vf,hd.all=function(t){return Promise.all(t)},hd.spread=function(t){return function(e){return t.apply(null,e)}},hd.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var fd=hd,dd=hd;fd.default=dd;var pd,md,vd,gd,yd=fd,bd=St((function(t){!function(){var e=window.CustomEvent;function n(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function r(t){t&&t.blur&&t!==document.body&&t.blur()}function i(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function o(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function a(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]})}else{var e,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===t){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,i)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}e&&"object"!=typeof e||((e=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),s.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}r(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!s.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,s.needsCentering(this.dialog_)?(s.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var n=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(n)}};var s={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(t){}if(r)for(var o=0;o<r.length;++o){var a=r[o],s=null;try{s=document.querySelectorAll(a.selectorText)}catch(t){}if(s&&i(s,t)){var u=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return"absolute"===window.getComputedStyle(t).position&&(!("auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom)&&!s.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new a(t)},registerDialog:function(t){t.showModal||s.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,r=0;e=t.removedNodes[r];++r)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(s.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},s.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},s.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},s.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=n(t);){for(var e,r=0;e=this.pendingDialogStack[r];++r)if(e.dialog===t)return 0===r;t=t.parentElement}return!1},s.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),r(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},s.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var n=new e("cancel",{bubbles:!1,cancelable:!0}),r=this.pendingDialogStack[0];r&&r.dialog.dispatchEvent(n)&&r.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},s.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},s.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},s.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},s.dm=new s.DialogManager,s.formSubmitter=null,s.useValue=null,void 0===window.HTMLDialogElement){var u=document.createElement("form");if(u.setAttribute("method","dialog"),"dialog"!==u.method){var c=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(c){var l=c.get;c.get=function(){return o(this)?"dialog":l.call(this)};var h=c.set;c.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):h.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",c)}}document.addEventListener("click",(function(t){if(s.formSubmitter=null,s.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&o(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;s.useValue=t.offsetX+","+t.offsetY}n(e)&&(s.formSubmitter=e)}}}),!1);var f=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!o(this))return f.call(this);var t=n(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(o(e)){t.preventDefault();var r=n(e);if(r){var i=s.formSubmitter;i&&i.form===e?r.close(s.useValue||i.value):r.close(),s.formSubmitter=null}}}),!0)}s.forceRegisterDialog=s.forceRegisterDialog,s.registerDialog=s.registerDialog,"object"==typeof t.exports?t.exports=s:window.dialogPolyfill=s}()})),wd={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(wd=function(){var t=[],e=[];function n(e,n){for(var r=0;r<t.length;r++)if(t[r].className===e)return void 0!==n&&(t[r]=n),t[r];return!1}function r(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function i(t,e){return-1!==r(t).indexOf(e)}function o(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function a(e,r){if(void 0===e&&void 0===r)for(var i=0;i<t.length;i++)a(t[i].className,t[i].cssClass);else{var o=e;if(void 0===r){var u=n(o);u&&(r=u.cssClass)}for(var c=document.querySelectorAll("."+r),l=0;l<c.length;l++)s(c[l],o)}}function s(a,s){if(!("object"==typeof a&&a instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var u=o("mdl-componentupgrading",!0,!0);if(a.dispatchEvent(u),!u.defaultPrevented){var c=r(a),l=[];if(s)i(a,s)||l.push(n(s));else{var h=a.classList;t.forEach((function(t){h.contains(t.cssClass)&&-1===l.indexOf(t)&&!i(a,t.className)&&l.push(t)}))}for(var f,d=0,p=l.length;d<p;d++){if(!(f=l[d]))throw new Error("Unable to find a registered component for the given class.");c.push(f.className),a.setAttribute("data-upgraded",c.join(","));var m=new f.classConstructor(a);m.mdlComponentConfigInternal_=f,e.push(m);for(var v=0,g=f.callbacks.length;v<g;v++)f.callbacks[v](a);f.widget&&(a[f.className]=m);var y=o("mdl-componentupgraded",!0,!1);a.dispatchEvent(y)}}}function u(t){if(t){var n=e.indexOf(t);e.splice(n,1);var r=t.element_.getAttribute("data-upgraded").split(","),i=r.indexOf(t.mdlComponentConfigInternal_.classAsString);r.splice(i,1),t.element_.setAttribute("data-upgraded",r.join(","));var a=o("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(a)}}return{upgradeDom:a,upgradeElement:s,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(s(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)a(t[e].className)},registerUpgradedCallback:function(t,e){var r=n(t);r&&r.callbacks.push(e)},register:function(e){var r=!0;void 0===e.widget&&void 0===e.widget||(r=e.widget||e.widget);var i={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:r,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===i.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===i.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty("mdlComponentConfigInternal_"))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");n(e.classAsString,i)||t.push(i)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(u)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)n(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).ComponentConfigPublic,wd.ComponentConfig,wd.Component,wd.upgradeDom=wd.upgradeDom,wd.upgradeElement=wd.upgradeElement,wd.upgradeElements=wd.upgradeElements,wd.upgradeAllRegistered=wd.upgradeAllRegistered,wd.registerUpgradedCallback=wd.registerUpgradedCallback,wd.register=wd.register,wd.downgradeElements=wd.downgradeElements,window.componentHandler=wd,window.componentHandler=wd,window.addEventListener("load",(function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),wd.upgradeAllRegistered()):(wd.upgradeElement=function(){},wd.register=function(){})})),
/**
     * @license
     * Copyright 2015 Google Inc. All Rights Reserved.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *      http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
pd=function(t){this.element_=t,this.init()},window.MaterialButton=pd,pd.prototype.Constant_={},pd.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},pd.prototype.blurHandler_=function(t){t&&this.element_.blur()},pd.prototype.disable=function(){this.element_.disabled=!0},pd.prototype.disable=pd.prototype.disable,pd.prototype.enable=function(){this.element_.disabled=!1},pd.prototype.enable=pd.prototype.enable,pd.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:pd,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0}),
/**
     * @license
     * Copyright 2015 Google Inc. All Rights Reserved.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *      http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
md=function(t){this.element_=t,this.init()},window.MaterialProgress=md,md.prototype.Constant_={},md.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},md.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},md.prototype.setProgress=md.prototype.setProgress,md.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},md.prototype.setBuffer=md.prototype.setBuffer,md.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:md,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0}),
/**
     * @license
     * Copyright 2015 Google Inc. All Rights Reserved.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *      http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
vd=function(t){this.element_=t,this.init()},window.MaterialSpinner=vd,vd.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},vd.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},vd.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},vd.prototype.createLayer=vd.prototype.createLayer,vd.prototype.stop=function(){this.element_.classList.remove("is-active")},vd.prototype.stop=vd.prototype.stop,vd.prototype.start=function(){this.element_.classList.add("is-active")},vd.prototype.start=vd.prototype.start,vd.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:vd,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0}),
/**
     * @license
     * Copyright 2015 Google Inc. All Rights Reserved.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *      http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
gd=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=gd,gd.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},gd.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},gd.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},gd.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},gd.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},gd.prototype.onReset_=function(t){this.updateClasses_()},gd.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},gd.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},gd.prototype.checkDisabled=gd.prototype.checkDisabled,gd.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},gd.prototype.checkFocus=gd.prototype.checkFocus,gd.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},gd.prototype.checkValidity=gd.prototype.checkValidity,gd.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},gd.prototype.checkDirty=gd.prototype.checkDirty,gd.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},gd.prototype.disable=gd.prototype.disable,gd.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},gd.prototype.enable=gd.prototype.enable,gd.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},gd.prototype.change=gd.prototype.change,gd.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:gd,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0}),function(){(function(){var t,e,n="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var r;t:{var i={};try{i.__proto__={xb:!0},r=i.xb;break t}catch(t){}r=!1}e=r?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var o=e;function a(t,e){if(t.prototype=n(e.prototype),t.prototype.constructor=t,o)o(t,e);else for(var r in e)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,r);i&&Object.defineProperty(t,r,i)}else t[r]=e[r];t.K=e.prototype}var s="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},u="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function c(t,e){if(e){var n=u;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&s(n,t,{configurable:!0,writable:!0,value:e})}}c("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),c("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}}));var l=this;function h(t){return void 0!==t}function f(t){return"string"==typeof t}var d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(){}function v(t){t.W=void 0,t.Xa=function(){return t.W?t.W:t.W=new t}}function g(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function y(t){return"array"==g(t)}function b(t){var e=g(t);return"array"==e||"object"==e&&"number"==typeof t.length}function w(t){return"function"==g(t)}function _(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var k="closure_uid_"+(1e9*Math.random()>>>0),x=0;function E(t,e,n){return t.call.apply(t.bind,arguments)}function I(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:I).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function C(t,e){for(var n in e)t[n]=e[n]}var A,P=Date.now||function(){return+new Date};function M(t,e){t=t.split(".");var n,r=l;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&h(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function N(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.tc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function R(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}N(L,Error),L.prototype.name="CustomError",N(O,L),O.prototype.name="AssertionError";var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(f(t))return f(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=f(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var j=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=f(t)?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=f(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},F=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=f(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=B(t,e)}function z(t,e){var n;return(n=0<=(e=B(t,e)))&&V(t,e),n}function V(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function q(t,e){!function(t,e){for(var n=f(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&V(t,r)&&0}))}function H(t){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function W(t,e,n,r){return Array.prototype.splice.apply(t,K(arguments,1))}function K(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,J=/</g,Y=/>/g,Q=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function rt(t,e){return t<e?-1:t>e?1:0}function it(t){return nt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Y,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Q,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(tt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function ot(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function at(t){var e,n={};for(e in t)n[e]=t[e];return n}var st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<st.length;o++)n=st[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}var ct="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""};function lt(){}function ht(t){if(t instanceof lt)return t;if("function"==typeof t.ha)return t.ha(!1);if(b(t)){var e=0,n=new lt;return n.next=function(){for(;;){if(e>=t.length)throw ct;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function ft(t){if(b(t))return G(t);t=ht(t);var e=[];return function(t,e){if(b(t))try{D(t,e,void 0)}catch(t){if(t!==ct)throw t}else{t=ht(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(t){if(t!==ct)throw t}}}(t,(function(t){e.push(t)})),e}function dt(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof dt)for(n=t.ja(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pt(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];mt(t.g,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.h!=t.a.length){var i={};for(n=e=0;e<t.a.length;)mt(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}lt.prototype.next=function(){throw ct},lt.prototype.ha=function(){return this},(t=dt.prototype).la=function(){pt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},t.ja=function(){return pt(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0},t.get=function(t,e){return mt(this.g,t)?this.g[t]:e},t.set=function(t,e){mt(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},t.forEach=function(t,e){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.ha=function(t){pt(this);var e=0,n=this.j,r=this,i=new lt;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(e>=r.a.length)throw ct;var i=r.a[e++];return t?i:r.g[i]},i};var vt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gt(t,e,n,r){for(var i=n.length;0<=(e=t.indexOf(n,e))&&e<r;){var o=t.charCodeAt(e-1);if((38==o||63==o)&&(!(o=t.charCodeAt(e+i))||61==o||38==o||35==o))return e;e+=i+1}return-1}var yt=/#|$/;function bt(t,e){var n=t.search(yt),r=gt(t,0,e,n);if(0>r)return null;var i=t.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=e.length+1,decodeURIComponent(t.substr(r,i-r).replace(/\+/g," "))}var wt=/[?&]($|#)/;function _t(t,e){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,t instanceof _t?(this.i=h(e)?e:t.i,kt(this,t.j),this.A=t.A,this.h=t.h,xt(this,t.C),this.g=t.g,Et(this,jt(t.a)),this.s=t.s):t&&(n=String(t).match(vt))?(this.i=!!e,kt(this,n[1]||"",!0),this.A=Tt(n[2]||""),this.h=Tt(n[3]||"",!0),xt(this,n[4]),this.g=Tt(n[5]||"",!0),Et(this,n[6]||"",!0),this.s=Tt(n[7]||"")):(this.i=!!e,this.a=new Ot(null,this.i))}function kt(t,e,n){t.j=n?Tt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function Et(t,e,n){e instanceof Ot?(t.a=e,function(t,e){e&&!t.j&&(Rt(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Bt(this,e),Bt(this,n),0<t.length&&(this.h=null,this.a.set(Ut(this,n),G(t)),this.g+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=St(e,Nt)),t.a=new Ot(e,t.i))}function It(t){return t instanceof _t?new _t(t):new _t(t,void 0)}function Tt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function St(t,e,n){return f(t)?(t=encodeURI(t).replace(e,Ct),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ct(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_t.prototype.toString=function(){var t=[],e=this.j;e&&t.push(St(e,At,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.A)&&t.push(St(e,At,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(St(n,"/"==n.charAt(0)?Mt:Pt,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.s)&&t.push("#",St(n,Lt)),t.join("")};var At=/[#\/\?@]/g,Pt=/[#\?:]/g,Mt=/[#\?]/g,Nt=/[#\?@]/g,Lt=/#/g;function Ot(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function Rt(t){t.a||(t.a=new dt,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Bt(t,e){Rt(t),e=Ut(t,e),mt(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,mt((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&pt(t)))}function Dt(t,e){return Rt(t),e=Ut(t,e),mt(t.a.g,e)}function jt(t){var e=new Ot;return e.h=t.h,t.a&&(e.a=new dt(t.a),e.g=t.g),e}function Ut(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ft(t){this.a=It(t)}function $t(t){return t.a.a.get(qt.Pa)||null}function zt(t,e){e?t.a.a.set(qt.PROVIDER_ID,e):Bt(t.a.a,qt.PROVIDER_ID)}(t=Ot.prototype).add=function(t,e){Rt(this),this.h=null,t=Ut(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},t.clear=function(){this.a=this.h=null,this.g=0},t.forEach=function(t,e){Rt(this),this.a.forEach((function(n,r){D(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.ja=function(){Rt(this);for(var t=this.a.la(),e=this.a.ja(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.la=function(t){Rt(this);var e=[];if(f(t))Dt(this,t)&&(e=H(e,this.a.get(Ut(this,t))));else{t=this.a.la();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Rt(this),this.h=null,Dt(this,t=Ut(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},t.get=function(t,e){return t&&0<(t=this.la(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ja(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.la(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.h=t.join("&")},Ft.prototype.toString=function(){return this.a.toString()};var Vt,qt={Pa:"ui_auid",jc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};t:{var Ht=l.navigator;if(Ht){var Gt=Ht.userAgent;if(Gt){Vt=Gt;break t}}Vt=""}function Wt(t){return-1!=Vt.indexOf(t)}function Kt(){return(Wt("Chrome")||Wt("CriOS"))&&!Wt("Edge")}function Zt(t){return Zt[" "](t),t}Zt[" "]=m;var Xt,Jt=Wt("Opera"),Yt=Wt("Trident")||Wt("MSIE"),Qt=Wt("Edge"),te=Qt||Yt,ee=Wt("Gecko")&&!(-1!=Vt.toLowerCase().indexOf("webkit")&&!Wt("Edge"))&&!(Wt("Trident")||Wt("MSIE"))&&!Wt("Edge"),ne=-1!=Vt.toLowerCase().indexOf("webkit")&&!Wt("Edge"),re=ne&&Wt("Mobile"),ie=Wt("Macintosh");function oe(){var t=l.document;return t?t.documentMode:void 0}t:{var ae="",se=function(){var t=Vt;return ee?/rv:([^\);]+)(\)|;)/.exec(t):Qt?/Edge\/([\d\.]+)/.exec(t):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ne?/WebKit\/(\S+)/.exec(t):Jt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(se&&(ae=se?se[1]:""),Yt){var ue=oe();if(null!=ue&&ue>parseFloat(ae)){Xt=String(ue);break t}}Xt=ae}var ce,he={};function fe(t){return function(t,e){var n=he;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Z(String(Xt)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=rt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||rt(0==a[2].length,0==s[2].length)||rt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var de=l.document;function pe(t,e){this.a=t===ve&&e||"",this.g=me}ce=de&&Yt?oe()||("CSS1Compat"==de.compatMode?parseInt(Xt,10):5):void 0,pe.prototype.ma=!0,pe.prototype.ka=function(){return this.a},pe.prototype.toString=function(){return"Const{"+this.a+"}"};var me={},ve={};function ge(){this.a="",this.h=be}function ye(t){return t instanceof ge&&t.constructor===ge&&t.h===be?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+g(t)),"type_error:TrustedResourceUrl")}ge.prototype.ma=!0,ge.prototype.ka=function(){return this.a.toString()},ge.prototype.g=function(){return 1},ge.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var be={};function we(){this.a="",this.h=Ie}function _e(t){return t instanceof we&&t.constructor===we&&t.h===Ie?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+g(t)),"type_error:SafeUrl")}we.prototype.ma=!0,we.prototype.ka=function(){return this.a.toString()},we.prototype.g=function(){return 1},we.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ke=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xe(t){return t instanceof we?t:(t="object"==typeof t&&t.ma?t.ka():String(t),ke.test(t)||(t="about:invalid#zClosurez"),Te(t))}function Ee(t){return t instanceof we?t:(t="object"==typeof t&&t.ma?t.ka():String(t),ke.test(t)||(t="about:invalid#zClosurez"),Te(t))}var Ie={};function Te(t){var e=new we;return e.a=t,e}function Se(){this.a="",this.g=Ce}Te("about:blank"),Se.prototype.ma=!0;var Ce={};function Ae(){this.a="",this.j=Me,this.h=null}function Pe(t){return t instanceof Ae&&t.constructor===Ae&&t.j===Me?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+g(t)),"type_error:SafeHtml")}Se.prototype.ka=function(){return this.a},Se.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Ae.prototype.g=function(){return this.h},Ae.prototype.ma=!0,Ae.prototype.ka=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Me={};function Ne(t,e){var n=new Ae;return n.a=t,n.h=e,n}Ne("<!DOCTYPE html>",0);var Le=Ne("",0);Ne("<br>",0);var Oe,Re,Be=(Re=!1,function(){return Re||(Oe=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=Pe(Le),!e.parentElement)}(),Re=!0),Oe});function De(t,e){e=e instanceof we?e:Ee(e),t.assign(_e(e))}function je(t,e){this.a=h(t)?t:0,this.g=h(e)?e:0}function Ue(t,e){this.width=t,this.height=e}function Fe(t){return t?new Xe(We(t)):A||(A=new Xe)}function $e(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):Ve(document,t,e)}function ze(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var r=e||n;t=r.querySelectorAll&&r.querySelector&&t?r.querySelector(t?"."+t:""):Ve(n,t,e)[0]||null}return t||null}function Ve(t,e,n){var r;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var i=t.getElementsByClassName(e);return i}if(i=t.getElementsByTagName("*"),e){var o={};for(n=r=0;t=i[n];n++){var a=t.className;"function"==typeof a.split&&$(a.split(/\s+/),e)&&(o[r++]=t)}return o.length=r,o}return i}je.prototype.toString=function(){return"("+this.a+", "+this.g+")"},je.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},je.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},je.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(t=Ue.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var qe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function He(t){return t.scrollingElement?t.scrollingElement:(ne||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function Ge(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function We(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function Ke(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(We(t).createTextNode(String(e)))}}function Ze(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||f(t.className)&&$(t.className.split(/\s+/),e)})):null}function Xe(t){this.a=t||l.document||document}Xe.prototype.N=function(){return f(void 0)?this.a.getElementById(void 0):void 0};var Je={Dc:!0},Ye={Fc:!0},Qe={Cc:!0},tn={Ec:!0};function en(){throw Error("Do not instantiate directly")}function nn(t,e,n,r){if(t=t(e||on,void 0,n),r=(r||Fe()).a.createElement("DIV"),(t=function(t){if(!_(t))return it(String(t));if(t instanceof en){if(t.fa===Je)return t.content;if(t.fa===tn)return it(t.content)}return R("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(rn),t=Ne(t,null),Be())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Pe(t),1==r.childNodes.length&&(1==(t=r.firstChild).nodeType&&(r=t)),r}en.prototype.va=null,en.prototype.toString=function(){return this.content};var rn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,on={};function an(){en.call(this)}function sn(t){return null!=t&&t.fa===Je?t:t instanceof Ae?hn(Pe(t).toString(),t.g()):hn(it(String(String(t))),function(t){if(null!=t)switch(t.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function un(){en.call(this)}function cn(t,e){this.content=String(t),this.va=null!=e?e:null}function ln(t){return new cn(t,void 0)}N(an,en),an.prototype.fa=Je,N(un,en),un.prototype.fa=Ye,un.prototype.va=1,N(cn,en),cn.prototype.fa=tn;var hn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.va=n),t}}(an),fn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(un);function dn(t){return(t=String(t))?new cn(t,void 0):""}var pn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.va=n),t):""}}(an);function mn(t){return null!=t&&t.fa===Je?String(String(t.content).replace(Tn,"").replace(Sn,"&lt;")).replace(kn,bn):it(String(t))}function vn(t){return null!=t&&t.fa===Ye?t=String(t).replace(xn,_n):t instanceof we?t=String(_e(t).toString()).replace(xn,_n):(t=String(t),In.test(t)?t=t.replace(xn,_n):(R("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function gn(t){return null!=t&&t.fa===Qe?t=t.content:null==t?t="":t instanceof Se?t instanceof Se&&t.constructor===Se&&t.g===Ce?t=t.a:(R("expected object of type SafeStyle, got '"+t+"' of type "+g(t)),t="type_error:SafeStyle"):(t=String(t),En.test(t)||(R("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var yn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function bn(t){return yn[t]}var wn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function _n(t){return wn[t]}var kn=/[\x00\x22\x27\x3c\x3e]/g,xn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,En=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,In=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Tn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Sn=/</g;function Cn(){return ln("Enter a valid phone number")}function An(){return ln("Unable to send password reset code to specified email")}function Pn(){return ln("Something went wrong. Please try again.")}function Mn(){return ln("This email already exists without any means of sign-in. Please reset the password to recover.")}function Nn(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return ln(e)}function Ln(){return ln("Please login again to perform this operation")}function On(t,e,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Rn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=Pn()}t=ln(t).toString()}this.message=t||"",this.credential=n||null}a(On,Error),On.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Rn="firebaseui/";function Bn(){this.T=this.T,this.C=this.C}function Dn(t,e){t.T?h(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(h(void 0)?T(e,void 0):e))}function jn(t){t&&"function"==typeof t.o&&t.o()}Bn.prototype.T=!1,Bn.prototype.o=function(){if(!this.T&&(this.T=!0,this.m(),0))this[k]||(this[k]=++x)},Bn.prototype.m=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Un=Object.freeze||function(t){return t},Fn=!Yt||9<=Number(ce),$n=Yt&&!fe("9"),zn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",m,e),l.removeEventListener("test",m,e)}catch(t){}return t}();function Vn(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.qb=!0}function qn(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ee){t:{try{Zt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=f(t.pointerType)?t.pointerType:Hn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Vn.prototype.stopPropagation=function(){this.h=!0},Vn.prototype.preventDefault=function(){this.qb=!1},N(qn,Vn);var Hn=Un({2:"touch",3:"pen",4:"mouse"});qn.prototype.stopPropagation=function(){qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},qn.prototype.preventDefault=function(){qn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$n)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Gn="closure_listenable_"+(1e6*Math.random()|0),Wn=0;function Kn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++Wn,this.sa=this.Ia=!1}function Zn(t){t.sa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Xn(t){this.src=t,this.a={},this.g=0}function Jn(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Zn(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function Yn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.sa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}Xn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var a=Yn(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Kn(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var Qn="closure_lm_"+(1e6*Math.random()|0),tr={};function er(t,e,n,r,i){if(r&&r.once)return rr(t,e,n,r,i);if(y(e)){for(var o=0;o<e.length;o++)er(t,e[o],n,r,i);return null}return n=fr(n),t&&t[Gn]?t.J.add(String(e),n,!1,_(r)?!!r.capture:!!r,i):nr(t,e,n,!1,r,i)}function nr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=_(i)?!!i.capture:!!i,s=lr(t);if(s||(t[Qn]=s=new Xn(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=cr,e=Fn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ar(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function rr(t,e,n,r,i){if(y(e)){for(var o=0;o<e.length;o++)rr(t,e[o],n,r,i);return null}return n=fr(n),t&&t[Gn]?t.J.add(String(e),n,!0,_(r)?!!r.capture:!!r,i):nr(t,e,n,!0,r,i)}function ir(t,e,n,r,i){if(y(e))for(var o=0;o<e.length;o++)ir(t,e[o],n,r,i);else r=_(r)?!!r.capture:!!r,n=fr(n),t&&t[Gn]?(t=t.J,(e=String(e).toString())in t.a&&(-1<(n=Yn(o=t.a[e],n,r,i))&&(Zn(o[n]),V(o,n),0==o.length&&(delete t.a[e],t.g--)))):t&&(t=lr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Yn(e,n,r,i)),(n=-1<t?e[t]:null)&&or(n))}function or(t){if("number"!=typeof t&&t&&!t.sa){var e=t.src;if(e&&e[Gn])Jn(e.J,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ar(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lr(e))?(Jn(n,t),0==n.g&&(n.src=null,e[Qn]=null)):Zn(t)}}}function ar(t){return t in tr?tr[t]:tr[t]="on"+t}function sr(t,e,n,r){var i=!0;if((t=lr(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.sa&&(o=ur(o,r),i=i&&!1!==o)}return i}function ur(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&or(t),n.call(r,e)}function cr(t,e){if(t.sa)return!0;if(!Fn){if(!e)t:{e=["window","event"];for(var n=l,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new qn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.g;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.h&&0<=i;i--){e.g=r[i];var o=sr(r[i],t,!0,e);n=n&&o}for(i=0;!e.h&&i<r.length;i++)e.g=r[i],o=sr(r[i],t,!1,e),n=n&&o}return n}return ur(t,new qn(e,this))}function lr(t){return(t=t[Qn])instanceof Xn?t:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(t){return w(t)?t:(t[hr]||(t[hr]=function(e){return t.handleEvent(e)}),t[hr])}function dr(){Bn.call(this),this.J=new Xn(this),this.wb=this,this.Ha=null}function pr(t,e){var n,r=t.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(t=t.wb,r=e.type||e,f(e))e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;ut(e=new Vn(r,t),i)}if(i=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var a=e.g=n[o];i=mr(a,r,!0,e)&&i}if(e.h||(i=mr(a=e.g=t,r,!0,e)&&i,e.h||(i=mr(a,r,!1,e)&&i)),n)for(o=0;!e.h&&o<n.length;o++)i=mr(a=e.g=n[o],r,!1,e)&&i;return i}function mr(t,e,n,r){if(!(e=t.J.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.sa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&Jn(t.J,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.qb}N(dr,Bn),dr.prototype[Gn]=!0,dr.prototype.Za=function(t){this.Ha=t},dr.prototype.removeEventListener=function(t,e,n,r){ir(this,t,e,n,r)},dr.prototype.m=function(){if(dr.K.m.call(this),this.J){var t,e=this.J;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Zn(n[r]);delete e.a[t],e.g--}}this.Ha=null};var vr={},gr=0;function yr(t,e){if(!t)throw Error("Event target element must be provided!");if(t=wr(t),vr[t]&&vr[t].length)for(var n=0;n<vr[t].length;n++)pr(vr[t][n],e)}function br(t){var e=wr(t.N());vr[e]&&vr[e].length&&(function(t,e){t:{for(var n=t.length,r=f(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}0<=e&&V(t,e)}(vr[e],(function(e){return e==t})),vr[e].length||delete vr[e])}function wr(t){return void 0===t.a&&(t.a=gr,gr++),t.a}function _r(t){if(!t)throw Error("Event target element must be provided!");dr.call(this),this.a=t}function kr(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function xr(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function Er(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function Ir(){this.g=this.a=null}a(_r,dr),_r.prototype.N=function(){return this.a},_r.prototype.register=function(){var t=wr(this.N());vr[t]?$(vr[t],this)||vr[t].push(this):vr[t]=[this]},xr.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var Tr,Sr,Cr=new xr((function(){return new Pr}),(function(t){t.reset()}));function Ar(){var t=Or,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function Pr(){this.next=this.g=this.a=null}function Mr(t){l.setTimeout((function(){throw t}),0)}function Nr(t,e){Sr||function(){if(l.Promise&&l.Promise.resolve){var t=l.Promise.resolve(void 0);Sr=function(){t.then(Rr)}}else Sr=function(){var t=Rr;!w(l.setImmediate)||l.Window&&l.Window.prototype&&!Wt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Tr||(Tr=function(){var t=l.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Wt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!Wt("Trident")&&!Wt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(h(n.next)){var t=(n=n.next).gb;n.gb=null,t()}},function(t){r.next={gb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){l.setTimeout(t,0)}}()),Tr(t)):l.setImmediate(t)}}(),Lr||(Sr(),Lr=!0),Or.add(t,e)}Ir.prototype.add=function(t,e){var n=Cr.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},Pr.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},Pr.prototype.reset=function(){this.next=this.g=this.a=null};var Lr=!1,Or=new Ir;function Rr(){for(var t;t=Ar();){try{t.a.call(t.g)}catch(t){Mr(t)}Er(Cr,t)}Lr=!1}function Br(t){if(this.a=Dr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,t!=m)try{var e=this;t.call(void 0,(function(t){Wr(e,jr,t)}),(function(t){if(!(t instanceof Qr))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Wr(e,Ur,t)}))}catch(t){Wr(this,Ur,t)}}var Dr=0,jr=2,Ur=3;function Fr(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Fr.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var $r=new xr((function(){return new Fr}),(function(t){t.reset()}));function zr(t,e,n){var r=$r.get();return r.s=t,r.g=e,r.j=n,r}function Vr(t){if(t instanceof Br)return t;var e=new Br(m);return Wr(e,jr,t),e}function qr(t){return new Br((function(e,n){n(t)}))}function Hr(t,e){t.g||t.a!=jr&&t.a!=Ur||Kr(t),t.j?t.j.next=e:t.g=e,t.j=e}function Gr(t,e,n,r){var i=zr(null,null,null);return i.a=new Br((function(t,o){i.s=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.g=n?function(e){try{var i=n.call(r,e);!h(i)&&e instanceof Qr?o(e):t(i)}catch(t){o(t)}}:o})),i.a.h=t,Hr(t,i),i.a}function Wr(t,e,n){if(t.a==Dr){t===n&&(e=Ur,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var r=n,i=t.fc,o=t.gc;if(r instanceof Br){Hr(r,zr(i||m,o||null,t));var a=!0}else if(kr(r))r.then(i,o,t),a=!0;else{if(_(r))try{var s=r.then;if(w(s)){!function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(r,s,i,o,t),a=!0;break t}}catch(e){o.call(t,e),a=!0;break t}a=!1}}a||(t.A=n,t.a=e,t.h=null,Kr(t),e!=Ur||n instanceof Qr||function(t,e){t.s=!0,Nr((function(){t.s&&Yr.call(null,e)}))}(t,n))}}function Kr(t){t.i||(t.i=!0,Nr(t.Fb,t))}function Zr(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),e}function Xr(t,e,n,r){if(n==Ur&&e.g&&!e.h)for(;t&&t.s;t=t.h)t.s=!1;if(e.a)e.a.h=null,Jr(e,n,r);else try{e.h?e.s.call(e.j):Jr(e,n,r)}catch(t){Yr.call(null,t)}Er($r,e)}function Jr(t,e,n){e==jr?t.s.call(t.j,n):t.g&&t.g.call(t.j,n)}Br.prototype.then=function(t,e,n){return Gr(this,w(t)?t:null,w(e)?e:null,n)},Br.prototype.$goog_Thenable=!0,(t=Br.prototype).dc=function(t,e){return(t=zr(t,t,e)).h=!0,Hr(this,t),this},t.Ca=function(t,e){return Gr(this,null,t,e)},t.cancel=function(t){this.a==Dr&&Nr((function(){!function t(e,n){if(e.a==Dr)if(e.h){var r=e.h;if(r.g){for(var i=0,o=null,a=null,s=r.g;s&&(s.h||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Dr&&1==i?t(r,n):(a?((i=a).next==r.j&&(r.j=i),i.next=i.next.next):Zr(r),Xr(r,o,Ur,n)))}e.h=null}else Wr(e,Ur,n)}(this,new Qr(t))}),this)},t.fc=function(t){this.a=Dr,Wr(this,jr,t)},t.gc=function(t){this.a=Dr,Wr(this,Ur,t)},t.Fb=function(){for(var t;t=Zr(this);)Xr(this,t,this.a,this.A);this.i=!1};var Yr=Mr;function Qr(t){L.call(this,t)}function ti(t,e,n){e||(e={}),n=n||window;var r=t instanceof we?t:xe(void 0!==t.href?t.href:String(t));t=e.target||t.target;var i=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");return(Wt("iPhone")&&!Wt("iPod")&&!Wt("iPad")||Wt("iPad")||Wt("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),r=r instanceof we?r:Ee(r),o.href=_e(r),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=_e(r).toString(),n&&(te&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Ne('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+it(e)+'">',null),n.document.write(Pe(e)),n.document.close())):(n=n.open(_e(r).toString(),t,o))&&e.noopener&&(n.opener=null),n}function ei(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(t){}return!1}function ni(t){ti(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ri(t,e){if(null==(t=_(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function ii(){return window.location.href}function oi(t){var e=vi;this.s=[],this.T=e,this.O=t||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function ai(t,e,n){t.a=!0,t.h=n,t.j=!e,li(t)}function si(t){if(t.a){if(!t.J)throw new hi(t);t.J=!1}}function ui(t,e,n){t.s.push([e,n,void 0]),t.a&&li(t)}function ci(t){return F(t.s,(function(t){return w(t[1])}))}function li(t){if(t.i&&t.a&&ci(t)){var e=t.i,n=pi[e];n&&(l.clearTimeout(n.a),delete pi[e]),t.i=0}t.g&&(t.g.C--,delete t.g),e=t.h;for(var r=n=!1;t.s.length&&!t.A;){var i=t.s.shift(),o=i[0],a=i[1];if(i=i[2],o=t.j?a:o)try{var s=o.call(i||t.O,e);h(s)&&(t.j=t.j&&(s==e||s instanceof Error),t.h=e=s),(kr(e)||"function"==typeof l.Promise&&e instanceof l.Promise)&&(r=!0,t.A=!0)}catch(r){e=r,t.j=!0,ci(t)||(n=!0)}}t.h=e,r&&(s=T(t.L,t,!0),r=T(t.L,t,!1),e instanceof oi?(ui(e,s,r),e.l=!0):e.then(s,r)),n&&(e=new di(e),pi[e.a]=e,t.i=e.a)}function hi(){L.call(this)}function fi(){L.call(this)}function di(t){this.a=l.setTimeout(T(this.h,this),0),this.g=t}N(Qr,L),Qr.prototype.name="cancel",oi.prototype.cancel=function(t){if(this.a)this.h instanceof oi&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(t=new fi(this),si(this),ai(this,!1,t))}},oi.prototype.L=function(t,e){this.A=!1,ai(this,t,e)},oi.prototype.callback=function(t){si(this),ai(this,!0,t)},oi.prototype.then=function(t,e,n){var r,i,o=new Br((function(t,e){r=t,i=e}));return ui(this,r,(function(t){t instanceof fi?o.cancel():i(t)})),o.then(t,e,n)},oi.prototype.$goog_Thenable=!0,N(hi,L),hi.prototype.message="Deferred has already fired",hi.prototype.name="AlreadyCalledError",N(fi,L),fi.prototype.message="Deferred was canceled",fi.prototype.name="CanceledError",di.prototype.h=function(){throw delete pi[this.a],this.g};var pi={};function mi(t){var e,n=document,r=ye(t).toString(),i=document.createElement("SCRIPT"),o={rb:i,sb:void 0},a=new oi(o);return e=window.setTimeout((function(){gi(i,!0);var t=new wi(bi,"Timeout reached for loading script "+r);si(a),ai(a,!1,t)}),5e3),o.sb=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(gi(i,!1,e),a.callback(null))},i.onerror=function(){gi(i,!0,e);var t=new wi(yi,"Error while loading script "+r);si(a),ai(a,!1,t)},ut(o={},{type:"text/javascript",charset:"UTF-8"}),function(t,e){ot(e,(function(e,n){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:qe.hasOwnProperty(n)?t.setAttribute(qe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(i,o),function(t,e){t.src=ye(e),null===p&&(p=(e=(e=l.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&d.test(e)?e:""),(e=p)&&t.setAttribute("nonce",e)}(i,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function vi(){if(this&&this.rb){var t=this.rb;t&&"SCRIPT"==t.tagName&&gi(t,!0,this.sb)}}function gi(t,e,n){null!=n&&l.clearTimeout(n),t.onload=m,t.onerror=m,t.onreadystatechange=m,e&&window.setTimeout((function(){Ge(t)}),0)}var yi=0,bi=1;function wi(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function _i(){return l.google&&l.google.accounts&&l.google.accounts.id||null}function ki(t){this.a=t||_i(),this.h=!1,this.g=null}N(wi,L),ki.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(ki);var xi=new pe(ve,"https://accounts.google.com/gsi/client");function Ei(){this.a=null}function Ii(t,e){this.a=t,this.g=e||function(t){throw t}}function Ti(t,e,n){this.reset(t,e,n,void 0,void 0)}function Si(t){this.s=t,this.a=this.h=this.j=this.g=null}function Ci(t,e){this.name=t,this.value=e}Ei.prototype.load=function(){var t=this;if(this.a)return this.a;var e=function(){var t=xi;t instanceof pe&&t.constructor===pe&&t.g===me?t=t.a:(R("expected object of type Const, got '"+t+"'"),t="type_error:Const");var e=new ge;return e.a=t,e}();return _i()?Vr():this.a=function(){var t=null;return new Br((function(e){"complete"==l.document.readyState?e():(t=function(){e()},rr(window,"load",t))})).Ca((function(e){throw ir(window,"load",t),e}))}().then((function(){if(!_i())return new Br((function(n,r){var i=setTimeout((function(){t.a=null,r(Error("Network error!"))}),1e4);l.onGoogleLibraryLoad=function(){clearTimeout(i),n()},Vr(mi(e)).then((function(){_i()&&n()})).Ca((function(e){clearTimeout(i),t.a=null,r(e)}))}))}))},v(Ei),Ii.prototype.confirm=function(t){return Vr(this.a.confirm(t)).Ca(this.g)},Ti.prototype.a=null,Ti.prototype.reset=function(t,e,n,r,i){this.h=r||P(),this.j=t,this.s=e,this.g=n,delete this.a},Ci.prototype.toString=function(){return this.name};var Ai=new Ci("SEVERE",1e3),Pi=new Ci("WARNING",900),Mi=new Ci("CONFIG",700);Si.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.j?e.j:e.g?t(e.g):(R("Root logger has no level set."),null)}(this).value)for(w(e)&&(e=e()),t=new Ti(t,String(e),this.s),n&&(t.a=n),n=this;n;){var r=n,i=t;if(r.a)for(var o=0;e=r.a[o];o++)e(i);n=n.g}};var Ni={},Li=null;function Oi(){Li||(Li=new Si(""),Ni[""]=Li,Li.j=Mi)}function Ri(){this.a=P()}var Bi=null;function Di(t){this.j=t||"",Bi||(Bi=new Ri),this.s=Bi}function ji(t){return 10>t?"0"+t:String(t)}function Ui(t){Di.call(this,t)}function Fi(){this.s=T(this.h,this),this.a=new Ui,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Ri.prototype.set=function(t){this.a=t},Ri.prototype.reset=function(){this.set(P())},Ri.prototype.get=function(){return this.a},Di.prototype.a=!0,Di.prototype.g=!0,Di.prototype.h=!1,N(Ui,Di),Fi.prototype.h=function(t){if(!this.j[t.g]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.g){var r=new Date(e.h);n.push("[",ji(r.getFullYear()-2e3)+ji(r.getMonth()+1)+ji(r.getDate())+" "+ji(r.getHours())+":"+ji(r.getMinutes())+":"+ji(r.getSeconds())+"."+ji(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.s.get()),"s] "),n.push("[",e.g,"] "),n.push(e.s),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);if(zi)!function(t,e,n,r){t[e]?t[e](n,r||""):t.log(n,r||"")}(zi,function(t){if(t){if(t.value>=Ai.value)return"error";if(t.value>=Pi.value)return"warn";if(t.value>=Mi.value)return"log"}return"debug"}(t.j),e,t.a)}};var $i,zi=l.console;function Vi(t,e){$i&&$i.log(Ai,t,e)}$i=function t(e){var n;if(Oi(),!(n=Ni[e])){n=new Si(e);var r=e.lastIndexOf("."),i=e.substr(r+1);(r=t(e.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Ni[e]=n}return n}("firebaseui");var qi=new Fi;if(1!=qi.g){var Hi;Oi(),Hi=Li;var Gi=qi.s;Hi.a||(Hi.a=[]),Hi.a.push(Gi),qi.g=!0}function Wi(t){$i&&$i.log(Pi,t,void 0)}function Ki(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Zi(t){t=(t.a.cookie||"").split(";");for(var e,n,r=[],i=[],o=0;o<t.length;o++)-1==(e=(n=Z(t[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,e)),i.push(n.substring(e+1)));return{keys:r,values:i}}(t=Ki.prototype).set=function(t,e,n,r,i,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');h(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(P()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+i+r+n+o},t.get=function(t,e){for(var n,r=t+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=Z(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==t)return""}return e},t.ja=function(){return Zi(this).keys},t.la=function(){return Zi(this).values},t.clear=function(){for(var t=Zi(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var Xi=new Ki;function Ji(){}function Yi(t,e,n,r){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!r}function Qi(t,e){this.g=t,this.a=e||null}function to(t){return{email:t.g,credential:t.a&&t.a.toJSON()}}function eo(t){if(t&&t.email){var e=t.credential&&le.auth.AuthCredential.fromJSON(t.credential);return new Qi(t.email,e)}return null}function no(t){this.a=t||null}function ro(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);255<i&&(e[n++]=255&i,i>>=8),e[n++]=i}return e}function io(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function oo(t){for(this.i=t,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(ao*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.g;t<ao*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,po(e),e[0]^=go[t/this.g][0],e[1]^=go[t/this.g][1],e[2]^=go[t/this.g][2],e[3]^=go[t/this.g][3]}else 6<this.g&&4==t%this.g&&po(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}a(Yi,Ji),Yi.prototype.set=function(t,e){Xi.set(t,e,this.h,this.g,this.a,this.j)},Yi.prototype.get=function(t){return Xi.get(t)||null},Yi.prototype.ra=function(t){var e=this.g,n=this.a;Xi.get(t),Xi.set(t,"",0,e,n)},oo.prototype.A=16;var ao=oo.prototype.A/4;function so(t,e){for(var n,r=0;r<ao;r++)for(var i=0;4>i;i++)n=e[n=4*i+r],t.h[r][i]=n}function uo(t){for(var e=[],n=0;n<ao;n++)for(var r=0;4>r;r++)e[4*r+n]=t.h[n][r];return e}function co(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]^=t.a[4*e+r][n]}function lo(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]=e[t.h[n][r]]}function ho(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][(n+e)%ao]}function fo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][(n+e)%ao]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][n]}function po(t){t[0]=mo[t[0]],t[1]=mo[t[1]],t[2]=mo[t[2]],t[3]=mo[t[3]]}var mo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],vo=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],go=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],yo=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],bo=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],wo=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],_o=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],ko=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],xo=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Eo(t,e){t=new oo(To(t));for(var n,r=W(e=ro(e),0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(so(n=t,r),co(n,0),r=1;r<n.j;++r){lo(n,mo),ho(n),o=n.h;for(var a=n.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=yo[a[0]]^bo[a[1]]^a[2]^a[3],o[1][s]=a[0]^yo[a[1]]^bo[a[2]]^a[3],o[2][s]=a[0]^a[1]^yo[a[2]]^bo[a[3]],o[3][s]=bo[a[0]]^a[1]^a[2]^yo[a[3]];co(n,r)}lo(n,mo),ho(n),co(n,n.j),i+=io(uo(n)),r=W(e,0,16)}return i}function Io(t,e){t=new oo(To(t));for(var n=[],r=0;r<e.length;r+=2)n.push(parseInt(e.substring(r,r+2),16));var i=W(n,0,16);for(e="";i.length;){for(so(r=t,i),co(r,r.j),i=1;i<r.j;++i){fo(r),lo(r,vo),co(r,r.j-i);for(var o=r.h,a=r.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=xo[a[0]]^_o[a[1]]^ko[a[2]]^wo[a[3]],o[1][s]=wo[a[0]]^xo[a[1]]^_o[a[2]]^ko[a[3]],o[2][s]=ko[a[0]]^wo[a[1]]^xo[a[2]]^_o[a[3]],o[3][s]=_o[a[0]]^ko[a[1]]^wo[a[2]]^xo[a[3]]}if(fo(r),lo(r,vo),co(r,0),8192>=(r=uo(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,K(r,o,o+8192));r=i}e+=r,i=W(n,0,16)}return e.replace(/(\x00)+$/,"")}function To(t){for(var e=32-(t=ro(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function So(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(y(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),Mo(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Mo(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Co,t,e),e.join("")}function Co(){}var Ao={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Po=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Mo(t,e){e.push('"',t.replace(Po,(function(t){var e=Ao[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ao[t]=e),e})),'"')}function No(t){this.a=t}function Lo(){}function Oo(t){this.a=t}function Ro(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(t){return!1}}function Bo(){var t=null;try{t=window.localStorage||null}catch(t){}this.a=t}function Do(){var t=null;try{t=window.sessionStorage||null}catch(t){}this.a=t}function jo(t,e){this.g=t,this.a=e+"::"}No.prototype.set=function(t,e){h(e)?this.a.set(t,So(e)):this.a.ra(t)},No.prototype.get=function(t){try{var e=this.a.get(t)}catch(t){return}if(null!==e)try{return JSON.parse(e)}catch(t){throw"Storage: Invalid value was encountered"}},N(Lo,Ji),Lo.prototype.clear=function(){var t=ft(this.ha(!0)),e=this;D(t,(function(t){e.ra(t)}))},N(Oo,Lo),(t=Oo.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(t){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!f(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ra=function(t){this.a.removeItem(t)},t.ha=function(t){var e=0,n=this.a,r=new lt;return r.next=function(){if(e>=n.length)throw ct;var r=n.key(e++);if(t)return r;if(!f(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},N(Bo,Oo),N(Do,Oo),N(jo,Lo),jo.prototype.set=function(t,e){this.g.set(this.a+t,e)},jo.prototype.get=function(t){return this.g.get(this.a+t)},jo.prototype.ra=function(t){this.g.ra(this.a+t)},jo.prototype.ha=function(t){var e=this.g.ha(!0),n=this,r=new lt;return r.next=function(){for(var r=e.next();r.substr(0,n.a.length)!=n.a;)r=e.next();return t?r.substr(n.a.length):n.g.get(r)},r},Ro(new Bo);var Uo=new Do,Fo=new No(Ro(Uo)?new jo(Uo,"firebaseui"):null),$o={name:"pendingEmailCredential",storage:Fo},zo={name:"redirectStatus",storage:Fo},Vo={name:"redirectUrl",storage:Fo},qo={name:"emailForSignIn",storage:new No(new Yi(3600,"/"))},Ho={name:"pendingEncryptedCredential",storage:new No(new Yi(3600,"/"))};function Go(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function Wo(t,e){t.storage.a.ra(e?t.name+":"+e:t.name)}function Ko(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function Zo(t){return Go(Vo,t)||null}function Xo(t){return eo(t=Go($o,t)||null)}function Jo(t){Wo($o,t)}function Yo(t,e){Ko($o,to(t),e)}function Qo(t){return(t=Go(zo,t)||null)&&void 0!==t.tenantId?new no(t.tenantId):null}function ta(){this.W={}}function ea(t,e,n){if(e.toLowerCase()in t.W)throw Error("Configuration "+e+" has already been defined.");t.W[e.toLowerCase()]=n}function na(t,e,n){if(!(e.toLowerCase()in t.W))throw Error("Configuration "+e+" is not defined.");t.W[e.toLowerCase()]=n}function ra(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function ia(){this.g=void 0,this.a={}}function oa(t,e,n,r){for(var i=0;i<e.length;i++){var o=e.charAt(i);t.a[o]||(t.a[o]=new ia),t=t.a[o]}if(r&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function aa(t){for(this.a=t,this.g=new ia,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function sa(t,e){var n={},r=0;for(void 0!==(t=t.g).g&&(n[r]=t.g);r<e.length;r++){var i=e.charAt(r);if(!(i in t.a))break;void 0!==(t=t.a[i]).g&&(n[r]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function ua(t){for(var e=0;e<fa.length;e++)if(fa[e].c===t)return fa[e];return null}function ca(t){t=t.toUpperCase();for(var e=[],n=0;n<fa.length;n++)fa[n].f===t&&e.push(fa[n]);return e}function la(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<fa.length;n++)fa[n].b==t&&e.push(fa[n]);t=e}else t=ca(t);return t}function ha(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}ta.prototype.get=function(t){if(!(t.toLowerCase()in this.W))throw Error("Configuration "+t+" is not defined.");return this.W[t.toLowerCase()]},(t=ia.prototype).set=function(t,e){oa(this,t,e,!1)},t.add=function(t,e){oa(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},t.la=function(){var t=[];return function t(e,n){for(var r in void 0!==e.g&&n.push(e.g),e.a)t(e.a[r],n)}(this,t),t},t.ja=function(){var t=[];return function t(e,n,r){for(var i in void 0!==e.g&&r.push(n),e.a)t(e.a[i],n+i,r)}(this,"",t),t},t.clear=function(){this.a={},this.g=void 0};var fa=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ha(fa);var da=new aa(fa);function pa(t,e){this.a=t,this.Aa=e}function ma(t){t=Z(t);var e=sa(da,t);return 0<e.length?new pa("1"==e[0].b?"1-US-0":e[0].c,Z(t.substr(e[0].b.length+1))):null}function va(t){var e=ua(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.Aa}function ga(t,e){for(var n=0;n<t.length;n++)if(!$(ya,t[n])&&(null!==ba&&t[n]in ba||$(e,t[n])))return t[n];return null}var ya=["emailLink","password","phone"],ba={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function wa(){this.a=new ta,ea(this.a,"acUiConfig"),ea(this.a,"autoUpgradeAnonymousUsers"),ea(this.a,"callbacks"),ea(this.a,"credentialHelper",Ka),ea(this.a,"immediateFederatedRedirect",!1),ea(this.a,"popupMode",!1),ea(this.a,"privacyPolicyUrl"),ea(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),ea(this.a,"queryParameterForWidgetMode","mode"),ea(this.a,"signInFlow"),ea(this.a,"signInOptions"),ea(this.a,"signInSuccessUrl"),ea(this.a,"siteName"),ea(this.a,"tosUrl"),ea(this.a,"widgetUrl")}function _a(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!Fa(t)&&Vi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function ka(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var r=t[n];(r=_(r)?r:{provider:r}).provider&&e.push(r)}return e}function xa(t,e){t=ka(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function Ea(t){return U(ka(t),(function(t){return t.provider}))}function Ia(t,e){t=Ta(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function Ta(t){return U(ka(t),(function(t){if(ba[t.provider]||$(Qa,t.provider)){for(var e in t={providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?_e(xe(t.iconUrl)).toString():null})null===t[e]&&delete t[e];return t}return{providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?_e(xe(t.iconUrl)).toString():null,Mb:t.loginHintKey||null}}))}function Sa(t){var e=xa(t,le.auth.GoogleAuthProvider.PROVIDER_ID);return e&&e.clientId&&function(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return Ka;if((t=t.a.get("credentialHelper"))===Ga)return Ka;for(var e in Za)if(Za[e]===t)return Za[e];return Ka}(t)===Wa&&e.clientId||null}function Ca(t,e){return t=(t=xa(t,e))&&t.scopes,Array.isArray(t)?t:[]}function Aa(t,e){return _(t=(t=xa(t,e))&&t.customParameters)?(t=at(t),e===le.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===le.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function Pa(t){if(!(t=xa(t,le.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!Array.isArray(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return fa;if(t=[],e){n={};for(var r=0;r<e.length;r++)for(var i=la(e[r]),o=0;o<i.length;o++)n[i[o].c]=i[o];for(var a in n)n.hasOwnProperty(a)&&t.push(n[a])}else{for(a={},e=0;e<n.length;e++)for(i=la(n[e]),r=0;r<i.length;r++)a[i[r].c]=i[r];for(i=0;i<fa.length;i++)null!==a&&fa[i].c in a||t.push(fa[i])}return t}function Ma(t){return ra(t.a,"queryParameterForWidgetMode")}function Na(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Wi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ni(e)}}return null}function La(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Wi("Term of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ni(n)}}return null}function Oa(t){return!(t=xa(t,le.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Ra(t){return!(!(t=xa(t,le.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==le.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Ba(t){var e=!!t.a.get("immediateFederatedRedirect"),n=Ea(t);return t=Da(t),e&&1==n.length&&!$(ya,n[0])&&t==Xa}function Da(t){for(var e in t=t.a.get("signInFlow"),Ja)if(Ja[e]==t)return Ja[e];return Xa}function ja(t){return $a(t).signInSuccess||null}function Ua(t){return $a(t).signInSuccessWithAuthResult||null}function Fa(t){return $a(t).signInFailure||null}function $a(t){return t.a.get("callbacks")||{}}var za,Va,qa,Ha,Ga="accountchooser.com",Wa="googleyolo",Ka="none",Za={ic:Ga,lc:Wa,NONE:Ka},Xa="redirect",Ja={oc:"popup",pc:Xa},Ya={kc:"callback",RECOVER_EMAIL:"recoverEmail",qc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",rc:"select",sc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Qa=["anonymous"],ts=["sitekey","tabindex","callback","expired-callback"],es={};function ns(t,e,n,r){es[t].apply(null,Array.prototype.slice.call(arguments,1))}function rs(t){return t.classList?t.classList:f(t=t.className)&&t.match(/\S+/g)||[]}function is(t,e){return t.classList?t.classList.contains(e):$(rs(t),e)}function os(t,e){t.classList?t.classList.add(e):is(t,e)||(t.className+=0<t.className.length?" "+e:e)}function as(t,e){t.classList?t.classList.remove(e):is(t,e)&&(t.className=j(rs(t),(function(t){return t!=e})).join(" "))}function ss(t){var e=t.type;switch(f(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,r=0;n=t.options[r];r++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function us(t,e){var n=t.type;switch(f(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,f(e))for(var r=0;n=t.options[r];r++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(f(e)&&(e=[e]),r=0;n=t.options[r];r++)if(n.selected=!1,e)for(var i,o=0;i=e[o];o++)n.value==i&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function cs(t,e,n,r,i,o){if(ne&&!fe("525"))return!0;if(ie&&i)return ls(t);if(i&&!r)return!1;if(!ee&&("number"==typeof e&&(e=hs(e)),(!n||ie)&&(17==e||18==e||ie&&91==e)||ie&&16==e&&(r||o)))return!1;if((ne||Qt)&&r&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Yt&&r&&e==t)return!1;switch(t){case 13:return!ee||!o&&!i&&!(n&&r);case 27:return!(ne||Qt||ee)}return(!ee||!(r||i||o))&&ls(t)}function ls(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(ne||Qt)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ee;default:return!1}}function hs(t){if(ee)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(ie&&ne)switch(t){case 93:t=91}return t}function fs(t){dr.call(this),this.a=t,er(t,"keydown",this.g,!1,this),er(t,"click",this.h,!1,this)}function ds(t,e){var n=new ms(e);if(pr(t,n)){n=new ps(e);try{pr(t,n)}finally{e.stopPropagation()}}}function ps(t){qn.call(this,t.a),this.type="action"}function ms(t){qn.call(this,t.a),this.type="beforeaction"}function vs(t){dr.call(this),this.a=t,t=Yt?"focusout":"blur",this.g=er(this.a,Yt?"focusin":"focus",this,!Yt),this.h=er(this.a,t,this,!Yt)}function gs(t,e){dr.call(this),this.g=t||1,this.a=e||l,this.h=T(this.ec,this),this.j=P()}function ys(t){t.Ka=!1,t.aa&&(t.a.clearTimeout(t.aa),t.aa=null)}function bs(t){Bn.call(this),this.g=t,this.a={}}N(fs,dr),fs.prototype.g=function(t){(13==t.keyCode||ne&&3==t.keyCode)&&ds(this,t)},fs.prototype.h=function(t){ds(this,t)},fs.prototype.m=function(){fs.K.m.call(this),ir(this.a,"keydown",this.g,!1,this),ir(this.a,"click",this.h,!1,this),delete this.a},N(ps,qn),N(ms,qn),N(vs,dr),vs.prototype.handleEvent=function(t){var e=new qn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",pr(this,e)},vs.prototype.m=function(){vs.K.m.call(this),or(this.g),or(this.h),delete this.a},N(gs,dr),(t=gs.prototype).Ka=!1,t.aa=null,t.ec=function(){if(this.Ka){var t=P()-this.j;0<t&&t<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-t):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),pr(this,"tick"),this.Ka&&(ys(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=P())},t.m=function(){gs.K.m.call(this),ys(this),delete this.a},N(bs,Bn);var ws=[];function _s(t,e,n,r){y(n)||(n&&(ws[0]=n.toString()),n=ws);for(var i=0;i<n.length;i++){var o=er(e,n[i],r||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function ks(t){ot(t.a,(function(t,e){this.a.hasOwnProperty(e)&&or(t)}),t),t.a={}}function xs(t){dr.call(this),this.a=null,this.g=t,t=Yt||Qt||ne&&!fe("531")&&"TEXTAREA"==t.tagName,this.h=new bs(this),_s(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function Es(t){null!=t.a&&(l.clearTimeout(t.a),t.a=null)}function Is(t){return(t=new qn(t.a)).type="input",t}function Ts(t,e){dr.call(this),t&&(this.Oa&&Ms(this),this.qa=t,this.Na=er(this.qa,"keypress",this,e),this.Ya=er(this.qa,"keydown",this.Hb,e,this),this.Oa=er(this.qa,"keyup",this.Ib,e,this))}bs.prototype.m=function(){bs.K.m.call(this),ks(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N(xs,dr),xs.prototype.handleEvent=function(t){if("input"==t.type)Yt&&fe(10)&&0==t.keyCode&&0==t.j||(Es(this),pr(this,Is(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(ls(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ee;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;Yt&&229==t.keyCode&&(e=null);var n=Is(t);Es(this),this.a=function(t,e){if(w(t))e&&(t=T(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(0)?-1:l.setTimeout(t,0)}((function(){this.a=null,this.g.value!=e&&pr(this,n)}),this)}},xs.prototype.m=function(){xs.K.m.call(this),this.h.o(),Es(this),delete this.g},N(Ts,dr),(t=Ts.prototype).qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Ss={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Cs={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},As=!ne||fe("525"),Ps=ie&&ee;function Ms(t){t.Na&&(or(t.Na),or(t.Ya),or(t.Oa),t.Na=null,t.Ya=null,t.Oa=null),t.qa=null,t.R=-1,t.X=-1}function Ns(t,e,n,r){qn.call(this,r),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function Ls(t,e,n,r){this.top=t,this.right=e,this.bottom=n,this.left=r}function Os(t,e){var n=We(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function Rs(t){try{var e=t.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}return Yt&&t.ownerDocument.body&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function Bs(t){var e=We(t),n=new je(0,0),r=e?We(e):document;return t==(r=!Yt||9<=Number(ce)||"CSS1Compat"==Fe(r).a.compatMode?r.documentElement:r.body)||(t=Rs(t),e=He(r=Fe(e).a),r=r.parentWindow||r.defaultView,e=Yt&&fe("10")&&r.pageYOffset!=e.scrollTop?new je(e.scrollLeft,e.scrollTop):new je(r.pageXOffset||e.scrollLeft,r.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g),n}(t=Ts.prototype).Hb=function(t){(ne||Qt)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||ie&&91==this.R&&!t.metaKey)&&(this.X=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),As&&!cs(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.X=hs(t.keyCode),Ps&&(this.Ua=t.altKey))},t.Ib=function(t){this.X=this.R=-1,this.Ua=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if(Yt&&"keypress"==t.type)var r=this.X,i=13!=r&&27!=r?e.keyCode:0;else(ne||Qt)&&"keypress"==t.type?(r=this.X,i=0<=e.charCode&&63232>e.charCode&&ls(r)?e.charCode:0):Jt&&!ne?i=ls(r=this.X)?e.keyCode:0:("keypress"==t.type?(Ps&&(n=this.Ua),e.keyCode==e.charCode?32>e.keyCode?(r=e.keyCode,i=0):(r=this.X,i=e.charCode):(r=e.keyCode||this.X,i=e.charCode||0)):(r=e.keyCode||this.X,i=e.charCode||0),ie&&63==i&&224==r&&(r=191));var o=r=hs(r);r?63232<=r&&r in Ss?o=Ss[r]:25==r&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in Cs&&(o=Cs[e.keyIdentifier]),ee&&As&&"keypress"==t.type&&!cs(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new Ns(o,i,t,e)).altKey=n,pr(this,e))},t.N=function(){return this.qa},t.m=function(){Ts.K.m.call(this),Ms(this)},N(Ns,qn),Ls.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Ls.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Ls.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Ls.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Ds={thin:2,medium:4,thick:6};function js(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in Ds)t=Ds[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=r,t=+n}return t}function Us(){}function Fs(t){dr.call(this),this.s=t||Fe(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function $s(t,e){return t.g?ze(e,t.g||t.s.a):null}function zs(t){return t.L||(t.L=new bs(t)),t.L}function Vs(t,e){t.Ea&&D(t.Ea,e,void 0)}function qs(t,e){var n=Ze(t,"firebaseui-textfield");e?(as(t,"firebaseui-input-invalid"),os(t,"firebaseui-input"),n&&as(n,"firebaseui-textfield-invalid")):(as(t,"firebaseui-input"),os(t,"firebaseui-input-invalid"),n&&os(n,"firebaseui-textfield-invalid"))}function Hs(t,e,n){Dn(t,S(jn,e=new xs(e))),_s(zs(t),e,"input",n)}function Gs(t,e,n){Dn(t,S(jn,e=new Ts(e))),_s(zs(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function Ws(t,e,n){Dn(t,S(jn,e=new fs(e))),_s(zs(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function Ks(t){os(t,"firebaseui-hidden")}function Zs(t,e){e&&Ke(t,e),as(t,"firebaseui-hidden")}function Xs(t){return!is(t,"firebaseui-hidden")&&"none"!=t.style.display}function Js(t){var e=(t=t||{}).email,n=t.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=t.uc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+mn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',hn(r)}function Ys(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Next",hn(e+"</button>")}function Qs(){var t=""+Ys({label:dn("Sign In")});return hn(t)}function tu(){var t=""+Ys({label:dn("Save")});return hn(t)}function eu(){var t=""+Ys({label:dn("Continue")});return hn(t)}function nu(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Choose password",hn(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function ru(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return hn((t+="Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function iu(){return hn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ou(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Cancel",hn(e+"</button>")}function au(t){var e="";return t.F&&t.D&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),hn(e)}function su(t){var e="";return t.F&&t.D&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),hn(e)}function uu(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+sn(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',hn(t)}function cu(t){var e=t.content;return t=t.zb,hn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(t?" "+mn(t):"")+'">'+sn(e)+"</dialog>")}function lu(t){var e=t.message;return hn(cu({content:pn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+mn(t.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+sn(e)+"</div>")}))}function hu(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,r=0;r<n;r++){var i=t[r];e+='<button type="button" data-listboxid="'+mn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+mn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+sn(i.label)+"</div></button>"}return e=""+cu({zb:dn("firebaseui-list-box-dialog"),content:pn(e+"</div>")}),hn(e)}function fu(t){return hn((t=t||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function du(t,e){return ln((t=(t=t||{}).ga).S?t.S:e.hb[t.providerId]?""+e.hb[t.providerId]:t.providerId&&0==t.providerId.indexOf("saml.")||t.providerId&&0==t.providerId.indexOf("oidc.")?t.providerId.substring(5):""+t.providerId)}function pu(t){gu(t,"upgradeElement")}function mu(t){gu(t,"downgradeElements")}v(Us),Us.prototype.a=0,N(Fs,dr),(t=Fs.prototype).Jb=Us.Xa(),t.N=function(){return this.g},t.Za=function(t){if(this.Y&&this.Y!=t)throw Error("Method not supported");Fs.K.Za.call(this,t)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(t){if(this.na)throw Error("Component already rendered");this.g||this.kb(),t?t.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Vs(this,(function(t){!t.na&&t.N()&&t.v()}))},t.ya=function(){Vs(this,(function(t){t.na&&t.ya()})),this.L&&ks(this.L),this.na=!1},t.m=function(){this.na&&this.ya(),this.L&&(this.L.o(),delete this.L),Vs(this,(function(t){t.o()})),this.g&&Ge(this.g),this.Y=this.g=this.oa=this.Ea=null,Fs.K.m.call(this)},t.removeChild=function(t,e){if(t){var n=f(t)?t:t.cb||(t.cb=":"+(t.Jb.a++).toString(36));if(this.oa&&n?t=(null!==(t=this.oa)&&n in t?t[n]:void 0)||null:t=null,n&&t){var r=this.oa;if(n in r&&delete r[n],z(this.Ea,t),e&&(t.ya(),t.g&&Ge(t.g)),null==(e=t))throw Error("Unable to set parent component");e.Y=null,Fs.K.Za.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},uu.a="firebaseui.auth.soy2.element.infoBar",lu.a="firebaseui.auth.soy2.element.progressDialog",hu.a="firebaseui.auth.soy2.element.listBoxDialog",fu.a="firebaseui.auth.soy2.element.busyIndicator";var vu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function gu(t,e){t&&window.componentHandler&&window.componentHandler[e]&&D(vu,(function(n){is(t,n)&&window.componentHandler[e](t),D($e(n,t),(function(t){window.componentHandler[e](t)}))}))}function yu(t,e,n){if(bu.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),pu(t),e&&Ws(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&bu.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(t.open){var e=t.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=t.getBoundingClientRect().width,u=r.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",e=a+(u-s)/2,t.style.left=e.toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-s).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function bu(){var t=wu.call(this);t&&(mu(t),t.open&&t.close(),Ge(t),this.da&&window.removeEventListener("resize",this.da))}function wu(){return ze("firebaseui-id-dialog")}function _u(){Ge(ku.call(this))}function ku(){return $s(this,"firebaseui-id-info-bar")}function xu(){return $s(this,"firebaseui-id-dismiss-info-bar")}var Eu={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Iu(t,e,n){for(var r in Vn.call(this,t,e),n)this[r]=n[r]}function Tu(t,e,n,r,i){Fs.call(this,n),this.fb=t,this.eb=e,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=at(Eu),ut(this.Z,i||{})}function Su(t){return t.N().parentElement||t.N().parentNode}function Cu(t,e,n){Gs(t,e,(function(){n.focus()}))}function Au(t,e,n){Gs(t,e,(function(){n()}))}function Pu(t,e,n){e=(t=t||{}).Va;var r=t.ia;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Js(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ou(null):"")+Ys(null)+'</div></div><div class="firebaseui-card-footer">'+(r?su(n):au(n))+"</div></form></div>",hn(t)}function Mu(t,e,n){return e=(t=t||{}).ia,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Js(t)+ru()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+iu()+'</div><div class="firebaseui-form-actions">'+Qs()+'</div></div><div class="firebaseui-card-footer">'+(e?su(n):au(n))+"</div></form></div>",hn(t)}function Nu(t,e,n){var r=(t=t||{}).Rb;e=t.Ta;var i=t.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Js(t);return r?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+mn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=hn(t)):t="",n=o+t+nu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ou(null):"")+tu()+'</div></div><div class="firebaseui-card-footer">'+(i?su(n):au(n))+"</div></form></div>",hn(n)}function Lu(t,e,n){return e=(t=t||{}).Ta,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Js(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ou(null):"")+Ys({label:dn("Send")})+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(t)}function Ou(t,e,n){e=t.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+sn(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(r+='<div class="firebaseui-form-actions">'+Ys({label:dn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+au(n)+"</div></div>",hn(r)}function Ru(t,e,n){return hn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+fu(null)+"</div></div>")}function Bu(t,e,n){return hn('<div class="firebaseui-container firebaseui-id-page-spinner">'+fu({tb:!0})+"</div>")}function Du(){return hn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function ju(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+sn(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+ou({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(e)}function Uu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ou({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(t)}function Fu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Js(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou(null)+Ys(null)+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(t)}function $u(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou({label:dn("Dismiss")})+"</div></div></div>";return hn(t)}function zu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou({label:dn("Dismiss")})+"</div></div></div>";return hn(t)}function Vu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="You’ve already used <strong>"+sn(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+ru()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+iu()+'</div><div class="firebaseui-form-actions">'+Qs()+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(e)}function qu(t,e,n){var r=t.email;return e="",t=dn(t=""+du(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="You’ve already used <strong>"+sn(r)+"</strong>. You can connect your <strong>"+sn(t)+"</strong> account with <strong>"+sn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+sn(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Qs()+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(e)}function Hu(t,e,n){e="";var r=""+du(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+sn(r=dn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+sn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+eu()+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(e)}function Gu(t,e,n){var r=t.email;return e="",t=dn(t=""+du(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="You’ve already used <strong>"+sn(r)+"</strong>. Sign in with "+sn(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ys({label:dn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(e)}function Wu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+sn(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou(null)+Ys({label:dn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(e)}function Ku(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+sn(t.email)+"</strong></p>")+nu(function(t){function e(){}var n={label:dn("New password")};for(var r in e.prototype=t,t=new e,n)t[r]=n[r];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+tu()+"</div></div></form></div>",hn(e)}function Zu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(t)}function Xu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(t)}function Ju(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+sn(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></form></div>",hn(n)}function Yu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(t)}function Qu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(t)}function tc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(t)}function ec(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="You can now sign in with your new email <strong>"+sn(t.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(n)}function nc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(t)}function rc(t){var e=t.factorId,n=t.phoneNumber;t=t.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(e){case"phone":r+=e="The <strong>"+sn(e)+" "+sn(n)+"</strong> was removed as a second authentication step.";break;default:r+="The device or app was removed as a second authentication step."}return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></form></div>",hn(r)}function ic(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+eu()+"</div>":"")+"</div></div>",hn(t)}function oc(t){var e=t.yb;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=Ys({label:dn("Retry")})),hn(t+"</div></div></div>")}function ac(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(t.errorMessage)+"</p></div></div>",hn(t)}function sc(t,e,n){var r=t.Ob;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+sn(t.hc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+sn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou(null)+Ys({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form></div>",hn(e)}function uc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Qb).length;for(var i=0;i<e;i++){var o={ga:t[i]},a=n,s=(o=o||{}).ga,u=o,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+mn(ln(c))+' firebaseui-id-idp-button" data-provider-id="'+mn(s.providerId)+'" style="background-color:')+mn(gn(ln((c=(c=(c=o)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;c=a,l=(l=l||{}).ga,c=fn(l.za?vn(l.za):c.xa[l.providerId]?vn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?vn(c.xa.saml):0==l.providerId.indexOf("oidc.")?vn(c.xa.oidc):vn(c.xa.password)),u=u+mn(vn(c))+'"></span>',"password"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(du(o,a)):u+="Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Email",u+="</span>"):"phone"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(du(o,a)):u+="Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Phone",u+="</span>"):"anonymous"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(du(o,a)):u+="Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):u+=c="Sign in with "+sn(du(o,a)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(s.S?sn(s.S):sn(du(o,a)))+"</span>"),r+='<li class="firebaseui-list-item">'+(s=hn(u+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+su(n)+"</div></div>",hn(r)}function cc(t,e,n){var r,i=(t=t||{}).Eb,o=t.Va;return e=t.ia,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+mn(null!=(t=(t=t||{}).Aa)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+hn(t))+(r=i?hn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?ou(null):"")+Ys({label:dn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',e=n.F&&n.D?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=hn(e+"</p>")):n=hn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+au(n),hn(r+n+"</div></form></div>")}function lc(t,e,n){var r="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+sn(e=(t=t||{}).phoneNumber)+"</a>",sn(e),e=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(r=hn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou(null)+Ys({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+au(n)+"</div></form>",t=hn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),hn(e+(n+t+"</div>"))}function hc(){return hn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function fc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.cc).length;for(var i=0;i<e;i++){var o=t[i],a="",s=sn(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+mn(u=dn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+mn(o.tenantId)+'"':"")+'style="background-color:'+mn(gn(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+mn(vn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?a+=sn(o.V):a+=o="Sign in to "+sn(o.displayName),r+='<li class="firebaseui-list-item">'+(a=hn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+s+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+su(n)+"</div></div>",hn(r)}function dc(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Js(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ys(null)+'</div></div><div class="firebaseui-card-footer">'+su(n)+"</div></form></div>",hn(t)}function pc(){return $s(this,"firebaseui-id-submit")}function mc(){return $s(this,"firebaseui-id-secondary-link")}function vc(t,e){Ws(this,pc.call(this),(function(e){t(e)}));var n=mc.call(this);n&&e&&Ws(this,n,(function(t){e(t)}))}function gc(){return $s(this,"firebaseui-id-password")}function yc(){return $s(this,"firebaseui-id-password-error")}function bc(){var t=gc.call(this),e=yc.call(this);Hs(this,t,(function(){Xs(e)&&(qs(t,!0),Ks(e))}))}function wc(){var t=gc.call(this),e=yc.call(this);return ss(t)?(qs(t,!0),Ks(e),e=!0):(qs(t,!1),Zs(e,ln("Enter your password").toString()),e=!1),e?ss(t):null}function _c(t,e,n,r,i,o){Tu.call(this,Vu,{email:t},o,"passwordLinking",{F:r,D:i}),this.w=e,this.H=n}N(Iu,Vn),N(Tu,Fs),(t=Tu.prototype).kb=function(){var t=nn(this.fb,this.eb,this.Z,this.s);pu(t),this.g=t},t.v=function(){if(Tu.K.v.call(this),yr(Su(this),new Iu("pageEnter",Su(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var t=this.Z.F;Ws(this,this.bb(),(function(){t()}))}if(this.ab()&&this.Z.D){var e=this.Z.D;Ws(this,this.ab(),(function(){e()}))}},t.ya=function(){yr(Su(this),new Iu("pageExit",Su(this),{pageId:this.Ga})),Tu.K.ya.call(this)},t.m=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,mu(this.N()),Tu.K.m.call(this)},t.I=function(t,e,n,r){function i(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(mu(o.A),Ge(o.A),o.A=null)}var o=this;return o.Fa?null:(function(t){t.Fa=!0;var e=is(t.N(),"firebaseui-use-spinner");t.ca=window.setTimeout((function(){t.N()&&null===t.A&&(t.A=nn(fu,{tb:e},null,t.s),t.N().appendChild(t.A),pu(t.A))}),500)}(o),t.apply(null,e).then(n,r).then(i,i))},C(Tu.prototype,{a:function(t){_u.call(this);var e=nn(uu,{message:t},null,this.s);this.N().appendChild(e),Ws(this,xu.call(this),(function(){Ge(e)}))},wc:_u,yc:ku,xc:xu,$:function(t,e){t=nn(lu,{Ma:t,message:e},null,this.s),yu.call(this,t)},h:bu,Bb:wu,Ac:function(){return $s(this,"firebaseui-tos")},bb:function(){return $s(this,"firebaseui-tos-link")},ab:function(){return $s(this,"firebaseui-pp-link")},Bc:function(){return $s(this,"firebaseui-tos-list")}}),Pu.a="firebaseui.auth.soy2.page.signIn",Mu.a="firebaseui.auth.soy2.page.passwordSignIn",Nu.a="firebaseui.auth.soy2.page.passwordSignUp",Lu.a="firebaseui.auth.soy2.page.passwordRecovery",Ou.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Ru.a="firebaseui.auth.soy2.page.callback",Bu.a="firebaseui.auth.soy2.page.spinner",Du.a="firebaseui.auth.soy2.page.blank",ju.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Uu.a="firebaseui.auth.soy2.page.emailNotReceived",Fu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",$u.a="firebaseui.auth.soy2.page.differentDeviceError",zu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Vu.a="firebaseui.auth.soy2.page.passwordLinking",qu.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Hu.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Gu.a="firebaseui.auth.soy2.page.federatedLinking",Wu.a="firebaseui.auth.soy2.page.unsupportedProvider",Ku.a="firebaseui.auth.soy2.page.passwordReset",Zu.a="firebaseui.auth.soy2.page.passwordResetSuccess",Xu.a="firebaseui.auth.soy2.page.passwordResetFailure",Ju.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",Yu.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",Qu.a="firebaseui.auth.soy2.page.emailVerificationSuccess",tc.a="firebaseui.auth.soy2.page.emailVerificationFailure",ec.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",nc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",rc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",ic.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",oc.a="firebaseui.auth.soy2.page.recoverableError",ac.a="firebaseui.auth.soy2.page.unrecoverableError",sc.a="firebaseui.auth.soy2.page.emailMismatch",uc.a="firebaseui.auth.soy2.page.providerSignIn",cc.a="firebaseui.auth.soy2.page.phoneSignInStart",lc.a="firebaseui.auth.soy2.page.phoneSignInFinish",hc.a="firebaseui.auth.soy2.page.signOut",fc.a="firebaseui.auth.soy2.page.selectTenant",dc.a="firebaseui.auth.soy2.page.providerMatchByEmail",a(_c,Tu),_c.prototype.v=function(){this.P(),this.M(this.w,this.H),Au(this,this.i(),this.w),this.i().focus(),Tu.prototype.v.call(this)},_c.prototype.m=function(){this.w=null,Tu.prototype.m.call(this)},_c.prototype.j=function(){return ss($s(this,"firebaseui-id-email"))},C(_c.prototype,{i:gc,B:yc,P:bc,u:wc,ea:pc,ba:mc,M:vc});var kc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function xc(){return $s(this,"firebaseui-id-email")}function Ec(){return $s(this,"firebaseui-id-email-error")}function Ic(t){var e=xc.call(this),n=Ec.call(this);Hs(this,e,(function(){Xs(n)&&(qs(e,!0),Ks(n))})),t&&Gs(this,e,(function(){t()}))}function Tc(){return Z(ss(xc.call(this))||"")}function Sc(){var t=xc.call(this),e=Ec.call(this),n=ss(t)||"";return n?kc.test(n)?(qs(t,!0),Ks(e),e=!0):(qs(t,!1),Zs(e,ln("That email address isn't correct").toString()),e=!1):(qs(t,!1),Zs(e,ln("Enter your email address to continue").toString()),e=!1),e?Z(ss(t)):null}function Cc(t,e,n,r,i,o,a){Tu.call(this,Mu,{email:n,ia:!!o},a,"passwordSignIn",{F:r,D:i}),this.w=t,this.H=e}function Ac(t,e,n,r,i,o){Tu.call(this,t,e,r,i||"notice",o),this.i=n||null}function Pc(t,e,n,r,i){Ac.call(this,Ou,{email:t,G:!!e},e,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Mc(t,e){Ac.call(this,Qu,{G:!!t},t,e,"emailVerificationSuccess")}function Nc(t,e){Ac.call(this,tc,{G:!!t},t,e,"emailVerificationFailure")}function Lc(t,e,n){Ac.call(this,ec,{email:t,G:!!e},e,n,"verifyAndChangeEmailSuccess")}function Oc(t,e){Ac.call(this,nc,{G:!!t},t,e,"verifyAndChangeEmailFailure")}function Rc(t,e){Ac.call(this,ic,{G:!!t},t,e,"revertSecondFactorAdditionFailure")}function Bc(t){Ac.call(this,hc,void 0,void 0,t,"signOut")}function Dc(t,e){Ac.call(this,Zu,{G:!!t},t,e,"passwordResetSuccess")}function jc(t,e){Ac.call(this,Xu,{G:!!t},t,e,"passwordResetFailure")}function Uc(t,e){Ac.call(this,Yu,{G:!!t},t,e,"emailChangeRevokeFailure")}function Fc(t,e,n){Ac.call(this,oc,{errorMessage:t,yb:!!e},e,n,"recoverableError")}function $c(t,e){Ac.call(this,ac,{errorMessage:t},void 0,e,"unrecoverableError")}function zc(t){return"auth/invalid-credential"===t.code&&t.message&&-1!==t.message.indexOf("error=consent_required")?{code:"auth/user-cancelled"}:t}function Vc(t,e,n,r){function i(n){if(!n.name||"cancel"!=n.name){t:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break t}}catch(t){}o=!1}if(o)n=Su(e),e.o(),Xc(t,n,void 0,ln("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=Gc(n)}e.a(o)}}}if(wh(t),r)return qc(t,n),Vr();if(!n.credential)throw Error("No credential found!");if(!lh(t).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(t,e){return xh(t),gh(t,(function(n){if(t.j&&!t.j.isAnonymous&&_a(kh(t))&&!lh(t).currentUser)return Ih(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return Ih(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Th(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ih(t).then((function(){return hh(t).updateCurrentUser(e.user)})).then((function(){return e.user=hh(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(t){return Vi(t.code||t.message,t),e.a(t.code||t.message),Vr()}return n=o.then((function(e){qc(t,e)}),i).then(void 0,i),bh(t,o),Vr(n)}function qc(t,e){if(!e.user)throw Error("No user found");var n=Ua(kh(t));if(ja(kh(t))&&n&&Wi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Ua(kh(t));var r=Zo(fh(t))||void 0;Wo(Vo,fh(t));var i=!1;ei()?(n&&!n(e,r)||(i=!0,De(window.opener.location,Hc(t,r))),n||window.close()):n&&!n(e,r)||(i=!0,De(window.location,Hc(t,r))),i||t.reset()}else{n=e.user,e=e.credential,r=ja(kh(t)),i=Zo(fh(t))||void 0,Wo(Vo,fh(t));var o=!1;ei()?(r&&!r(n,e,i)||(o=!0,De(window.opener.location,Hc(t,i))),r||window.close()):r&&!r(n,e,i)||(o=!0,De(window.location,Hc(t,i))),o||t.reset()}}function Hc(t,e){if(!(t=e||kh(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function Gc(t){var e={code:t.code},n="";switch((e=e||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Ln();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Ln();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Cn();break;case"auth/invalid-verification-code":n+=ln("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=ln(n).toString())return e;try{return JSON.parse(t.message),Vi("Internal error: "+t.message,void 0),Pn().toString()}catch(e){return t.message}}function Wc(t,e,n,r){function i(){!function(t,e){Ko(zo,{tenantId:t.a},e)}(new no(t.h.tenantId||null),fh(t)),bh(t,e.I(T(t.bc,t),[u],(function(){if("file:"===(window.location&&window.location.protocol))return bh(t,sh(t).then((function(n){e.o(),Wo(zo,fh(t)),ns("callback",t,s,Vr(n))}),o))}),a))}function o(n){if(Wo(zo,fh(t)),!n.name||"cancel"!=n.name)switch(n=zc(n),n.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a(Gc(n));break;default:e.o(),ns("callback",t,s,qr(n))}}function a(n){Wo(zo,fh(t)),n.name&&"cancel"==n.name||(Vi("signInWithRedirect: "+n.code,void 0),n=Gc(n),"blank"==e.Ga&&Ba(kh(t))?(e.o(),ns("providerSignIn",t,s,n)):e.a(n))}var s=Su(e),u=function(t,e,n){var r=ba[e]&&le.auth[ba[e]]?new le.auth[ba[e]]:0==e.indexOf("saml.")?new le.auth.SAMLAuthProvider(e):new le.auth.OAuthProvider(e);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Ca(kh(t),e);if(r.addScope)for(var o=0;o<i.length;o++)r.addScope(i[o]);return i=Aa(kh(t),e)||{},n&&((t=e==le.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==le.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=Ia(kh(t),e))&&t.Mb)&&(i[t]=n)),r.setCustomParameters&&r.setCustomParameters(i),r}(t,n,r);Da(kh(t))==Xa?i():bh(t,function(t,e){return xh(t),gh(t,(function(n){return n&&!Xo(fh(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Th(t,e)})):lh(t).signInWithPopup(e)}))}(t,u).then((function(n){e.o(),ns("callback",t,s,Vr(n))}),o))}function Kc(t){return 1==(t=Ea(kh(t))).length&&t[0]==le.auth.EmailAuthProvider.PROVIDER_ID}function Zc(t){return 1==(t=Ea(kh(t))).length&&t[0]==le.auth.PhoneAuthProvider.PROVIDER_ID}function Xc(t,e,n,r){Kc(t)?r?ns("signIn",t,e,n,r):tl(t,e,n):t&&Zc(t)&&!r?ns("phoneSignInStart",t,e):t&&Ba(kh(t))&&!r?ns("federatedRedirect",t,e,n):ns("providerSignIn",t,e,r,n)}function Jc(t,e,n,r){var i=Su(e);bh(t,e.I(T(lh(t).fetchSignInMethodsForEmail,lh(t)),[n],(function(o){e.o(),Yc(t,i,o,n,r)}),(function(t){t=Gc(t),e.a(t)})))}function Yc(t,e,n,r,i,o){n.length||Ra(kh(t))?!n.length&&Ra(kh(t))?ns("sendEmailLinkForSignIn",t,e,r,(function(){ns("signIn",t,e)})):$(n,le.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ns("passwordSignIn",t,e,r,o):1==n.length&&n[0]===le.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ra(kh(t))?ns("sendEmailLinkForSignIn",t,e,r,(function(){ns("signIn",t,e)})):ns("unsupportedProvider",t,e,r):(n=ga(n,Ea(kh(t))))?(Yo(new Qi(r),fh(t)),ns("federatedSignIn",t,e,r,n,i)):ns("unsupportedProvider",t,e,r):ns("passwordSignUp",t,e,r,void 0,void 0,o)}function Qc(t,e,n,r,i,o){var a=Su(e);bh(t,e.I(T(t.Gb,t),[n,o],(function(){e.o(),ns("emailLinkSignInSent",t,a,n,r,o)}),i))}function tl(t,e,n){n?ns("prefilledEmailSignIn",t,e,n):ns("signIn",t,e)}function el(){return bt(ii(),"oobCode")}function nl(){var t=bt(ii(),"continueUrl");return t?function(){De(window.location,t)}:null}function rl(t,e){Tu.call(this,zu,void 0,e,"anonymousUserMismatch"),this.i=t}function il(t){Tu.call(this,Ru,void 0,t,"callback")}function ol(t,e,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=Xo(fh(t)),o=i&&i.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var r=Su(e);bh(t,Ih(t).then((function(){e.o(),ns("emailMismatch",t,r,n)}),(function(t){t.name&&"cancel"==t.name||(t=Gc(t.code),e.a(t))})))}(t,e,r);else{var a=i&&i.a;a?bh(t,n.user.linkWithCredential(a).then((function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},al(t,e,r)}),(function(n){sl(t,e,n)}))):al(t,e,r)}}else n=Su(e),e.o(),Jo(fh(t)),Xc(t,n)}function al(t,e,n){Jo(fh(t)),Vc(t,e,n)}function sl(t,e,n){var r=Su(e);Jo(fh(t)),n=Gc(n),e.o(),Xc(t,r,void 0,n)}function ul(t,e,n,r){var i=Su(e);bh(t,lh(t).fetchSignInMethodsForEmail(n).then((function(o){e.o(),o.length?$(o,le.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ns("passwordLinking",t,i,n):1==o.length&&o[0]===le.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ns("emailLinkSignInLinking",t,i,n):(o=ga(o,Ea(kh(t))))?ns("federatedLinking",t,i,n,o,r):(Jo(fh(t)),ns("unsupportedProvider",t,i,n)):(Jo(fh(t)),ns("passwordRecovery",t,i,n,!1,Mn().toString()))}),(function(n){sl(t,e,n)})))}function cl(t,e){Tu.call(this,$u,void 0,e,"differentDeviceError"),this.i=t}function ll(t,e,n,r){Tu.call(this,Ju,{email:t,G:!!n},r,"emailChangeRevoke"),this.l=e,this.i=n||null}function hl(){return $s(this,"firebaseui-id-new-password")}function fl(){return $s(this,"firebaseui-id-password-toggle")}function dl(){this.Ra=!this.Ra;var t=fl.call(this),e=hl.call(this);this.Ra?(e.type="text",os(t,"firebaseui-input-toggle-off"),as(t,"firebaseui-input-toggle-on")):(e.type="password",os(t,"firebaseui-input-toggle-on"),as(t,"firebaseui-input-toggle-off")),e.focus()}function pl(){return $s(this,"firebaseui-id-new-password-error")}function ml(){this.Ra=!1;var t=hl.call(this);t.type="password";var e=pl.call(this);Hs(this,t,(function(){Xs(e)&&(qs(t,!0),Ks(e))}));var n=fl.call(this);os(n,"firebaseui-input-toggle-on"),as(n,"firebaseui-input-toggle-off"),function(t,e,n){Dn(t,S(jn,e=new vs(e))),_s(zs(t),e,"focusin",n)}(this,t,(function(){os(n,"firebaseui-input-toggle-focus"),as(n,"firebaseui-input-toggle-blur")})),function(t,e,n){Dn(t,S(jn,e=new vs(e))),_s(zs(t),e,"focusout",n)}(this,t,(function(){os(n,"firebaseui-input-toggle-blur"),as(n,"firebaseui-input-toggle-focus")})),Ws(this,n,T(dl,this))}function vl(){var t=hl.call(this),e=pl.call(this);return ss(t)?(qs(t,!0),Ks(e),e=!0):(qs(t,!1),Zs(e,ln("Enter your password").toString()),e=!1),e?ss(t):null}function gl(t,e,n){Tu.call(this,Ku,{email:t},n,"passwordReset"),this.l=e}function yl(t,e,n,r,i){Tu.call(this,rc,{factorId:t,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=e,this.i=r||null}function bl(t,e,n,r){"auth/weak-password"==(r&&r.code)?(t=Gc(r),qs(n.i(),!1),Zs(n.w(),t),n.i().focus()):(n&&n.o(),(n=new jc).render(e),uh(t,n))}function wl(t,e){try{var n="number"==typeof t.selectionStart}catch(t){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):Yt&&!fe("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function _l(t,e,n,r,i,o){Tu.call(this,Fu,{email:n},o,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=t,this.u=e}function kl(t,e,n,r,i){Tu.call(this,Hu,{ga:t},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=e}function xl(t){Tu.call(this,Du,void 0,t,"blank")}function El(t,e,n,r,i){var o=new xl,a=new Ft(n),s=a.a.a.get(qt.$a)||"",u=a.a.a.get(qt.Sa)||"",c="1"===a.a.a.get(qt.Qa),l=$t(a),h=a.a.a.get(qt.PROVIDER_ID)||null;a=a.a.a.get(qt.vb)||null,_h(t,a);var f=!Go(qo,fh(t)),d=r||function(t,e){var n=null;if(e=Go(qo,e))try{var r=Io(t,e),i=JSON.parse(r);n=i&&i.email||null}catch(t){}return n}(u,fh(t)),p=(r=function(t,e){var n=null;if(e=Go(Ho,e))try{var r=Io(t,e);n=JSON.parse(r)}catch(t){}return eo(n||null)}(u,fh(t)))&&r.a;h&&p&&p.providerId!==h&&(p=null),o.render(e),uh(t,o),bh(t,o.I((function(){var e=Vr(null);e=l&&f||f&&c?qr(Error("anonymous-user-not-found")):function(t,e){var n=$t(new Ft(e));return n?(e=new Br((function(e,r){var i=hh(t).onAuthStateChanged((function(t){i(),t&&t.isAnonymous&&t.uid===n?e(t):t&&t.isAnonymous&&t.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))}));bh(t,i)})),bh(t,e),e):Vr(null)}(t,n).then((function(t){if(h&&!p)throw Error("pending-credential-not-found");return t}));var r=null;return e.then((function(e){return r=e,i?null:lh(t).checkActionCode(s)})).then((function(){return r}))}),[],(function(r){d?function(t,e,n,r,i,o){var a=Su(e);e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Signing in...").toString());var s=null;i=(o?function(t,e,n,r,i){xh(t);var o=i||null,a=le.auth.EmailAuthProvider.credentialWithLink(n,r);return n=o?lh(t).signInWithEmailLink(n,r).then((function(t){return t.user.linkWithCredential(o)})).then((function(){return Ih(t)})).then((function(){return Th(t,{code:"auth/email-already-in-use"},o)})):lh(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Th(t,{code:"auth/email-already-in-use"},a):e.linkWithCredential(a)})),bh(t,n),n}(t,o,n,r,i):function(t,e,n,r){xh(t);var i,o=r||null;return e=lh(t).signInWithEmailLink(e,n).then((function(t){if(i={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){i={user:t.user,credential:o,operationType:i.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){Ih(t)})).then((function(){return hh(t).updateCurrentUser(i.user)})).then((function(){return i.user=hh(t).currentUser,i})),bh(t,e),e}(t,n,r,i)).then((function(n){Wo(Ho,fh(t)),Wo(qo,fh(t)),e.h(),e.$("firebaseui-icon-done",ln("Signed in!").toString()),s=setTimeout((function(){e.h(),Vc(t,e,n,!0)}),1e3),bh(t,(function(){e&&(e.h(),e.o()),clearTimeout(s)}))}),(function(i){if(e.h(),e.o(),!i.name||"cancel"!=i.name){var o=Gc(i);"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Wo(Ho,fh(t)),Wo(qo,fh(t))):"auth/invalid-email"==i.code?(o=ln("The email provided does not match the current sign-in session.").toString(),ns("emailLinkConfirmation",t,a,r,Il,null,o)):Xc(t,a,n,o)}})),bh(t,i)}(t,o,d,n,p,r):c?(o.o(),ns("differentDeviceError",t,e)):(o.o(),ns("emailLinkConfirmation",t,e,n,Il))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(o.o(),r&&r.message){case"anonymous-user-not-found":ns("differentDeviceError",t,e);break;case"anonymous-user-mismatch":ns("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":ns("emailLinkNewDeviceLinking",t,e,n,Tl);break;default:r&&(i=Gc(r)),Xc(t,e,void 0,i)}})))}function Il(t,e,n,r){El(t,e,r,n,!0)}function Tl(t,e,n){El(t,e,n)}function Sl(t,e,n,r,i,o){Tu.call(this,qu,{email:t,ga:e},o,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function Cl(t,e,n,r,i,o){Tu.call(this,ju,{email:t},o,"emailLinkSignInSent",{F:r,D:i}),this.u=e,this.i=n}function Al(t,e,n,r,i,o,a){Tu.call(this,sc,{hc:t,Ob:e},a,"emailMismatch",{F:i,D:o}),this.l=n,this.i=r}function Pl(t,e,n,r,i){Tu.call(this,Uu,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=t,this.i=e}function Ml(t,e,n,r,i,o){Tu.call(this,Gu,{email:t,ga:e},o,"federatedLinking",{F:r,D:i}),this.i=n}function Nl(t,e,n,r,i,o){Tu.call(this,Lu,{email:n,Ta:!!e},o,"passwordRecovery",{F:r,D:i}),this.l=t,this.u=e}function Ll(){return $s(this,"firebaseui-id-name")}function Ol(){return $s(this,"firebaseui-id-name-error")}function Rl(t,e,n,r,i,o,a,s,u){Tu.call(this,Nu,{email:r,Rb:t,name:i,Ta:!!n,ia:!!s},u,"passwordSignUp",{F:o,D:a}),this.w=e,this.H=n,this.B=t}function Bl(t,e){var n=Oa(kh(t)),r=e.j(),i=null;n&&(i=e.M());var o=e.P();if(r){if(n){if(!i)return void e.u().focus();i=it(i)}if(o){var a=le.auth.EmailAuthProvider.credential(r,o);bh(t,e.I(T(t.Wb,t),[r,o],(function(r){var o={user:r.user,credential:a,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then((function(){return Vc(t,e,o)})),bh(t,r),r):Vc(t,e,o)}),(function(n){if(!n.name||"cancel"!=n.name){var i=Gc(n);switch(n.code){case"auth/email-already-in-use":return function(t,e,n,r){function i(){var t=Gc(r);qs(e.i(),!1),Zs(e.U(),t),e.i().focus()}var o=lh(t).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=Su(e),e.o(),ns("passwordRecovery",t,r,n,!1,Mn().toString()))}),(function(){i()}));return bh(t,o),o}(t,e,r,n);case"auth/too-many-requests":i=ln("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":qs(e.l(),!1),Zs(e.ba(),i);break;default:Vi(n="setAccountInfo: "+So(n),void 0),e.a(i)}}})))}else e.l().focus()}else e.i().focus()}function Dl(){return $s(this,"firebaseui-id-phone-confirmation-code")}function jl(){return $s(this,"firebaseui-id-phone-confirmation-code-error")}function Ul(){return $s(this,"firebaseui-id-resend-countdown")}function Fl(t,e,n,r,i,o,a,s,u){Tu.call(this,lc,{phoneNumber:i},u,"phoneSignInFinish",{F:a,D:s}),this.jb=o,this.i=new gs(1e3),this.B=o,this.P=t,this.l=e,this.H=n,this.M=r}a(Cc,Tu),Cc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Cu(this,this.l(),this.i()),Au(this,this.i(),this.w),ss(this.l())?this.i().focus():this.l().focus(),Tu.prototype.v.call(this)},Cc.prototype.m=function(){this.H=this.w=null,Tu.prototype.m.call(this)},C(Cc.prototype,{l:xc,U:Ec,P:Ic,M:Tc,j:Sc,i:gc,B:yc,ea:bc,u:wc,ua:pc,pa:mc,ba:vc}),N(Ac,Tu),Ac.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Ac.K.v.call(this)},Ac.prototype.m=function(){this.i=null,Ac.K.m.call(this)},C(Ac.prototype,{l:pc,w:mc,u:vc}),N(Pc,Ac),N(Mc,Ac),N(Nc,Ac),N(Lc,Ac),N(Oc,Ac),N(Rc,Ac),N(Bc,Ac),N(Dc,Ac),N(jc,Ac),N(Uc,Ac),N(Fc,Ac),N($c,Ac),a(rl,Tu),rl.prototype.v=function(){var t=this;Ws(this,this.l(),(function(){t.i()})),this.l().focus(),Tu.prototype.v.call(this)},rl.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(rl.prototype,{l:mc}),es.anonymousUserMismatch=function(t,e){var n=new rl((function(){n.o(),Xc(t,e)}));n.render(e),uh(t,n)},a(il,Tu),il.prototype.I=function(t,e,n,r){return t.apply(null,e).then(n,r)},es.callback=function(t,e,n){var r=new il;r.render(e),uh(t,r),e=n||sh(t),bh(t,e.then((function(e){ol(t,r,e)}),(function(e){if((e=zc(e))&&("auth/account-exists-with-different-credential"==e.code||"auth/email-already-in-use"==e.code)&&e.email&&e.credential)Yo(new Qi(e.email,e.credential),fh(t)),ul(t,r,e.email);else if(e&&"auth/user-cancelled"==e.code){var n=Xo(fh(t)),i=Gc(e);n&&n.a?ul(t,r,n.g,i):n?Jc(t,r,n.g,i):sl(t,r,e)}else e&&"auth/credential-already-in-use"==e.code||(e&&"auth/operation-not-supported-in-this-environment"==e.code&&Kc(t)?ol(t,r,{user:null,credential:null}):sl(t,r,e))})))},a(cl,Tu),cl.prototype.v=function(){var t=this;Ws(this,this.l(),(function(){t.i()})),this.l().focus(),Tu.prototype.v.call(this)},cl.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(cl.prototype,{l:mc}),es.differentDeviceError=function(t,e){var n=new cl((function(){n.o(),Xc(t,e)}));n.render(e),uh(t,n)},a(ll,Tu),ll.prototype.v=function(){var t=this;Ws(this,$s(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Tu.prototype.v.call(this)},ll.prototype.m=function(){this.l=this.i=null,Tu.prototype.m.call(this)},C(ll.prototype,{u:pc,B:mc,w:vc}),a(gl,Tu),gl.prototype.v=function(){this.H(),this.B(this.l),Au(this,this.i(),this.l),this.i().focus(),Tu.prototype.v.call(this)},gl.prototype.m=function(){this.l=null,Tu.prototype.m.call(this)},C(gl.prototype,{i:hl,w:pl,M:fl,H:ml,u:vl,U:pc,P:mc,B:vc}),a(yl,Tu),yl.prototype.v=function(){var t=this;Ws(this,$s(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Tu.prototype.v.call(this)},yl.prototype.m=function(){this.l=this.i=null,Tu.prototype.m.call(this)},C(yl.prototype,{u:pc,B:mc,w:vc}),es.passwordReset=function(t,e,n,r){bh(t,lh(t).verifyPasswordResetCode(n).then((function(i){var o=new gl(i,(function(){!function(t,e,n,r,i){var o=n.u();o&&bh(t,n.I(T(lh(t).confirmPasswordReset,lh(t)),[r,o],(function(){n.o();var r=new Dc(i);r.render(e),uh(t,r)}),(function(r){bl(t,e,n,r)})))}(t,e,o,n,r)}));o.render(e),uh(t,o)}),(function(){bl(t,e)})))},es.emailChangeRevocation=function(t,e,n){var r=null;bh(t,lh(t).checkActionCode(n).then((function(e){return r=e.data.email,lh(t).applyActionCode(n)})).then((function(){!function(t,e,n){var r=new ll(n,(function(){bh(t,r.I(T(lh(t).sendPasswordResetEmail,lh(t)),[n],(function(){r.o(),(r=new Pc(n,void 0,Na(kh(t)),La(kh(t)))).render(e),uh(t,r)}),(function(){r.a(An().toString())})))}));r.render(e),uh(t,r)}(t,e,r)}),(function(){var n=new Uc;n.render(e),uh(t,n)})))},es.emailVerification=function(t,e,n,r){bh(t,lh(t).applyActionCode(n).then((function(){var n=new Mc(r);n.render(e),uh(t,n)}),(function(){var n=new Nc;n.render(e),uh(t,n)})))},es.revertSecondFactorAddition=function(t,e,n){var r=null,i=null;bh(t,lh(t).checkActionCode(n).then((function(e){return r=e.data.email,i=e.data.multiFactorInfo,lh(t).applyActionCode(n)})).then((function(){!function(t,e,n,r){var i=new yl(r.factorId,(function(){i.I(T(lh(t).sendPasswordResetEmail,lh(t)),[n],(function(){i.o(),(i=new Pc(n,void 0,Na(kh(t)),La(kh(t)))).render(e),uh(t,i)}),(function(){i.a(An().toString())}))}),r.phoneNumber);i.render(e),uh(t,i)}(t,e,r,i)}),(function(){var n=new Rc;n.render(e),uh(t,n)})))},es.verifyAndChangeEmail=function(t,e,n,r){var i=null;bh(t,lh(t).checkActionCode(n).then((function(e){return i=e.data.email,lh(t).applyActionCode(n)})).then((function(){var n=new Lc(i,r);n.render(e),uh(t,n)}),(function(){var n=new Oc;n.render(e),uh(t,n)})))},a(_l,Tu),_l.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),wl(this.i(),(this.i().value||"").length),Tu.prototype.v.call(this)},_l.prototype.m=function(){this.u=this.l=null,Tu.prototype.m.call(this)},C(_l.prototype,{i:xc,M:Ec,w:Ic,H:Tc,j:Sc,U:pc,P:mc,B:vc}),es.emailLinkConfirmation=function(t,e,n,r,i,o){var a=new _l((function(){var i=a.j();i?(a.o(),r(t,e,i,n)):a.i().focus()}),(function(){a.o(),Xc(t,e,i||void 0)}),i||void 0,Na(kh(t)),La(kh(t)));a.render(e),uh(t,a),o&&a.a(o)},a(kl,Tu),kl.prototype.v=function(){this.u(this.i),this.l().focus(),Tu.prototype.v.call(this)},kl.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(kl.prototype,{l:pc,u:vc}),es.emailLinkNewDeviceLinking=function(t,e,n,r){var i=new Ft(n);if(n=i.a.a.get(qt.PROVIDER_ID)||null,zt(i,null),n){var o=new kl(Ia(kh(t),n),(function(){o.o(),r(t,e,i.toString())}),Na(kh(t)),La(kh(t)));o.render(e),uh(t,o)}else Xc(t,e)},a(xl,Tu),es.emailLinkSignInCallback=El,a(Sl,Tu),Sl.prototype.v=function(){this.u(this.i),this.l().focus(),Tu.prototype.v.call(this)},Sl.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(Sl.prototype,{l:pc,u:vc}),es.emailLinkSignInLinking=function(t,e,n){var r=Xo(fh(t));if(Jo(fh(t)),r){var i=r.a.providerId,o=new Sl(n,Ia(kh(t),i),(function(){!function(t,e,n,r){var i=Su(e);Qc(t,e,n,(function(){Xc(t,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=Gc(r);r&&"auth/network-request-failed"==r.code?e.a(o):(e.o(),Xc(t,i,n,o))}}),r)}(t,o,n,r)}),Na(kh(t)),La(kh(t)));o.render(e),uh(t,o)}else Xc(t,e)},a(Cl,Tu),Cl.prototype.v=function(){var t=this;Ws(this,this.l(),(function(){t.i()})),Ws(this,$s(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),Tu.prototype.v.call(this)},Cl.prototype.m=function(){this.i=this.u=null,Tu.prototype.m.call(this)},C(Cl.prototype,{l:mc}),es.emailLinkSignInSent=function(t,e,n,r,i){var o=new Cl(n,(function(){o.o(),ns("emailNotReceived",t,e,n,r,i)}),(function(){o.o(),r()}),Na(kh(t)),La(kh(t)));o.render(e),uh(t,o)},a(Al,Tu),Al.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Tu.prototype.v.call(this)},Al.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(Al.prototype,{u:pc,B:mc,w:vc}),es.emailMismatch=function(t,e,n){var r=Xo(fh(t));if(r){var i=new Al(n.user.email,r.g,(function(){var e=i;Jo(fh(t)),Vc(t,e,n)}),(function(){var e=n.credential.providerId,o=Su(i);i.o(),r.a?ns("federatedLinking",t,o,r.g,e):ns("federatedSignIn",t,o,r.g,e)}),Na(kh(t)),La(kh(t)));i.render(e),uh(t,i)}else Xc(t,e)},a(Pl,Tu),Pl.prototype.v=function(){var t=this;Ws(this,this.u(),(function(){t.i()})),Ws(this,this.Da(),(function(){t.l()})),this.u().focus(),Tu.prototype.v.call(this)},Pl.prototype.Da=function(){return $s(this,"firebaseui-id-resend-email-link")},Pl.prototype.m=function(){this.i=this.l=null,Tu.prototype.m.call(this)},C(Pl.prototype,{u:mc}),es.emailNotReceived=function(t,e,n,r,i){var o=new Pl((function(){Qc(t,o,n,r,(function(t){t=Gc(t),o.a(t)}),i)}),(function(){o.o(),Xc(t,e,n)}),Na(kh(t)),La(kh(t)));o.render(e),uh(t,o)},a(Ml,Tu),Ml.prototype.v=function(){this.u(this.i),this.l().focus(),Tu.prototype.v.call(this)},Ml.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(Ml.prototype,{l:pc,u:vc}),es.federatedLinking=function(t,e,n,r,i){var o=Xo(fh(t));if(o&&o.a){var a=new Ml(n,Ia(kh(t),r),(function(){Wc(t,a,r,n)}),Na(kh(t)),La(kh(t)));a.render(e),uh(t,a),i&&a.a(i)}else Xc(t,e)},es.federatedRedirect=function(t,e,n){var r=new xl;r.render(e),uh(t,r),Wc(t,r,e=Ea(kh(t))[0],n)},es.federatedSignIn=function(t,e,n,r,i){var o=new Ml(n,Ia(kh(t),r),(function(){Wc(t,o,r,n)}),Na(kh(t)),La(kh(t)));o.render(e),uh(t,o),i&&o.a(i)},es.passwordLinking=function(t,e,n){var r=Xo(fh(t));Jo(fh(t));var i=r&&r.a;if(i){var o=new _c(n,(function(){!function(t,e,n,r){var i=e.u();i?bh(t,e.I(T(t.Vb,t),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return Vc(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),bh(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":qs(e.i(),!1),Zs(e.B(),Gc(t));break;case"auth/too-many-requests":e.a(Gc(t));break;default:Vi("signInWithEmailAndPassword: "+t.message,void 0),e.a(Gc(t))}}))):e.i().focus()}(t,o,n,i)}),(function(){o.o(),ns("passwordRecovery",t,e,n)}),Na(kh(t)),La(kh(t)));o.render(e),uh(t,o)}else Xc(t,e)},a(Nl,Tu),Nl.prototype.v=function(){this.B(),this.H(this.l,this.u),ss(this.i())||this.i().focus(),Au(this,this.i(),this.l),Tu.prototype.v.call(this)},Nl.prototype.m=function(){this.u=this.l=null,Tu.prototype.m.call(this)},C(Nl.prototype,{i:xc,w:Ec,B:Ic,M:Tc,j:Sc,U:pc,P:mc,H:vc}),es.passwordRecovery=function(t,e,n,r,i){var o=new Nl((function(){!function(t,e){var n=e.j();if(n){var r=Su(e);bh(t,e.I(T(lh(t).sendPasswordResetEmail,lh(t)),[n],(function(){e.o();var i=new Pc(n,(function(){i.o(),Xc(t,r)}),Na(kh(t)),La(kh(t)));i.render(r),uh(t,i)}),(function(t){qs(e.i(),!1),Zs(e.w(),Gc(t))})))}else e.i().focus()}(t,o)}),r?void 0:function(){o.o(),Xc(t,e)},n,Na(kh(t)),La(kh(t)));o.render(e),uh(t,o),i&&o.a(i)},es.passwordSignIn=function(t,e,n,r){var i=new Cc((function(){!function(t,e){var n=e.j(),r=e.u();if(n)if(r){var i=le.auth.EmailAuthProvider.credential(n,r);bh(t,e.I(T(t.$b,t),[n,r],(function(n){return Vc(t,e,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":qs(e.l(),!1),Zs(e.U(),Gc(t));break;case"auth/too-many-requests":case"auth/wrong-password":qs(e.i(),!1),Zs(e.B(),Gc(t));break;default:Vi("verifyPassword: "+t.message,void 0),e.a(Gc(t))}})))}else e.i().focus();else e.l().focus()}(t,i)}),(function(){var n=i.M();i.o(),ns("passwordRecovery",t,e,n)}),n,Na(kh(t)),La(kh(t)),r);i.render(e),uh(t,i)},a(Rl,Tu),Rl.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Cu(this,this.i(),this.u()),Cu(this,this.u(),this.l())):Cu(this,this.i(),this.l()),this.w&&Au(this,this.l(),this.w),ss(this.i())?this.B&&!ss(this.u())?this.u().focus():this.l().focus():this.i().focus(),Tu.prototype.v.call(this)},Rl.prototype.m=function(){this.H=this.w=null,Tu.prototype.m.call(this)},C(Rl.prototype,{i:xc,U:Ec,ea:Ic,jb:Tc,j:Sc,u:Ll,zc:Ol,Ja:function(){var t=Ll.call(this),e=Ol.call(this);Hs(this,t,(function(){Xs(e)&&(qs(t,!0),Ks(e))}))},M:function(){var t=Ll.call(this),e=Ol.call(this),n=ss(t);return qs(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Ks(e),e=!0):(Zs(e,ln("Enter your account name").toString()),e=!1),e?Z(ss(t)):null},l:hl,ba:pl,lb:fl,ua:ml,P:vl,Lb:pc,Kb:mc,pa:vc}),es.passwordSignUp=function(t,e,n,r,i,o){var a=new Rl(Oa(kh(t)),(function(){Bl(t,a)}),i?void 0:function(){a.o(),Xc(t,e)},n,r,Na(kh(t)),La(kh(t)),o);a.render(e),uh(t,a)},a(Fl,Tu),Fl.prototype.v=function(){var t=this;this.U(this.jb),er(this.i,"tick",this.w,!1,this),this.i.start(),Ws(this,$s(this,"firebaseui-id-change-phone-number-link"),(function(){t.P()})),Ws(this,this.Da(),(function(){t.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Tu.prototype.v.call(this)},Fl.prototype.m=function(){this.M=this.H=this.l=this.P=null,ys(this.i),ir(this.i,"tick",this.w),this.i=null,Tu.prototype.m.call(this)},Fl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(ys(this.i),ir(this.i,"tick",this.w),this.ua(),this.lb())},C(Fl.prototype,{u:Dl,pa:jl,Ja:function(t){var e=Dl.call(this),n=jl.call(this);Hs(this,e,(function(){Xs(n)&&(qs(e,!0),Ks(n))})),t&&Gs(this,e,(function(){t()}))},ba:function(){var t=Z(ss(Dl.call(this))||"");return/^\d{6}$/.test(t)?t:null},Db:Ul,U:function(t){Ke(Ul.call(this),ln("Resend code in "+(9<t?"0:":"0:0")+t).toString())},ua:function(){Ks(this.Db())},Da:function(){return $s(this,"firebaseui-id-resend-link")},lb:function(){Zs(this.Da())},Lb:pc,Kb:mc,ea:vc}),es.phoneSignInFinish=function(t,e,n,r,i,o){var a=new Fl((function(){a.o(),ns("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,r){function i(t){e.u().focus(),qs(e.u(),!1),Zs(e.pa(),t)}var o=e.ba();o?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),bh(t,e.I(T(r.confirm,r),[o],(function(n){e.h(),e.$("firebaseui-icon-done",ln("Verified!").toString());var r=setTimeout((function(){e.h(),e.o();var r={user:hh(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Vc(t,e,r,!0)}),1e3);bh(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)e.h();else{var o=Gc(r);switch(r.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":r=Su(e),e.h(),e.o(),ns("phoneSignInStart",t,r,n,o);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),i(o);break;default:e.h(),e.a(o)}}})))):i(ln("Wrong code. Try again.").toString())}(t,a,n,i)}),(function(){a.o(),Xc(t,e)}),(function(){a.o(),ns("phoneSignInStart",t,e,n)}),va(n),r,Na(kh(t)),La(kh(t)));a.render(e),uh(t,a),o&&a.a(o)};var $l=!(Yt||Wt("Safari")&&!(Kt()||Wt("Coast")||Wt("Opera")||Wt("Edge")||Wt("Firefox")||Wt("FxiOS")||Wt("Silk")||Wt("Android")));function zl(t,e){return/-[a-z]/.test(e)?null:$l&&t.dataset?!Wt("Android")||Kt()||Wt("Firefox")||Wt("FxiOS")||Wt("Opera")||Wt("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function Vl(t,e,n){var r=this;t=nn(hu,{items:t},null,this.s),yu.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(zl(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||He(document))||He(document),r=Bs(t),i=Bs(n);if(!Yt||9<=Number(ce)){a=Os(n,"borderLeftWidth");var o=Os(n,"borderRightWidth");s=Os(n,"borderTopWidth"),u=Os(n,"borderBottomWidth"),o=new Ls(parseFloat(s),parseFloat(o),parseFloat(u),parseFloat(a))}else{var a=js(n,"borderLeft");o=js(n,"borderRight");var s=js(n,"borderTop"),u=js(n,"borderBottom");o=new Ls(s,o,u,a)}n==He(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!Yt||10<=Number(ce)||(a+=o.left,r+=o.top)):(a=r.a-i.a-o.left,r=r.g-i.g-o.top),i=t.offsetWidth,o=t.offsetHeight,s=ne&&!i&&!o,h(i)&&!s||!t.getBoundingClientRect?t=new Ue(i,o):t=new Ue((t=Rs(t)).right-t.left,t.bottom-t.top),i=n.clientHeight-t.height,o=n.scrollLeft,s=n.scrollTop,n=new je(o+=Math.min(a,Math.max(a-(n.clientWidth-t.width),0)),s+=Math.min(r,Math.max(r-i,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),Ws(this,t,(function(t){(t=(t=Ze(t.target,"firebaseui-id-list-box-dialog-button"))&&zl(t,"listboxid"))&&(bu.call(r),e(t))}))}function ql(){return $s(this,"firebaseui-id-phone-number")}function Hl(){return $s(this,"firebaseui-id-country-selector")}function Gl(){return $s(this,"firebaseui-id-phone-number-error")}function Wl(t,e){var n=t.a,r=Kl("1-US-0",n),i=null;if(!(i=e&&Kl(e,n)?e:r?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");Jl.call(this,i,t)}function Kl(t,e){return!(!(t=ua(t))||!$(e,t))}function Zl(t){return"firebaseui-flag-"+t.f}function Xl(t){var e=this;Vl.call(this,function(t){return U(t,(function(t){return{id:t.c,Ma:"firebaseui-flag "+Zl(t),label:t.name+" ‎+"+t.b}}))}(t.a),(function(n){Jl.call(e,n,t,!0),e.O().focus()}),this.Ba)}function Jl(t,e,n){var r=ua(t);r&&(n&&((e=sa(e,n=Z(ss(ql.call(this))||""))).length&&e[0].b!=r.b&&(n="+"+r.b+n.substr(e[0].b.length+1),us(ql.call(this),n))),e=ua(this.Ba),this.Ba=t,t=$s(this,"firebaseui-id-country-selector-flag"),e&&as(t,Zl(e)),os(t,Zl(r)),Ke($s(this,"firebaseui-id-country-selector-code"),"‎+"+r.b))}function Yl(t,e,n,r,i,o,a,s,u,c){Tu.call(this,cc,{Eb:e,Aa:u||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:r,D:i}),this.H=s||null,this.M=e,this.l=t,this.w=n||null,this.pa=a||null}function Ql(t,e,n,r){try{var i=e.U(qa)}catch(t){return}i?za?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),bh(t,e.I(T(t.ac,t),[va(i),n],(function(n){var r=Su(e);e.$("firebaseui-icon-done",ln("Code sent!").toString());var o=setTimeout((function(){e.h(),e.o(),ns("phoneSignInFinish",t,r,i,15,n)}),1e3);bh(t,(function(){e&&e.h(),clearTimeout(o)}))}),(function(t){if(e.h(),!t.name||"cancel"!=t.name){grecaptcha.reset(Ha),za=null;var n=t&&t.message||"";if(t.code)switch(t.code){case"auth/too-many-requests":n=ln("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.O().focus(),void Zs(e.B(),Cn().toString());default:n=Gc(t)}e.a(n)}})))):Va?Zs(e.u(),ln("Solve the reCAPTCHA").toString()):!Va&&r&&e.i().click():(e.O().focus(),Zs(e.B(),Cn().toString()))}function th(t,e,n,r,i){Tu.call(this,uc,{Qb:e},i,"providerSignIn",{F:n,D:r}),this.i=t}function eh(t,e,n,r,i,o,a){Tu.call(this,Pu,{email:n,Va:!!e,ia:!!o},a,"signIn",{F:r,D:i}),this.i=t,this.u=e}function nh(t,e,n,r,i,o){Tu.call(this,Wu,{email:t},o,"unsupportedProvider",{F:r,D:i}),this.l=e,this.i=n}function rh(t,e){this.$=!1;var n=ah(e);if(oh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');oh[n]=this,this.a=t,this.u=null,this.Y=!1,ih(this.a),this.h=le.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),ih(this.h),this.h.setPersistence&&this.h.setPersistence(le.auth.Auth.Persistence.SESSION),this.oa=e,this.ca=new wa,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=ki.Xa(),this.j=this.C=null,this.da=this.A=!1}function ih(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}a(Yl,Tu),Yl.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Cu(this,this.O(),this.i()),Au(this,this.i(),this.l),this.O().focus(),wl(this.O(),(this.O().value||"").length),Tu.prototype.v.call(this)},Yl.prototype.m=function(){this.w=this.l=null,Tu.prototype.m.call(this)},C(Yl.prototype,{Bb:wu,O:ql,B:Gl,ea:function(t,e,n){var r=this,i=ql.call(this),o=Hl.call(this),a=Gl.call(this),s=t||da,u=s.a;if(0==u.length)throw Error("No available countries provided.");Wl.call(r,s,e),Ws(this,o,(function(){Xl.call(r,s)})),Hs(this,i,(function(){Xs(a)&&(qs(i,!0),Ks(a));var t=Z(ss(i)||""),e=ua(this.Ba),n=sa(s,t);t=Kl("1-US-0",u),n.length&&n[0].b!=e.b&&(e=n[0],Jl.call(r,"1"==e.b&&t?"1-US-0":e.c,s))})),n&&Gs(this,i,(function(){n()}))},U:function(t){var e=Z(ss(ql.call(this))||""),n=(t=t||da).a,r=sa(da,e);if(r.length&&!$(n,r[0]))throw us(ql.call(this)),ql.call(this).focus(),Zs(Gl.call(this),ln("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=ua(this.Ba),r.length&&r[0].b!=n.b&&Jl.call(this,r[0].c,t),r.length&&(e=e.substr(r[0].b.length+1)),e?new pa(this.Ba,e):null},Ja:Hl,ba:function(){return $s(this,"firebaseui-recaptcha-container")},u:function(){return $s(this,"firebaseui-id-recaptcha-error")},i:pc,ua:mc,P:vc}),es.phoneSignInStart=function(t,e,n,r){var i=function(t){var e=null;if(D(ka(t),(function(t){t.provider==le.auth.PhoneAuthProvider.PROVIDER_ID&&_(t.recaptchaParameters)&&!Array.isArray(t.recaptchaParameters)&&(e=at(t.recaptchaParameters))})),e){var n=[];D(ts,(function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&Wi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(kh(t))||{};za=null,Va=!(i&&"invisible"===i.size);var o=Zc(t),a=function(t){var e=(t=xa(t,le.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&ca(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=ma(t.loginHint)),e&&e[0]||n&&ua(n.a)||null}(kh(t)),s=o?function(t){var e=null;return(t=xa(t,le.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=ma(t.loginHint)),t&&t.defaultNationalNumber||e&&e.Aa||null}(kh(t)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||s,(s=Pa(kh(t)))&&ha(s),qa=s?new aa(Pa(kh(t))):da;var u=new Yl((function(e){Ql(t,u,c,!(!e||!e.keyCode))}),Va,o?null:function(){c.clear(),u.o(),Xc(t,e)},Na(kh(t)),La(kh(t)),o,qa,a,n);u.render(e),uh(t,u),r&&u.a(r),i.callback=function(e){u.u()&&Ks(u.u()),za=e,Va||Ql(t,u,c)},i["expired-callback"]=function(){za=null};var c=new le.auth.RecaptchaVerifier(Va?u.ba():u.i(),i,hh(t).app);bh(t,u.I(T(c.render,c),[],(function(t){Ha=t}),(function(n){n.name&&"cancel"==n.name||(n=Gc(n),u.o(),Xc(t,e,void 0,n))})))},es.prefilledEmailSignIn=function(t,e,n){var r=new xl;r.render(e),uh(t,r),bh(t,r.I(T(lh(t).fetchSignInMethodsForEmail,lh(t)),[n],(function(i){r.o();var o=!(!Kc(t)||!dh(t));Yc(t,e,i,n,void 0,o)}),(function(i){i=Gc(i),r.o(),ns("signIn",t,e,n,i)})))},a(th,Tu),th.prototype.v=function(){this.l(this.i),Tu.prototype.v.call(this)},th.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(th.prototype,{l:function(t){function e(e){t(e)}for(var n=this.g?$e("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];Ws(this,i,S(e,zl(i,"providerId")))}}}),es.providerSignIn=function(t,e,n,r){var i=new th((function(n){n==le.auth.EmailAuthProvider.PROVIDER_ID?(i.o(),tl(t,e,r)):n==le.auth.PhoneAuthProvider.PROVIDER_ID?(i.o(),ns("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){bh(t,e.I(T(t.Yb,t),[],(function(n){return e.o(),Vc(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Vi("ContinueAsGuest: "+t.code,void 0),t=Gc(t),e.a(t))})))}(t,i):Wc(t,i,n,r),xh(t),t.l.cancel()}),Ta(kh(t)),Na(kh(t)),La(kh(t)));i.render(e),uh(t,i),n&&i.a(n),function(t){xh(t);try{(function t(e,n,r){return e.a&&n?(e.h=!0,new Br((function(t){e.g=t,e.a.initialize({client_id:n,callback:t,auto_select:!r}),e.a.prompt()}))):Vr(n?Ei.Xa().load().then((function(){return e.a=_i(),t(e,n,r)})).Ca((function(){return null})):null)})(t.l,Sa(kh(t)),function(t){var e;return xh(t),(e=t.Z)||(t=Aa(t=kh(t),le.auth.GoogleAuthProvider.PROVIDER_ID),e=!(!t||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.g&&function(t,e,n){if(n&&n.credential&&n.clientId===Sa(kh(t))){if(Ca(kh(t),le.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(t){}return Wc(t,e,le.auth.GoogleAuthProvider.PROVIDER_ID,r),Vr(!0)}return function(n){var r=!1;return n=e.I(T(t.Zb,t),[n],(function(n){var i=Su(e);e.o(),ns("callback",t,i,Vr(n)),r=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Su(e);e.o(),ns("callback",t,r,qr(n))}else n=Gc(n),e.a(n)})),bh(t,n),n.then((function(){return r}),(function(){return!1}))}(le.auth.GoogleAuthProvider.credential(n.credential))}return n&&e.a(ln("The selected credential for the authentication provider is not supported!").toString()),Vr(!1)}(t,t.g,e)}))}catch(t){}}(t)},es.sendEmailLinkForSignIn=function(t,e,n,r){var i=new il;i.render(e),uh(t,i),Qc(t,i,n,r,(function(r){i.o(),r=Gc(r),ns("signIn",t,e,n,r)}))},a(eh,Tu),eh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),wl(this.l(),(this.l().value||"").length),Tu.prototype.v.call(this)},eh.prototype.m=function(){this.u=this.i=null,Tu.prototype.m.call(this)},C(eh.prototype,{l:xc,M:Ec,w:Ic,H:Tc,j:Sc,U:pc,P:mc,B:vc}),es.signIn=function(t,e,n,r){var i=Kc(t),o=new eh((function(){var e=o,n=e.j()||"";n&&Jc(t,e,n)}),i?null:function(){o.o(),Xc(t,e,n)},n,Na(kh(t)),La(kh(t)),i);o.render(e),uh(t,o),r&&o.a(r)},a(nh,Tu),nh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Tu.prototype.v.call(this)},nh.prototype.m=function(){this.i=this.l=null,Tu.prototype.m.call(this)},C(nh.prototype,{u:pc,B:mc,w:vc}),es.unsupportedProvider=function(t,e,n){var r=new nh(n,(function(){r.o(),ns("passwordRecovery",t,e,n)}),(function(){r.o(),Xc(t,e,n)}),Na(kh(t)),La(kh(t)));r.render(e),uh(t,r)};var oh={};function ah(t){return t||"[DEFAULT]"}function sh(t){return xh(t),t.i||(t.i=gh(t,(function(e){return e&&!Xo(fh(t))?Vr(hh(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Th(t,e)}))):Vr(lh(t).getRedirectResult().then((function(e){return _a(kh(t))&&!e.user&&t.j&&!t.j.isAnonymous?hh(t).getRedirectResult():e})))}))),t.i}function uh(t,e){xh(t),t.g=e}var ch=null;function lh(t){return xh(t),t.h}function hh(t){return xh(t),t.a}function fh(t){return xh(t),t.oa}function dh(t){return xh(t),t.O?t.O.emailHint:void 0}function ph(t){return"signIn"===((t=new Ft(t)).a.a.get(qt.ub)||null)&&!!t.a.a.get(qt.$a)}function mh(t,e,n,r){xh(t),void 0!==t.a.languageCode&&(t.u=t.a.languageCode);var i="en".replace(/_/g,"-");t.a.languageCode=i,t.h.languageCode=i,t.Y=!0,void 0!==t.a.tenantId&&(t.h.tenantId=t.a.tenantId),t.ib(n),t.O=r||null;var o=l.document;t.C?t.C.then((function(){"complete"==o.readyState?vh(t,e):rr(window,"load",(function(){vh(t,e)}))})):"complete"==o.readyState?vh(t,e):rr(window,"load",(function(){vh(t,e)}))}function vh(t,e){var n=ri(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),ch){var r=ch;xh(r),Xo(fh(r))&&Wi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),ch.reset()}if(ch=t,t.T=n,function(t,e){t.L=null,t.J=new _r(e),t.J.register(),er(t.J,"pageEnter",(function(e){if(e=e&&e.pageId,t.L!=e){var n=kh(t);(n=$a(n).uiChanged||null)&&n(t.L,e),t.L=e}}))}(t,n),Ro(new Bo)&&Ro(new Do)){e=ri(e,"Could not find the FirebaseUI widget element on the page."),n=(n=bt(n=ii(),r=ra(kh(t).a,"queryParameterForSignInSuccessUrl")))?_e(xe(n)).toString():null;t:{r=ii();var i=Ma(kh(t));for(o in r=bt(r,i)||"",Ya)if(Ya[o].toLowerCase()==r.toLowerCase()){var o=Ya[o];break t}o="callback"}switch(o){case"callback":n&&(o=fh(t),Ko(Vo,n,o)),t.nb()?ns("callback",t,e):Xc(t,e,dh(t));break;case"resetPassword":ns("passwordReset",t,e,el(),nl());break;case"recoverEmail":ns("emailChangeRevocation",t,e,el());break;case"revertSecondFactorAddition":ns("revertSecondFactorAddition",t,e,el());break;case"verifyEmail":ns("emailVerification",t,e,el(),nl());break;case"verifyAndChangeEmail":ns("verifyAndChangeEmail",t,e,el(),nl());break;case"signIn":ns("emailLinkSignInCallback",t,e,ii()),Eh();break;case"select":n&&(o=fh(t),Ko(Vo,n,o)),Xc(t,e);break;default:throw Error("Unhandled widget operation.")}(e=$a(e=kh(t)).uiShown||null)&&e()}else e=ri(e,"Could not find the FirebaseUI widget element on the page."),(o=new $c(ln("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),uh(t,o);e=t.g&&"blank"==t.g.Ga&&Ba(kh(t)),Qo(fh(t))&&!e&&(_h(t,(e=Qo(fh(t))).a),Wo(zo,fh(t)))}function gh(t,e){if(t.A)return e(yh(t));if(bh(t,(function(){t.A=!1})),_a(kh(t))){var n=new Br((function(n){bh(t,t.a.onAuthStateChanged((function(r){t.j=r,t.A||(t.A=!0,n(e(yh(t))))})))}));return bh(t,n),n}return t.A=!0,e(null)}function yh(t){return xh(t),_a(kh(t))&&t.j&&t.j.isAnonymous?t.j:null}function bh(t,e){if(xh(t),e){t.s.push(e);var n=function(){q(t.s,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function wh(t){void 0!==t.a.languageCode&&t.Y&&(t.Y=!1,t.a.languageCode=t.u)}function _h(t,e){t.a.tenantId=e,t.h.tenantId=e}function kh(t){return xh(t),t.ca}function xh(t){if(t.$)throw Error("AuthUI instance is deleted!")}function Eh(){var t=ii();if(ph(t)){for(var e in t=new Ft(t),qt)qt.hasOwnProperty(e)&&Bt(t.a.a,qt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"};var n=l.document.title;l.history&&l.history.replaceState&&l.history.replaceState(e,n,t.toString())}}function Ih(t){return xh(t),lh(t).signOut()}function Th(t,e,n){if(xh(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var r=Fa(kh(t));return Vr().then((function(){return r(new On("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.g&&(t.g.o(),t.g=null),e}))}return qr(e)}function Sh(t,e,n,r){Tu.call(this,dc,void 0,r,"providerMatchByEmail",{F:e,D:n}),this.i=t}function Ch(t,e,n,r,i){Tu.call(this,fc,{cc:e},i,"selectTenant",{F:n,D:r}),this.i=t}function Ah(t){Tu.call(this,Bu,void 0,t,"spinner")}function Ph(t){for(var e in this.a=new ta,ea(this.a,"authDomain"),ea(this.a,"displayMode",jh),ea(this.a,"tenants"),ea(this.a,"callbacks"),ea(this.a,"tosUrl"),ea(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{na(this.a,e,t[e])}catch(t){Vi('Invalid config: "'+e+'"',void 0)}}function Mh(t){return t.a.get("callbacks")||{}}function Nh(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Wi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ni(e)}}return null}function Lh(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Wi("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ni(n)}}return null}function Oh(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(Fh))throw Error("Invalid tenant configuration!")}function Rh(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(t=t[e]||t[Fh]))return Vi("Invalid tenant configuration: "+e+" is not configured!",void 0),r;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)r.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&r.push(t.provider):r.push(t.provider)}else Vi(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),r}function Bh(t,e,n){return t=function(t,e){var n=Dh,r=void 0===r?{}:r;return Oh(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[Fh],n,r)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return"string"==typeof t?n.includes(t):n.includes(t.provider)})),t.signInOptions=e),t}(t=rh.prototype).nb=function(){return xh(this),!!Qo(fh(this))||ph(ii())},t.start=function(t,e){mh(this,t,e)},t.Cb=function(){xh(this),this.Z=!0},t.reset=function(){xh(this);var t=this;this.T&&this.T.removeAttribute("lang"),this.J&&br(this.J),wh(this),this.O=null,Eh(),Wo(zo,fh(this)),xh(this),this.l.cancel(),this.i=Vr({user:null,credential:null}),ch==this&&(ch=null),this.T=null;for(var e=0;e<this.s.length;e++)"function"==typeof this.s[e]?this.s[e]():this.s[e].cancel&&this.s[e].cancel();this.s=[],Jo(fh(this)),this.g&&(this.g.o(),this.g=null),this.L=null,this.h&&(this.C=Ih(this).then((function(){t.C=null}),(function(){t.C=null})))},t.ib=function(t){xh(this);var e,n=this.ca;for(e in t)try{na(n.a,e,t[e])}catch(t){Vi('Invalid config: "'+e+'"',void 0)}re&&na(n.a,"popupMode",!1),Pa(n),!this.da&&ja(kh(this))&&(Wi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},t.Ub=function(){xh(this);var t=kh(this),e=ra(t.a,"widgetUrl");t=Ma(t);for(var n,r=e.search(yt),i=0,o=[];0<=(n=gt(e,i,t,r));)o.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);o.push(e.substr(i)),e=o.join("").replace(wt,"$1"),(t+=r="="+encodeURIComponent("select"))?(0>(r=e.indexOf("#"))&&(r=e.length),0>(i=e.indexOf("?"))||i>r?(i=r,n=""):n=e.substring(i+1,r),r=(e=[e.substr(0,i),n,e.substr(r)])[1],e[1]=t?r?r+"&"+t:t:r,r=e[0]+(e[1]?"?"+e[1]:"")+e[2]):r=e,kh(this).a.get("popupMode")?(r=r||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||r.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=ti(r,t))&&t.focus()):De(window.location,r)},t.Wa=function(){var t=this;return xh(this),this.h.app.delete().then((function(){var e=ah(fh(t));delete oh[e],t.reset(),t.$=!0}))},t.Gb=function(t,e){xh(this);var n=this,r=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Ra(kh(this)))return qr(Error("Email link sign-in should be enabled to trigger email sending."));var i=function(t){if(Ra(t)){var e={url:ii(),handleCodeInApp:!0};(t=xa(t,le.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&ut(e,t.emailLinkSignIn()),t=e.url;var n=ii();n instanceof _t||(n=It(n)),t instanceof _t||(t=It(t));var r=n;n=new _t(r);var i=!!t.j;i?kt(n,t.j):i=!!t.A,i?n.A=t.A:i=!!t.h,i?n.h=t.h:i=null!=t.C;var o=t.g;if(i)xt(n,t.C);else if(i=!!t.g)if("/"!=o.charAt(0)&&(r.h&&!r.g?o="/"+o:-1!=(r=n.g.lastIndexOf("/"))&&(o=n.g.substr(0,r+1)+o)),".."==o||"."==o)o="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var a=[],s=0;s<o.length;){var u=o[s++];"."==u?r&&s==o.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&s==o.length&&a.push("")):(a.push(u),r=!0)}o=a.join("/")}return i?n.g=o:i=""!==t.a.toString(),i?Et(n,jt(t.a)):i=!!t.s,i&&(n.s=t.s),e.url=n.toString(),e}return null}(kh(this)),o=new Ft(i.url);return function(t,e){e?t.a.a.set(qt.Sa,e):Bt(t.a.a,qt.Sa)}(o,r),e&&e.a&&(function(t,e,n){Ko(Ho,Eo(t,JSON.stringify(to(e))),n)}(r,e,fh(this)),zt(o,e.a.providerId)),function(t,e){null!==e?t.a.a.set(qt.Qa,e?"1":"0"):Bt(t.a.a,qt.Qa)}(o,function(t){return!(!(t=xa(t,le.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(kh(this))),gh(this,(function(e){return e&&((e=e.uid)?o.a.a.set(qt.Pa,e):Bt(o.a.a,qt.Pa)),i.url=o.toString(),lh(n).sendSignInLinkToEmail(t,i)})).then((function(){var e=fh(n),i={};i.email=t,Ko(qo,Eo(r,JSON.stringify(i)),e)}),(function(t){throw Wo(Ho,fh(n)),Wo(qo,fh(n)),t}))},t.$b=function(t,e){xh(this);var n=this;return lh(this).signInWithEmailAndPassword(t,e).then((function(r){return gh(n,(function(i){return i?Ih(n).then((function(){return Th(n,{code:"auth/email-already-in-use"},le.auth.EmailAuthProvider.credential(t,e))})):r}))}))},t.Wb=function(t,e){xh(this);var n=this;return gh(this,(function(r){if(r){var i=le.auth.EmailAuthProvider.credential(t,e);return r.linkWithCredential(i)}return lh(n).createUserWithEmailAndPassword(t,e)}))},t.Zb=function(t){xh(this);var e=this;return gh(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Th(e,n,t)})):lh(e).signInWithCredential(t)}))},t.bc=function(t){xh(this);var e=this,n=this.i;return this.i=null,gh(this,(function(n){return n&&!Xo(fh(e))?n.linkWithRedirect(t):lh(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},t.ac=function(t,e){xh(this);var n=this;return gh(this,(function(r){return r?r.linkWithPhoneNumber(t,e).then((function(t){return new Ii(t,(function(t){if("auth/credential-already-in-use"==t.code)return Th(n,t);throw t}))})):hh(n).signInWithPhoneNumber(t,e).then((function(t){return new Ii(t)}))}))},t.Yb=function(){return xh(this),hh(this).signInAnonymously()},t.Vb=function(t,e){return xh(this),lh(this).signInWithEmailAndPassword(t,e)},a(Sh,Tu),Sh.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),wl(this.l(),(this.l().value||"").length),Tu.prototype.v.call(this)},Sh.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},C(Sh.prototype,{l:xc,H:Ec,u:Ic,B:Tc,j:Sc,M:pc,w:vc}),a(Ch,Tu),Ch.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var r=t.g?$e("firebaseui-id-tenant-selection-button",t.g||t.s.a):[],i=0;i<r.length;i++){var o=r[i],a=zl(o,"tenantId");Ws(t,o,S(n,a))}}(this,this.i),Tu.prototype.v.call(this)},Ch.prototype.m=function(){this.i=null,Tu.prototype.m.call(this)},a(Ah,Tu);var Dh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],jh="optionFirst",Uh={nc:jh,mc:"identifierFirst"},Fh="*";function $h(t,e){var n=this;this.s=ri(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new Ph(e[t])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(t){this.ob=t||null},enumerable:!1})}function zh(t){t.j&&t.j.reset(),t.mb(),t.g&&t.g.o()}(t=$h.prototype).Sb=function(t,e){var n=this;zh(this);var r=t.apiKey;return new Br((function(t,i){if(n.a.hasOwnProperty(r)){var o=Mh(n.a[r]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),Uh)if(Uh[e]===t)return Uh[e];return jh}(n.a[r])===jh){var a=[];e.forEach((function(t){t=t||"_";var e=n.a[r].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[Fh])?t={tenantId:"_"!==t?t:null,V:e.fullLabel||null,displayName:e.displayName,za:e.iconUrl,ta:e.buttonColor}:(Vi("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&a.push(t)}));var s=function(e){e={tenantId:e,providerIds:Rh(n.a[r],e||"_")},t(e)};if(1===a.length)return void s(a[0].tenantId);n.g=new Ch((function(t){zh(n),o&&o(),s(t)}),a,Nh(n.a[r]),Lh(n.a[r]))}else n.g=new Sh((function(){var i=n.g.j();if(i){for(var a=0;a<e.length;a++){var s=Rh(n.a[r],e[a]||"_",i);if(0!==s.length)return i={tenantId:e[a],providerIds:s,email:i},zh(n),o&&o(),void t(i)}n.g.a(Nn({code:"no-matching-tenant-for-email"}).toString())}}),Nh(n.a[r]),Lh(n.a[r]));n.g.render(n.s),(i=Mh(n.a[r]).selectTenantUiShown||null)&&i()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),i(u)}}))},t.Nb=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;Oh(this.a[t],e||"_");try{this.i=le.app(n).auth()}catch(i){var r=this.a[t].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(t=le.initializeApp({apiKey:t,authDomain:r},n)).auth().tenantId=e,this.i=t.auth()}return this.i},t.Xb=function(t,e){var n=this;return new Br((function(r,i){function o(e,r){n.j=new rh(t),mh(n.j,n.s,e,r)}var a=t.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var s=Bh(n.a[a],t.tenantId||"_",e&&e.providerIds);zh(n),i={signInSuccessWithAuthResult:function(t){return r(t),!1}};var u,c=Mh(n.a[a]).signInUiShown||null,l=!1;i.uiChanged=function(e,r){null===e&&"callback"===r?((e=ze("firebaseui-id-page-callback",n.s))&&Ks(e),n.h=new Ah,n.h.render(n.s)):l||null===e&&"spinner"===r||"blank"===r||(n.h&&(n.h.o(),n.h=null),l=!0,c&&c(t.tenantId))},s.callbacks=i,s.credentialHelper="none",e&&e.email&&(u={emailHint:e.email}),n.j?n.j.Wa().then((function(){o(s,u)})):o(s,u)}))},t.reset=function(){var t=this;return Vr().then((function(){t.j&&t.j.Wa()})).then((function(){t.j=null,zh(t)}))},t.Tb=function(){var t=this;this.h||this.A||(this.A=window.setTimeout((function(){zh(t),t.h=new Ah,t.g=t.h,t.h.render(t.s),t.A=null}),500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.o(),this.h=null)},t.Ab=function(){return zh(this),this.g=new Bc,this.g.render(this.s),Vr()},t.pb=function(t){var e,n=this,r=Nn({code:t.code}).toString()||t.message;zh(this),t.retry&&"function"==typeof t.retry&&(e=function(){n.reset(),t.retry()}),this.g=new Fc(r,e),this.g.render(this.s)},t.Pb=function(t){var e=this;return Vr().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Oh(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=Mh(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},M("firebaseui.auth.FirebaseUiHandler",$h),M("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",$h.prototype.Sb),M("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",$h.prototype.Nb),M("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",$h.prototype.Xb),M("firebaseui.auth.FirebaseUiHandler.prototype.reset",$h.prototype.reset),M("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",$h.prototype.Tb),M("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",$h.prototype.mb),M("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",$h.prototype.Ab),M("firebaseui.auth.FirebaseUiHandler.prototype.handleError",$h.prototype.pb),M("firebaseui.auth.FirebaseUiHandler.prototype.processUser",$h.prototype.Pb),M("firebaseui.auth.AuthUI",rh),M("firebaseui.auth.AuthUI.getInstance",(function(t){return t=ah(t),oh[t]?oh[t]:null})),M("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",rh.prototype.Cb),M("firebaseui.auth.AuthUI.prototype.start",rh.prototype.start),M("firebaseui.auth.AuthUI.prototype.setConfig",rh.prototype.ib),M("firebaseui.auth.AuthUI.prototype.signIn",rh.prototype.Ub),M("firebaseui.auth.AuthUI.prototype.reset",rh.prototype.reset),M("firebaseui.auth.AuthUI.prototype.delete",rh.prototype.Wa),M("firebaseui.auth.AuthUI.prototype.isPendingRedirect",rh.prototype.nb),M("firebaseui.auth.AuthUIError",On),M("firebaseui.auth.AuthUIError.prototype.toJSON",On.prototype.toJSON),M("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Ga),M("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Wa),M("firebaseui.auth.CredentialHelper.NONE",Ka),M("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Br.prototype.catch=Br.prototype.Ca,Br.prototype.finally=Br.prototype.dc}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window)}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=bd);const _d=firebaseui.auth;var kd=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)xd.call(n,r)&&(t[r]=n[r])}return t},xd=Object.prototype.hasOwnProperty;var Ed=Object.prototype.toString,Id={};function Td(t){var e=Array.isArray(t);return function(n){var r,i=Sd(Id.plainArray,n);if(i)return i;if(e&&n.length!==t.length)return"an array with "+t.length+" items";for(var o=0;o<n.length;o++)if(i=Sd((r=o,e?t[r]:t),n[o]))return[o].concat(i)}}function Sd(t,e){if(null!=e||t.hasOwnProperty("__required")){var n=t(e);return n?Array.isArray(n)?n:[n]:void 0}}function Cd(t,e){var n=t.length,r=t[n-1],i=t.slice(0,n-1);return 0===i.length&&(i=["value"]),e=kd(e,{path:i}),"function"==typeof r?r(e):Pd(e,function(t){return"must be "+function(t){if(/^an? /.test(t))return t;if(/^[aeiou]/i.test(t))return"an "+t;if(/^[a-z]/i.test(t))return"a "+t;return t}(t)+"."}(r))}function Ad(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function Pd(t,e){return(Md(t.path)?"Item at position ":"")+(t.path.join(".")+" "+e)}function Md(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}Id.assert=function(t,e){return e=e||{},function(n){var r=Sd(t,n);if(r){var i=Cd(r,e);throw e.apiName&&(i=e.apiName+": "+i),new Error(i)}}},Id.shape=function(t){var e,n=(e=t,Object.keys(e||{}).map((function(t){return{key:t,value:e[t]}})));return function(t){var e,r=Sd(Id.plainObject,t);if(r)return r;for(var i=[],o=0;o<n.length;o++)e=n[o].key,(r=Sd(n[o].value,t[e]))&&i.push([e].concat(r));return i.length<2?i[0]:function(t){i=i.map((function(e){return"- "+e[0]+": "+Cd(e,t).split("\n").join("\n  ")}));var e=t.path.join(".");return"The following properties"+("value"===e?"":" of "+e)+" have invalid values:\n  "+i.join("\n  ")}}},Id.strictShape=function(t){var e=Id.shape(t);return function(n){var r=e(n);if(r)return r;var i=Object.keys(n).reduce((function(e,n){return void 0===t[n]&&e.push(n),e}),[]);return 0!==i.length?function(){return"The following keys are invalid: "+i.join(", ")}:void 0}},Id.arrayOf=function(t){return Td(t)},Id.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return Td(t)},Id.required=function(t){function e(e){return null==e?function(t){return Pd(t,Md(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return e.__required=!0,e},Id.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(e){var n=t.map((function(t){return Sd(t,e)})).filter(Boolean);if(n.length===t.length)return n.every((function(t){return 1===t.length&&"string"==typeof t[0]}))?Ad(n.map((function(t){return t[0]}))):n.reduce((function(t,e){return e.length>t.length?e:t}))}},Id.equal=function(t){return function(e){if(e!==t)return JSON.stringify(t)}},Id.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map((function(t){return Id.equal(t)}));return Id.oneOfType.apply(this,e)},Id.range=function(t){var e=t[0],n=t[1];return function(t){if(Sd(Id.number,t)||t<e||t>n)return"number between "+e+" & "+n+" (inclusive)"}},Id.any=function(){},Id.boolean=function(t){if("boolean"!=typeof t)return"boolean"},Id.number=function(t){if("number"!=typeof t)return"number"},Id.plainArray=function(t){if(!Array.isArray(t))return"array"},Id.plainObject=function(t){if(!function(t){var e;return"[object Object]"===Ed.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}(t))return"object"},Id.string=function(t){if("string"!=typeof t)return"string"},Id.func=function(t){if("function"!=typeof t)return"function"},Id.validate=Sd,Id.processMessage=Cd;var Nd=Id;var Ld=kd(Nd,{file:function(t){if("undefined"!=typeof window){if(t instanceof It.Blob||t instanceof It.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!=typeof t&&void 0===t.pipe)return"Filename or Readable stream"},date:function(t){if("boolean"==typeof t)return"date";try{var e=new Date(t);if(e.getTime&&isNaN(e.getTime()))return"date"}catch(t){return"date"}},coordinates:function(t){return Nd.tuple(Nd.number,Nd.number)(t)},assertShape:function(t,e){return Nd.assert(Nd.strictShape(t),e)}});var Od=function(t,e){var n=function(t,n){return-1!==e.indexOf(t)&&void 0!==n};return"function"==typeof e&&(n=e),Object.keys(t).filter((function(e){return n(e,t[e])})).reduce((function(e,n){return e[n]=t[n],e}),{})};var Rd=function(t,e){return Object.keys(t).reduce((function(n,r){return n[r]=e(r,t[r]),n}),{})};var Bd=function(t){return Rd(t,(function(t,e){return"boolean"==typeof e?JSON.stringify(e):e}))},Dd=St((function(t,e){!function(n){var r=e,i=t&&t.exports==r&&t,o="object"==typeof It&&It;o.global!==o&&o.window!==o||(n=o);var a=function(t){this.message=t};(a.prototype=new Error).name="InvalidCharacterError";var s=function(t){throw new a(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,l={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,i,o=t.length%3,a="",c=-1,l=t.length-o;++c<l;)e=t.charCodeAt(c)<<16,n=t.charCodeAt(++c)<<8,r=t.charCodeAt(++c),a+=u.charAt((i=e+n+r)>>18&63)+u.charAt(i>>12&63)+u.charAt(i>>6&63)+u.charAt(63&i);return 2==o?(e=t.charCodeAt(c)<<8,n=t.charCodeAt(++c),a+=u.charAt((i=e+n)>>10)+u.charAt(i>>4&63)+u.charAt(i<<2&63)+"="):1==o&&(i=t.charCodeAt(c),a+=u.charAt(i>>2)+u.charAt(i<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(c,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,o="",a=-1;++a<e;)r=u.indexOf(t.charAt(a)),n=i%4?64*n+r:r,i++%4&&(o+=String.fromCharCode(255&n>>(-2*i&6)));return o},version:"0.1.0"};if(r&&!r.nodeType)if(i)i.exports=l;else for(var h in l)l.hasOwnProperty(h)&&(r[h]=l[h]);else n.base64=l}(It)})),jd={};function Ud(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Fd=function(t){if(jd[t])return jd[t];var e=t.split("."),n=e[0],r=e[1];if(!r)throw new Error("Invalid token");var i=function(t){try{return JSON.parse(Dd.decode(t))}catch(t){throw new Error("Invalid token")}}(r),o={usage:n,user:i.u};return Ud(i,"a")&&(o.authorization=i.a),Ud(i,"exp")&&(o.expires=1e3*i.exp),Ud(i,"iat")&&(o.created=1e3*i.iat),Ud(i,"scopes")&&(o.scopes=i.scopes),Ud(i,"client")&&(o.client=i.client),Ud(i,"ll")&&(o.lastLogin=i.ll),Ud(i,"iu")&&(o.impersonator=i.iu),jd[t]=o,o},$d=St((function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}));function zd(t){return Array.isArray(t)?t.map(encodeURIComponent).join(","):encodeURIComponent(String(t))}function Vd(t,e,n){if(!1===n||null===n)return t;var r=/\?/.test(t)?"&":"?",i=encodeURIComponent(e);return void 0!==n&&""!==n&&!0!==n&&(i+="="+zd(n)),""+t+r+i}var qd={appendQueryObject:function(t,e){if(!e)return t;var n=t;return Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(Array.isArray(r)&&(r=r.filter((function(t){return!!t})).join(",")),n=Vd(n,t,r))})),n},appendQueryParam:Vd,prependOrigin:function(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var n="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+n+t},interpolateRouteParams:function(t,e){return e?t.replace(/\/:([a-zA-Z0-9]+)/g,(function(t,n){var r=e[n];if(void 0===r)throw new Error("Unspecified route parameter "+n);return"/"+zd(r)})):t}},Hd="https://api.mapbox.com",Gd="downloadProgress",Wd="uploadProgress",Kd="error",Zd="response",Xd="HttpError",Jd="RequestAbortedError",Yd=1;function Qd(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};e.body&&(n["content-type"]="application/json");var r=kd(n,e.headers),i=Object.keys(r).reduce((function(t,e){return t[e.toLowerCase()]=r[e],t}),{});this.id=Yd++,this._options=e,this.emitter=new $d,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.headers=i}Qd.prototype.url=function(t){var e=qd.prependOrigin(this.path,this.origin);e=qd.appendQueryObject(e,this.query);var n=this.params,r=null==t?this.client.accessToken:t;if(r){e=qd.appendQueryParam(e,"access_token",r);var i=Fd(r).user;n=kd({ownerId:i},n)}return e=qd.interpolateRouteParams(e,n),e},Qd.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then((function(e){return t.response=e,t.emitter.emit(Zd,e),e}),(function(e){throw t.error=e,t.emitter.emit(Kd,e),e}))},Qd.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},Qd.prototype.eachPage=function(t){var e=this;function n(n){t(null,n,(function(){delete e._nextPageRequest;var t=n.nextPage();t&&(e._nextPageRequest=t,i(t))}))}function r(e){t(e,null,(function(){}))}function i(t){t.send().then(n,r)}i(this)},Qd.prototype.clone=function(){return this._extend()},Qd.prototype._extend=function(t){var e=kd(this._options,t);return new Qd(this.client,e)};var tp=Qd;function ep(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");Fd(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||Hd}ep.prototype.createRequest=function(t){return new tp(this,t)};var np=ep;var rp=function(t){return t?t.split(/,\s*</).reduce((function(t,e){var n=function(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var n=e[1],r=e[2].split(";"),i=null,o=r.reduce((function(t,e){var n=function(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}(e);return n?"rel"===n.key?(i||(i=n.value),t):(t[n.key]=n.value,t):t}),{});return i?{url:n,rel:i,params:o}:null}(e);return n?(n.rel.split(/\s+/).forEach((function(e){t[e]||(t[e]={url:n.url,params:n.params})})),t):t}),{}):{}};function ip(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(t){this.body=e.body}this.links=rp(this.headers.link)}ip.prototype.hasNextPage=function(){return!!this.links.next},ip.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var op=ip;var ap=function(t){var e,n=t.type||Xd;if(t.body)try{e=JSON.parse(t.body)}catch(n){e=t.body}else e=null;var r=t.message||null;r||("string"==typeof e?r=e:e&&"string"==typeof e.message?r=e.message:n===Jd&&(r="Request aborted")),this.message=r,this.type=n,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e};var sp=function(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach((function(t){var n=function(t){var e=t.indexOf(":");return{name:t.substring(0,e).trim().toLowerCase(),value:t.substring(e+1).trim()}}(t);e[n.name]=n.value})),e):e},up={};function cp(t){var e=t.total,n=t.loaded;return{total:e,transferred:n,percent:100*n/e}}function lp(t,e){return new Promise((function(n,r){e.onprogress=function(e){t.emitter.emit(Gd,cp(e))};var i=t.file;i&&(e.upload.onprogress=function(e){t.emitter.emit(Wd,cp(e))}),e.onerror=function(t){r(t)},e.onabort=function(){var e=new ap({request:t,type:Jd});r(e)},e.onload=function(){if(delete up[t.id],e.status<200||e.status>=400){var i=new ap({request:t,body:e.response,statusCode:e.status});r(i)}else n(e)};var o=t.body;"string"==typeof o?e.send(o):o?e.send(JSON.stringify(o)):i?e.send(i):e.send(),up[t.id]=e})).then((function(e){return function(t,e){return new op(t,{body:e.response,headers:sp(e.getAllResponseHeaders()),statusCode:e.status})}(t,e)}))}function hp(t,e){var n=t.url(e),r=new window.XMLHttpRequest;return r.open(t.method,n),Object.keys(t.headers).forEach((function(e){r.setRequestHeader(e,t.headers[e])})),r}var fp=function(t){var e=up[t.id];e&&(e.abort(),delete up[t.id])},dp=function(t){return Promise.resolve().then((function(){var e=hp(t,t.client.accessToken);return lp(t,e)}))};function pp(t){np.call(this,t)}pp.prototype=Object.create(np.prototype),pp.prototype.constructor=pp,pp.prototype.sendRequest=dp,pp.prototype.abortRequest=fp;var mp=function(t){return new pp(t)};var vp=function(t){return function(e){var n;n=np.prototype.isPrototypeOf(e)?e:mp(e);var r=Object.create(t);return r.client=n,r}},gp={},yp=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];gp.forwardGeocode=function(t){Ld.assertShape({query:Ld.required(Ld.string),mode:Ld.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ld.arrayOf(Ld.string),proximity:Ld.coordinates,types:Ld.arrayOf(Ld.oneOf(yp)),autocomplete:Ld.boolean,bbox:Ld.arrayOf(Ld.number),limit:Ld.number,language:Ld.arrayOf(Ld.string)})(t),t.mode=t.mode||"mapbox.places";var e=Bd(kd({country:t.countries},Od(t,["proximity","types","autocomplete","bbox","limit","language"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Od(t,["mode","query"]),query:e})},gp.reverseGeocode=function(t){Ld.assertShape({query:Ld.required(Ld.coordinates),mode:Ld.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ld.arrayOf(Ld.string),types:Ld.arrayOf(Ld.oneOf(yp)),bbox:Ld.arrayOf(Ld.number),limit:Ld.number,language:Ld.arrayOf(Ld.string),reverseMode:Ld.oneOf("distance","score")})(t),t.mode=t.mode||"mapbox.places";var e=Bd(kd({country:t.countries},Od(t,["country","types","bbox","limit","language","reverseMode"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Od(t,["mode","query"]),query:e})};var bp=vp(gp);function wp(t){let e,n,r,i,a,s,u,c,l,h,f,d,p=t[7]&&_p(t);function m(t,e){return t[7]?kp:xp}let v=m(t),g=v(t);return{c(){e=x("div"),n=x("div"),p&&p.c(),r=I(),i=x("div"),a=x("input"),s=I(),u=x("div"),c=x("input"),l=I(),h=x("div"),g.c(),C(a,"type","email"),C(a,"placeholder","email@gmail.com"),C(a,"class","mt-1"),C(c,"type","password"),C(c,"placeholder","пароль"),C(c,"class","mt-1"),C(n,"class","flex flex-col"),C(h,"class","mt-4 flex justify-around items-center"),C(e,"id","firebaseui"),C(e,"class","absolute top-0 mt-20 z-30 text-center bg-white rounded-lg border-gray-700 p-4 svelte-bj6yzo")},m(o,m){w(o,e,m),b(e,n),p&&p.m(n,null),b(n,r),b(n,i),b(i,a),M(a,t[9]),b(n,s),b(n,u),b(u,c),M(c,t[10]),b(e,l),b(e,h),g.m(h,null),f||(d=[S(a,"input",t[47]),S(c,"input",t[48])],f=!0)},p(t,e){t[7]?p?p.p(t,e):(p=_p(t),p.c(),p.m(n,r)):p&&(p.d(1),p=null),512&e[0]&&a.value!==t[9]&&M(a,t[9]),1024&e[0]&&c.value!==t[10]&&M(c,t[10]),v===(v=m(t))&&g?g.p(t,e):(g.d(1),g=v(t),g&&(g.c(),g.m(h,null)))},d(t){t&&_(e),p&&p.d(),g.d(),f=!1,o(d)}}}function _p(t){let e,n,r,i;return{c(){e=x("div"),n=x("input"),C(n,"type","text"),C(n,"placeholder","отображаемое имя")},m(o,a){w(o,e,a),b(e,n),M(n,t[8]),r||(i=S(n,"input",t[46]),r=!0)},p(t,e){256&e[0]&&n.value!==t[8]&&M(n,t[8])},d(t){t&&_(e),r=!1,i()}}}function kp(e){let n,r,i,o;return{c(){n=x("div"),r=x("button"),r.textContent="Отправить",C(r,"class","btn-orange")},m(t,a){w(t,n,a),b(n,r),i||(o=S(r,"click",e[23]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function xp(e){let n,r,i,a,s,u,c;return{c(){n=x("div"),r=x("button"),r.textContent="Войти",i=I(),a=x("div"),s=x("button"),s.textContent="Регистрация",C(r,"class","btn-orange"),C(s,"class","btn-gray")},m(t,o){w(t,n,o),b(n,r),w(t,i,o),w(t,a,o),b(a,s),u||(c=[S(r,"click",e[24]),S(s,"click",e[49])],u=!0)},p:t,d(t){t&&_(n),t&&_(i),t&&_(a),u=!1,o(c)}}}function Ep(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T,A,P,M,N,L,O,R,B,D,j=t[6]&&Ip(t);return{c(){e=x("div"),n=x("div"),r=x("div"),i=x("button"),i.innerHTML='<img src="search.png" alt="targetLocation"/>',a=I(),j&&j.c(),s=I(),u=x("div"),c=x("button"),c.innerHTML='<img src="fullscreen.png" alt="fullscreen"/>',l=I(),h=x("div"),f=x("button"),f.innerHTML='<img src="target.png" alt="targetLocation"/>',d=I(),p=x("div"),m=x("button"),m.innerHTML='<img src="route.png" alt="route"/>',v=I(),g=x("div"),y=x("button"),y.innerHTML='<img src="taxi-find.png" alt="taxiLocation"/>',k=I(),E=x("div"),T=x("button"),T.innerHTML='<img src="taxi-signal.png" alt="taxiOrders"/>',A=I(),P=x("div"),M=x("button"),M.innerHTML='<img src="excavator.png" alt="excavator"/>',N=I(),L=x("div"),O=x("button"),O.innerHTML='<img src="chat-phone.png" alt="chat"/>',C(i,"class","map-btn svelte-bj6yzo"),C(i,"type","button"),C(r,"class","mt-2 relative"),C(c,"class","map-btn svelte-bj6yzo"),C(c,"type","button"),C(u,"class","mt-2"),C(f,"class","map-btn svelte-bj6yzo"),C(f,"type","button"),C(h,"class","mt-2"),C(m,"class","map-btn svelte-bj6yzo"),C(m,"type","button"),C(p,"class","mt-2"),C(y,"class","map-btn svelte-bj6yzo"),C(y,"type","button"),C(g,"class","mt-2"),C(T,"class","map-btn svelte-bj6yzo"),C(T,"type","button"),C(E,"class","mt-2"),C(M,"class","map-btn svelte-bj6yzo"),C(M,"type","button"),C(P,"class","mt-2"),C(O,"class","map-btn svelte-bj6yzo"),C(O,"type","button"),C(L,"class","mt-2"),C(n,"class","flex flex-col"),C(e,"class","absolute top-0 mt-16 ml-1")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(r,i),b(r,a),j&&j.m(r,null),b(n,s),b(n,u),b(u,c),b(n,l),b(n,h),b(h,f),b(n,d),b(n,p),b(p,m),b(n,v),b(n,g),b(g,y),b(n,k),b(n,E),b(E,T),b(n,A),b(n,P),b(P,M),b(n,N),b(n,L),b(L,O),R=!0,B||(D=[S(i,"click",t[50]),S(c,"click",t[52]),S(f,"click",t[28]),S(m,"click",t[25]),S(y,"click",t[38]),S(T,"click",t[36]),S(M,"click",t[45]),S(O,"click",t[39])],B=!0)},p(t,e){t[6]?j?(j.p(t,e),64&e[0]&&dt(j,1)):(j=Ip(t),j.c(),dt(j,1),j.m(r,null)):j&&(ht(),pt(j,1,1,()=>{j=null}),ft())},i(t){R||(dt(j),R=!0)},o(t){pt(j),R=!1},d(t){t&&_(e),j&&j.d(),B=!1,o(D)}}}function Ip(t){let e,n,r,i,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("input"),i=I(),a=x("div"),s=x("button"),s.textContent="Найти",C(r,"class","p-1 w-full rounded outline-none"),C(r,"type","text"),C(r,"placeholder","Адрес"),C(s,"class","p-1 w-full text-white bg-gray-800 rounded"),C(s,"type","button"),C(e,"class","fixed ml-12 -mt-10 bg-white rounded shadow-lg flex flex-row")},m(o,u){w(o,e,u),b(e,n),b(n,r),M(r,t[14]),b(e,i),b(e,a),b(a,s),c=!0,l||(h=[S(r,"input",t[51]),S(s,"click",t[33])],l=!0)},p(t,e){16384&e[0]&&r.value!==t[14]&&M(r,t[14])},i(t){c||(et(()=>{u||(u=gt(e,rc,{x:-300,duration:1e3},!0)),u.run(1)}),c=!0)},o(t){u||(u=gt(e,rc,{x:-300,duration:1e3},!1)),u.run(0),c=!1},d(t){t&&_(e),t&&u&&u.end(),l=!1,o(h)}}}function Tp(t){let e,n,r=null!=t[2]&&null!=t[2].region&&Sp(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){null!=t[2]&&null!=t[2].region?r?(r.p(t,n),4&n[0]&&dt(r,1)):(r=Sp(t),r.c(),dt(r,1),r.m(e.parentNode,e)):r&&(ht(),pt(r,1,1,()=>{r=null}),ft())},i(t){n||(dt(r),n=!0)},o(t){pt(r),n=!1},d(t){r&&r.d(t),t&&_(e)}}}function Sp(t){let e,n;return e=new vh({props:{region:t[2].region,city:t[2].city,latlng:t[2].latlng}}),e.$on("lookOrderPlace",t[37]),e.$on("driverArrived",t[40]),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.region=t[2].region),4&n[0]&&(r.city=t[2].city),4&n[0]&&(r.latlng=t[2].latlng),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Cp(t){let e,n;return e=new Kh({props:{address:t[1],LatLng:t[0],clientUID:t[11].uid,clientName:t[11].displayName,region:t[2].region,city:t[2].city}}),e.$on("closeDialog",t[53]),e.$on("alert",t[54]),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.address=t[1]),1&n[0]&&(r.LatLng=t[0]),2048&n[0]&&(r.clientUID=t[11].uid),2048&n[0]&&(r.clientName=t[11].displayName),4&n[0]&&(r.region=t[2].region),4&n[0]&&(r.city=t[2].city),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Ap(t){let e,n,r=null!=t[2]&&null!=t[2].region&&Pp(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){null!=t[2]&&null!=t[2].region?r?(r.p(t,n),4&n[0]&&dt(r,1)):(r=Pp(t),r.c(),dt(r,1),r.m(e.parentNode,e)):r&&(ht(),pt(r,1,1,()=>{r=null}),ft())},i(t){n||(dt(r),n=!0)},o(t){pt(r),n=!1},d(t){r&&r.d(t),t&&_(e)}}}function Pp(t){let e,n;return e=new Hh({props:{region:t[2].region,city:t[2].city}}),e.$on("findDriverLocation",t[37]),e.$on("checkOnWay",t[41]),e.$on("alert",t[55]),e.$on("close",t[56]),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.region=t[2].region),4&n[0]&&(r.city=t[2].city),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Mp(t){let e,n,r=null!=t[2]&&null!=t[2].region&&Np(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){null!=t[2]&&null!=t[2].region?r?(r.p(t,n),4&n[0]&&dt(r,1)):(r=Np(t),r.c(),dt(r,1),r.m(e.parentNode,e)):r&&(ht(),pt(r,1,1,()=>{r=null}),ft())},i(t){n||(dt(r),n=!0)},o(t){pt(r),n=!1},d(t){r&&r.d(t),t&&_(e)}}}function Np(t){let e,n;return e=new cf({props:{region:t[2].region,district:t[2].district,city:t[2].city}}),e.$on("fullscreen",t[57]),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.region=t[2].region),4&n[0]&&(r.district=t[2].district),4&n[0]&&(r.city=t[2].city),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Lp(t){let e,n,r;return n=new Zl({props:{region:t[2].region,city:t[2].city,latlng:t[2].latlng}}),n.$on("close",t[58]),n.$on("alert",t[59]),{c(){e=x("div"),bt(n.$$.fragment),C(e,"id","rentalCarBox"),C(e,"class","absolute top-0 mt-16 w-full bg-white svelte-bj6yzo")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,e){const r={};4&e[0]&&(r.region=t[2].region),4&e[0]&&(r.city=t[2].city),4&e[0]&&(r.latlng=t[2].latlng),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Op(t){let e,n,r;return n=new kf({props:{user:t[11],region:t[2].region,city:t[2].city,latlng:t[0]}}),n.$on("close",t[60]),n.$on("alert",t[61]),{c(){e=x("div"),bt(n.$$.fragment),C(e,"id","addServiceBox"),C(e,"class","absolute top-0 mt-16 w-full svelte-bj6yzo")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,e){const r={};2048&e[0]&&(r.user=t[11]),4&e[0]&&(r.region=t[2].region),4&e[0]&&(r.city=t[2].city),1&e[0]&&(r.latlng=t[0]),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Rp(t){let e,n,r;return n=new bf({props:{region:t[2].region,getUser:t[11]}}),n.$on("danger",t[29]),n.$on("close",t[62]),{c(){e=x("div"),bt(n.$$.fragment),C(e,"id","sosBox"),C(e,"class","absolute top-0 mt-16 w-full svelte-bj6yzo")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,e){const r={};4&e[0]&&(r.region=t[2].region),2048&e[0]&&(r.getUser=t[11]),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Bp(t){let e,n,r,i,o,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(t[4]),o=I(),a=x("p"),s=x("button"),s.textContent="Ок",C(r,"class","text-center"),C(s,"class","btn-orange"),C(a,"class","mt-2 text-center"),C(n,"class","p-3 border bg-white rounded-lg shadow-lg"),C(e,"id","alertBox"),C(e,"class"," fixed top-0 svelte-bj6yzo")},m(u,f){w(u,e,f),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),c=!0,l||(h=S(s,"click",t[63]),l=!0)},p(t,e){(!c||16&e[0])&&P(i,t[4])},i(t){c||(et(()=>{u||(u=gt(n,nc,{duration:500},!0)),u.run(1)}),c=!0)},o(t){u||(u=gt(n,nc,{duration:500},!1)),u.run(0),c=!1},d(t){t&&_(e),t&&u&&u.end(),l=!1,h()}}}function Dp(e){let n,r,i,a,s,u,c,l,h,f,d,p,m,v,g;return{c(){n=x("div"),r=x("div"),i=x("button"),i.innerHTML='<img class="object-cover" src="like.png" alt="like"/>',s=I(),u=x("div"),c=x("button"),c.innerHTML='<img class="object-cover" src="button-close-yellow.png" alt="close"/>',h=I(),f=x("div"),d=x("button"),d.innerHTML='<img class="object-cover" src="dislike.png" alt="dislike"/>',C(i,"class","m-2 p-3 w-16 h-16 border border-black rounded-full bg-green-500"),C(c,"class","m-2 p-0 w-12 h-12 bg-transparent rounded-full"),C(d,"class","m-2 p-3 w-16 h-16 border border-black rounded-full bg-red-500"),C(n,"id","dialog"),C(n,"class"," flex flex-row items-center justify-around svelte-bj6yzo")},m(t,o){w(t,n,o),b(n,r),b(r,i),b(n,s),b(n,u),b(u,c),b(n,h),b(n,f),b(f,d),m=!0,v||(g=[S(i,"click",e[31]),S(c,"click",e[64]),S(d,"click",e[32]),S(n,"click",e[65])],v=!0)},p:t,i(t){m||(et(()=>{a||(a=gt(r,rc,{x:-100,duration:1e3},!0)),a.run(1)}),et(()=>{l||(l=gt(u,ic,{duration:1e3},!0)),l.run(1)}),et(()=>{p||(p=gt(f,rc,{x:100,duration:1e3},!0)),p.run(1)}),m=!0)},o(t){a||(a=gt(r,rc,{x:-100,duration:1e3},!1)),a.run(0),l||(l=gt(u,ic,{duration:1e3},!1)),l.run(0),p||(p=gt(f,rc,{x:100,duration:1e3},!1)),p.run(0),m=!1},d(t){t&&_(n),t&&a&&a.end(),t&&l&&l.end(),t&&p&&p.end(),v=!1,o(g)}}}function jp(e){let n,r;return n=new Cf({}),n.$on("closeMenu",e[66]),n.$on("getAddress",e[34]),n.$on("police",e[67]),n.$on("mCamera",e[68]),n.$on("sCamera",e[69]),n.$on("dtp",e[70]),n.$on("rClosed",e[71]),n.$on("rConstruction",e[72]),n.$on("taxiCall",e[35]),n.$on("sos",e[43]),n.$on("add",e[44]),{c(){bt(n.$$.fragment)},m(t,e){wt(n,t,e),r=!0},p:t,i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){_t(n,t)}}}function Up(t){let e,n,r;return n=new Bl({props:{params:t[13]}}),n.$on("close",t[73]),{c(){e=x("div"),bt(n.$$.fragment),C(e,"id","service-window"),C(e,"class"," absolute top-0 w-full lg:w-1/2 h-screen lg:h-auto bg-white svelte-bj6yzo")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,e){const r={};8192&e[0]&&(r.params=t[13]),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Fp(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T,A,P,M,N,L,O=!t[11]&&wp(t),R=null!=t[11]&&Ep(t),B=t[16]&&Tp(t),D=t[15]&&Cp(t),j=t[17]&&Ap(t),U=t[18]&&Mp(t),F=t[22]&&Lp(t),$=t[21]&&Op(t),z=t[20]&&Rp(t),V=t[3]&&Bp(t),q=t[5]&&Dp(t),H=t[19]&&null!=t[11]&&jp(t),G=t[12]&&Up(t);return{c(){var t,b,w;e=x("div"),O&&O.c(),n=I(),r=x("div"),i=I(),R&&R.c(),o=I(),a=x("div"),B&&B.c(),s=I(),u=x("div"),D&&D.c(),c=I(),l=x("div"),j&&j.c(),h=I(),f=x("div"),U&&U.c(),d=I(),F&&F.c(),p=I(),$&&$.c(),m=I(),z&&z.c(),v=I(),V&&V.c(),g=I(),y=x("div"),q&&q.c(),k=I(),E=x("div"),H&&H.c(),T=I(),A=x("div"),A.innerHTML='<amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-7870756416746221" data-ad-slot="6602348431" data-auto-format="rspv" data-full-width=""><div overflow=""></div></amp-ad>',P=I(),G&&G.c(),C(r,"id","map"),t="min-height",b="550px",r.style.setProperty(t,b,w?"important":""),C(r,"class","z-0 w-full h-screen"),C(a,"class"," absolute top-0 mt-16"),C(u,"class"," absolute top-0 mt-16"),C(l,"id","clientTaxiBox"),C(l,"class"," absolute top-0 mt-16 svelte-bj6yzo"),C(f,"id","Chat"),C(f,"class"," absolute top-0 mt-16"),C(y,"id","marker-dialog"),C(y,"class","svelte-bj6yzo"),C(E,"id","contextmenu"),C(E,"class","absolute"),C(A,"id","google-ads"),C(A,"class","absolute bottom-0 w-auto h-auto svelte-bj6yzo"),C(e,"id","main"),C(e,"class","relative")},m(_,x){w(_,e,x),O&&O.m(e,null),b(e,n),b(e,r),b(e,i),R&&R.m(e,null),b(e,o),b(e,a),B&&B.m(a,null),b(e,s),b(e,u),D&&D.m(u,null),b(e,c),b(e,l),j&&j.m(l,null),b(e,h),b(e,f),U&&U.m(f,null),b(e,d),F&&F.m(e,null),b(e,p),$&&$.m(e,null),b(e,m),z&&z.m(e,null),b(e,v),V&&V.m(e,null),b(e,g),b(e,y),q&&q.m(y,null),b(e,k),b(e,E),H&&H.m(E,null),b(e,T),b(e,A),b(e,P),G&&G.m(e,null),M=!0,N||(L=S(window,"contextmenu",t[42]),N=!0)},p(t,r){t[11]?O&&(O.d(1),O=null):O?O.p(t,r):(O=wp(t),O.c(),O.m(e,n)),null!=t[11]?R?(R.p(t,r),2048&r[0]&&dt(R,1)):(R=Ep(t),R.c(),dt(R,1),R.m(e,o)):R&&(ht(),pt(R,1,1,()=>{R=null}),ft()),t[16]?B?(B.p(t,r),65536&r[0]&&dt(B,1)):(B=Tp(t),B.c(),dt(B,1),B.m(a,null)):B&&(ht(),pt(B,1,1,()=>{B=null}),ft()),t[15]?D?(D.p(t,r),32768&r[0]&&dt(D,1)):(D=Cp(t),D.c(),dt(D,1),D.m(u,null)):D&&(ht(),pt(D,1,1,()=>{D=null}),ft()),t[17]?j?(j.p(t,r),131072&r[0]&&dt(j,1)):(j=Ap(t),j.c(),dt(j,1),j.m(l,null)):j&&(ht(),pt(j,1,1,()=>{j=null}),ft()),t[18]?U?(U.p(t,r),262144&r[0]&&dt(U,1)):(U=Mp(t),U.c(),dt(U,1),U.m(f,null)):U&&(ht(),pt(U,1,1,()=>{U=null}),ft()),t[22]?F?(F.p(t,r),4194304&r[0]&&dt(F,1)):(F=Lp(t),F.c(),dt(F,1),F.m(e,p)):F&&(ht(),pt(F,1,1,()=>{F=null}),ft()),t[21]?$?($.p(t,r),2097152&r[0]&&dt($,1)):($=Op(t),$.c(),dt($,1),$.m(e,m)):$&&(ht(),pt($,1,1,()=>{$=null}),ft()),t[20]?z?(z.p(t,r),1048576&r[0]&&dt(z,1)):(z=Rp(t),z.c(),dt(z,1),z.m(e,v)):z&&(ht(),pt(z,1,1,()=>{z=null}),ft()),t[3]?V?(V.p(t,r),8&r[0]&&dt(V,1)):(V=Bp(t),V.c(),dt(V,1),V.m(e,g)):V&&(ht(),pt(V,1,1,()=>{V=null}),ft()),t[5]?q?(q.p(t,r),32&r[0]&&dt(q,1)):(q=Dp(t),q.c(),dt(q,1),q.m(y,null)):q&&(ht(),pt(q,1,1,()=>{q=null}),ft()),t[19]&&null!=t[11]?H?(H.p(t,r),526336&r[0]&&dt(H,1)):(H=jp(t),H.c(),dt(H,1),H.m(E,null)):H&&(ht(),pt(H,1,1,()=>{H=null}),ft()),t[12]?G?(G.p(t,r),4096&r[0]&&dt(G,1)):(G=Up(t),G.c(),dt(G,1),G.m(e,null)):G&&(ht(),pt(G,1,1,()=>{G=null}),ft())},i(t){M||(dt(R),dt(B),dt(D),dt(j),dt(U),dt(F),dt($),dt(z),dt(V),dt(q),dt(H),dt(G),M=!0)},o(t){pt(R),pt(B),pt(D),pt(j),pt(U),pt(F),pt($),pt(z),pt(V),pt(q),pt(H),pt(G),M=!1},d(t){t&&_(e),O&&O.d(),R&&R.d(),B&&B.d(),D&&D.d(),j&&j.d(),U&&U.d(),F&&F.d(),$&&$.d(),z&&z.d(),V&&V.d(),q&&q.d(),H&&H.d(),G&&G.d(),N=!1,L()}}}const $p="pk.eyJ1IjoiZGFwcGRldnYiLCJhIjoiY2trZmxsODRkMGJ0NzJwbXBqd3U2c3FveiJ9.i7rANy7utrrUnPChT6C83g";function zp(t,e,n){const r=bp({accessToken:$p});let i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,b,w,_,k,x="none",E="none",I="none",T={latlng:null,region:"none",city:"none",district:"none"},S=[];V((function(){d=Ec.layerGroup([]),p=Ec.layerGroup([]),m=Ec.layerGroup([]),v=Ec.layerGroup([]),g=Ec.layerGroup([]),y=Ec.layerGroup([]),S.push(d,p,m,v,g,y);let t={"Обсуждения":d,"Такси":v,"Сервисы":y,"Спецтехника":g,"Дорожные события":m,"Патрули ГИБДД, камеры":p};i=Ec.map("map",{zoomControl:!1,layers:[d,p,v,g,y]}).setView([55.80046084146819,49.105174541473396],13);let e=localStorage.getItem("lat"),r=localStorage.getItem("lng");null!=e&&i.setView([e,r],12);Ec.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'<span style="font-size: smaller;"> Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a>, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a></span>',maxZoom:19,id:"dappdevv/ckkjn3mm21zr117nuw4ltics0",tileSize:512,zoomOffset:-1,accessToken:$p}).addTo(i),n(0,o=i.getCenter()),a=i.getBounds(),Ec.control.zoom({position:"bottomright"}).addTo(i),f=Ec.control.layers(null,t).setPosition("bottomleft").addTo(i),i.locate({watch:!1,setView:!0,enableHighAccuracy:!0}),i.on("locationfound",Bt),i.on("locationfound",jt),i.on("contextmenu",$t),i.on("zoomend",Nt),i.on("moveend",Lt)})),V((function(){z=Ec.Icon.extend({options:{iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]}}),H=new z({iconUrl:"placeholder.png"}),G=new z({iconUrl:"direction-arrow-2.png"}),W=new z({iconUrl:"location.png"}),q=new z({iconUrl:"sos-icon.png"}),K=new z({iconUrl:"taxi.png"}),Z=new z({iconUrl:"taxi-marker.png"}),tt=new z({iconUrl:"road-construction.png"}),et=new z({iconUrl:"road-closed.png"}),Q=new z({iconUrl:"car-crash.png"}),X=new z({iconUrl:"police-car.png"}),Y=new z({iconUrl:"road-camera.png"}),J=new z({iconUrl:"speed-camera.png"}),nt=new z({iconUrl:"tires-3.png"}),rt=new z({iconUrl:"car-wash.png"}),it=new z({iconUrl:"car-service-2.png"}),ot=new z({iconUrl:"gear.png"}),at=new z({iconUrl:"technical-support.png"}),st=new z({iconUrl:"windshield.png"}),ut=new z({iconUrl:"oil.png"}),ct=new z({iconUrl:"gas-station.png"}),lt=new z({iconUrl:"car-lifter.png"}),ht=new z({iconUrl:"cafe-placeholder.png"}),ft=new z({iconUrl:"hotel-placeholder.png"}),dt=new z({iconUrl:"chat-4.png"}),pt=new z({iconUrl:"excavator.png"}),mt=new z({iconUrl:"bulldozer.png"}),vt=new z({iconUrl:"tractor.png"}),gt=new z({iconUrl:"grader.png"}),yt=new z({iconUrl:"dumper.png"}),bt=new z({iconUrl:"concrete.png"}),wt=new z({iconUrl:"bur.png"}),_t=new z({iconUrl:"paver.png"}),kt=new z({iconUrl:"garbage.png"}),xt=new z({iconUrl:"crane-truck.png"}),Et=new z({iconUrl:"manipulator.png"}),It=new z({iconUrl:"car-lift.png"}),Tt=new z({iconUrl:"loader.png"}),St=new z({iconUrl:"tow-truck.png"}),Ct=new z({iconUrl:"excavator-2.png"})}));new _d.AuthUI(le.auth());let C,A,P,M,N,L;le.auth().onAuthStateChanged((function(t){t&&(document.querySelector("#firebaseui").style.display="none",n(11,N=t),Fs.collection("users").doc(N.uid).get().then((function(t){const e=t.data();L=e})).catch((function(t){console.log("Error getting document:",t)})),B())}));let O=le.functions().httpsCallable("addNewUser");let R=!1;function B(){let t=Fs.collection("icons/police/"+x),e=Fs.collection("icons/mCamera/"+x),n=Fs.collection("icons/sCamera/"+x),r=Fs.collection("icons/roadClosed/"+x),i=Fs.collection("icons/roadConstruction/"+x),o=Fs.collection("icons/DTP/"+x),a=Fs.collection("icons/sos/"+x),s=Fs.collection("services").where("region","==",x).where("district","==",I),u=Fs.collection("taxiDrivers").where("online","==",!0),c=Fs.collection("topics").where("region","==",x),l=Fs.collection("rentalCars").where("region","==",x).where("district","==",I).where("online","==",!0),h={dbRef:u,layer:v,icon:K};[{dbRef:t,layer:p,icon:X},{dbRef:e,layer:p,icon:J},{dbRef:n,layer:p,icon:Y},{dbRef:o,layer:m,icon:Q},{dbRef:i,layer:m,icon:tt},{dbRef:r,layer:m,icon:et}].forEach(t=>{t.dbRef.get().then((function(e){e.forEach((function(e){let n=e.data(),r=n.added.toDate(),i=(new Date).getTime()-r.getTime();if(n.actual>=.1&&i<=18e7){let i=r.toLocaleString("ru",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}),o=Ec.marker(n.location,{icon:t.icon,opacity:n.actual,alt:e.id,title:e.ref.parent.path}).bindPopup(`<p> Добавлено ${i} </p>`);o.on("click",Vt),t.layer.addLayer(o)}}))})).catch((function(t){console.log("Error getting documents: ",t)}))}),a.get().then((function(t){t.forEach((function(t){const e=t.data();let n=Ec.marker(e.location,{icon:q,alt:t.id,title:t.ref.parent.path}).bindPopup(`<p> Сообщение: ${e.message} </p> <p> Телефон: <a href="tel:${e.phone}"> ${e.phone} </a> </p>`);d.addLayer(n)}))})),u.get().then((function(t){t.forEach((function(t){let e=t.data(),n=Ec.marker(e.location,{icon:K}).bindPopup(`<img src=${e.driverAuto.frontside}> <p>${e.name} ${e.lastName}</p> <p>Рейтинг: ${e.rating}</p> <a href="#/taxidriverpage/${t.id}"> Предложить поездку </a>`);h.layer.addLayer(n)}))})),l.get().then((function(t){t.forEach((function(t){let e,n=t.data();"Экскаватор"===n.type?e=pt:"Бульдозер"===n.type?e=mt:"Трактор"===n.type?e=vt:"Грейдер"===n.type?e=gt:"Самосвал"===n.type?e=yt:"Бетономешалка"===n.type?e=bt:"Бурильная"===n.type?e=wt:"Каток"===n.type?e=_t:"Ассенизатор"===n.type?e=kt:"Автокран"===n.type?e=xt:"Манипулятор"===n.type?e=Et:"Автоподъемник"===n.type?e=It:"Погрузчик"===n.type?e=Tt:"Эвакуатор"===n.type?e=St:"Другое"===n.type&&(e=Ct);let r=Ec.marker(n.location,{icon:e}).bindPopup(`<img src=${n.imgURL}> <p> ${n.type} ${n.model} </p> <p> Аренда: ${n.price} руб./час</p> <a href="tel:${n.phone}"> Позвонить </a>`);g.addLayer(r)}))})),c.get().then((function(t){t.forEach((function(t){let e=t.data(),n=Ec.marker(e.location,{icon:dt,alt:t.id,title:t.ref.parent.path}).bindPopup(`<p><b>${e.header}</b></p> <p><i>${e.text}</i></p> <p><a href="#/topic/${t.id}"> Перейти </a></p>`);d.addLayer(n)}))})),s.get().then((function(t){t.forEach((function(t){const e=t.data();if("Шиномонтаж"===e.type){let n=Ec.marker(e.location,{icon:nt});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Автомойка"===e.type){let n=Ec.marker(e.location,{icon:rt});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("СТО"===e.type){let n=Ec.marker(e.location,{icon:it});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Автозапчасти"===e.type){let n=Ec.marker(e.location,{icon:ot});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Мелкосрочка"===e.type){let n=Ec.marker(e.location,{icon:at});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Автостекло/Тонировка"===e.type){let n=Ec.marker(e.location,{icon:st});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("ГСМ"===e.type){let n=Ec.marker(e.location,{icon:ut});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Автозаправка"===e.type){let n=Ec.marker(e.location,{icon:ct});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Авторазбор"===e.type){let n=Ec.marker(e.location,{icon:lt});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Кафе"===e.type){let n=Ec.marker(e.location,{icon:ht});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}else if("Отель"===e.type){let n=Ec.marker(e.location,{icon:ft});n.on("click",(function(n){Mt(t.id,e)})),y.addLayer(n)}}))}))}let D,j,U,F,$,z,q,H,G,W,K,Z,X,J,Y,Q,tt,et,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,dt,pt,mt,vt,gt,yt,bt,wt,_t,kt,xt,Et,It,Tt,St,Ct,At=!1,Pt={};function Mt(t,e){console.log(t,e),D=e.imgURL,j=e.phone,U=e.offer,F=e.name,$=t,n(13,Pt.id=$,Pt),n(12,At=!0)}function Nt(t){l=t.target._zoom,n(0,o=i.getCenter()),a=i.getBounds(),l<=11?S.forEach(t=>{t.remove()}):l>=17?(S.forEach(t=>{t.remove()}),S.forEach(t=>{t.eachLayer((function(t){t.options.icon.options.iconSize=[50,50]})),t.addTo(i)})):l<15?(S.forEach(t=>{t.remove()}),S.forEach(t=>{t.eachLayer((function(t){t.options.icon.options.iconSize=[30,30]})),t.addTo(i)})):l<18&&(S.forEach(t=>{t.remove()}),S.forEach(t=>{t.eachLayer((function(t){t.options.icon.options.iconSize=[40,40]})),t.addTo(i)}))}function Lt(t){let e=x,a=I;L&&L.premium&&(n(0,o=i.getCenter()),r.reverseGeocode({query:[o.lng,o.lat]}).send().then(t=>{const n=t.body.features;n.forEach(t=>{"region"===t.place_type[0]?x=t.text:"district"===t.place_type[0]?I=t.text:"place"===t.place_type[0]&&(E=t.text)}),n.some(t=>"district"===t.place_type[0])||(I=E),x==e&&I==a||(S.forEach(t=>{t.remove()}),B())}))}function Ot(t){let e=document.getElementById(t);document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch(t=>{Rt(`Error attempting to enable full-screen mode: ${t.message} (${t.name})`)})}function Rt(t){b||(n(4,w=t),n(3,b=!0)),setTimeout(()=>{n(3,b=!1)},5e3)}function Bt(t){null==h&&(h=Ec.marker(t.latlng,{icon:H,rotationAngle:0}).addTo(i).bindPopup("Ты здесь!"),n(2,T.latlng=t.latlng,T),r.reverseGeocode({query:[o.lng,o.lat]}).send().then(t=>{const e=t.body.features;e.forEach(t=>{"region"===t.place_type[0]?x=t.text:"district"===t.place_type[0]?I=t.text:"place"===t.place_type[0]&&(E=t.text)}),e.some(t=>"district"===t.place_type[0])||(I=E),n(2,T.region=x,T),n(2,T.city=E,T),n(2,T.district=I,T),N&&B()}))}function Dt(t){let e=function(t,e){let n=3.14159,r=t.lat*n/180,i=t.lng*n/180,o=e.lat*n/180,a=e.lng*n/180-i,s=Math.sin(a)*Math.cos(o),u=Math.cos(r)*Math.sin(o)-Math.sin(r)*Math.cos(o)*Math.cos(a),c=Math.atan2(s,u);return c*=180/n,c=(c+360)%360,c}(t.oldLatLng,t.latlng);h.setRotationAngle(e)}function jt(t){h.setLatLng(t.latlng),n(2,T={latlng:t.latlng,region:x,district:I,city:E})}let Ut,Ft=!1;function $t(t){n(0,o=t.latlng)}function zt(t){let e=0;Fs.collection(`icons/${t}/${x}`).where("author","==",N.uid).get().then((function(n){e=n.size,e>=5?Rt("Вы добавили максимальное кол-во иконок данного типа."):L.mapRating>5?T.city===E&&T.district===I&&T.region===x?Fs.collection(`icons/${t}/${x}`).add({city:E,district:I,added:le.firestore.FieldValue.serverTimestamp(),location:[o.lat,o.lng],author:N.uid,actual:.7,voters:[],votes:[]}).then((function(t){B(),Rt("Добавлено.")})).catch((function(t){console.error("Error adding document: ",t)})):Rt("Вы находитесь слишком далеко! Обновите местоположение."):Rt("Ваш рейтинг слишком мал.")}))}function Vt(t){s=t.target.options.alt,u=t.target.options.title,n(5,_=!0)}function qt(t){t.get().then((function(t){const e=t.data(),n=e.votes;if(5===n.length){const t=n.reduce((t,e)=>t+e,0),i=t/n.length;console.log("ave",i,"sum",t),i<0?(r=e.author,le.functions().httpsCallable("ratingDecrement")({author:r}).then((function(t){console.log("result",t.data)})).catch((function(t){console.log(t.code,t.message,t.details)})),console.log("dec")):i>1&&(!function(t){le.functions().httpsCallable("ratingIncrement")({author:t}).then((function(t){console.log("result",t.data)})).catch((function(t){console.log(t.code,t.message,t.details)}))}(e.author),console.log("inc"))}var r})).catch((function(t){console.log("Error getting document:",t)}))}let Ht=yd.create({baseURL:"https://nominatim.openstreetmap.org/search/"});let Gt=!1;let Wt=!1;let Kt=!1;let Zt=!1;let Xt=!1;let Jt,Yt,Qt=!1;return[o,c,T,b,w,_,k,C,A,P,M,N,At,Pt,Ut,Gt,Wt,Kt,Zt,Xt,Qt,Jt,Yt,function(){P&&M&&A||Rt("Введите имя, адрес почты и пароль.").throw(console.log("error")),le.auth().createUserWithEmailAndPassword(P,M).then(t=>{var e=t.user;console.log(e),Rt("Регистрация прошла успешно"),O({referrer:"newuser",username:A}).then((function(t){Rt("Идет регистрация дождитесь завершения")})).catch((function(t){console.log(t.code,t.message,t.details)}))}).catch(t=>{t.code,t.message})},function(){P&&M||Rt("Введите адрес почты и пароль."),le.auth().signInWithEmailAndPassword(P,M).then(t=>{t.user}).catch(t=>{t.code,t.message})},function(){if(!R){Ec.Routing.control({waypoints:[T.latlng],lineOptions:{styles:[{color:"black",opacity:.15,weight:9},{color:"white",opacity:.8,weight:6},{color:"#9bf542",opacity:1,weight:8}]},geocoder:Ec.Control.Geocoder.nominatim()}).addTo(i).getRouter().options.language="ru",R=!0,document.querySelector(".leaflet-routing-geocoders").setAttribute("style","margin-top: 60px;")}},Ot,Rt,function(){Ft?(Ft=!1,h.setIcon(H),i.stopLocate(),h.setRotationAngle(0),Rt("Следовать за маркером выключено.")):(Ft=!0,h.setIcon(G),h.on("move",Dt),i.locate({watch:!0,setView:!0,enableHighAccuracy:!0,maxZoom:17}),Rt("Следовать за маркером включено."))},function(t){console.log(t.detail.message,t.detail.type,t.detail.phone),T.city===E&&T.district===I&&T.region===x&&Fs.collection("icons/sos/"+x).add({city:E,district:I,added:le.firestore.FieldValue.serverTimestamp(),location:[o.lat,o.lng],author:N.uid,message:t.detail.message,phone:t.detail.phone}).then((function(t){B(),Rt("Добавлено.")})).catch((function(t){console.error("Error adding document: ",t)}))},zt,function(){let t=Fs.collection(""+u).doc(""+s);function e(e){t.update({actual:le.firestore.FieldValue.increment(.11),voters:le.firestore.FieldValue.arrayUnion(N.uid),votes:le.firestore.FieldValue.arrayUnion(e)}).then((function(){Rt("Голос принят!"),qt(t)})).catch((function(t){Rt("Ошибка: "+t.message)}))}t.get().then((function(t){const n=t.data();let r=n.voters.some(t=>t===N.uid);const i=n.votes;if(r)Rt("Вы уже проголосовали!");else if(i.length>0){e(i[i.length-1]>0?1.2+Math.random()/10:1+Math.random()/10)}else e(1)})).catch((function(t){Rt("Ошибка: "+t.message)}))},function(){let t=Fs.collection(""+u).doc(""+s);function e(e){t.update({actual:le.firestore.FieldValue.increment(-.11),voters:le.firestore.FieldValue.arrayUnion(N.uid),votes:le.firestore.FieldValue.arrayUnion(e)}).then((function(){Rt("Голос принят!"),qt(t)})).catch((function(t){Rt("Ошибка: "+t.message)}))}t.get().then((function(t){let n=t.data(),r=n.voters.some(t=>t===N.uid);const i=n.votes;if(r)Rt("Вы уже проголосовали!");else if(i.length>0){e(i[i.length-1]<0?-1.2-Math.random()/10:-1-Math.random()/10)}else e(-1)})).catch((function(t){Rt("Ошибка: "+t.message)}))},async function(){try{const t={swLng:a._southWest.lng-.02,neLat:a._northEast.lat+.02,neLng:a._northEast.lng+.02,swLat:a._southWest.lat-.02},e=(await Ht.get(Ut,{params:{format:"json",limit:3,addressdetails:1,countrycodes:["ru"],viewbox:`${t.swLng}, ${t.neLat}, ${t.neLng}, ${t.swLat}`,bounded:1}})).data;if(e.length>=1){const t=[e[0].lat,e[0].lon];e.forEach(t=>{Ec.marker([t.lat,t.lon],{icon:W}).addTo(i).bindPopup(""+t.display_name)}),i.flyTo(t,16)}else Rt("Ничего не найдено. Попробуйте отдалить карту или изменить запрос.")}catch(t){console.error(t)}},async function(){const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${o.lat}&lon=${o.lng}`),e=(await t.json()).display_name;Ec.popup().setLatLng(o).setContent(e).openOn(i)},async function(){if(L.balance>=100){const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${o.lat}&lon=${o.lng}`),e=await t.json();n(1,c=e.display_name),n(15,Gt=!0)}else Rt("На вашем счете недостаточно средств. Менее 100 руб.")},function(){Wt?n(16,Wt=!1):Fs.collection("taxiDrivers").doc(N.uid).get().then((function(t){t.exists?(n(16,Wt=!0),Fs.collection(`taxiOrders/region/${x}/city/${E}`).where("active","==",!0).get().then((function(t){t.forEach((function(t){let e=t.data();Ec.marker(e.location,{icon:Z,alt:t.id}).addTo(i).bindPopup(`<p> Пункт назначения: ${e.routes}</p> <p> Примечание: ${e.desc}</p> <p> Цена: ${e.price}</p> <a href="tel:${e.phone}"> Позвонить клиенту </a>`)}))}))):Rt("Список текущих заказов доступен только для зарегистрированных водителей.")})).catch((function(t){console.log("Error getting document:",t)}))},function(t){i.flyTo(t.detail.location,16),console.log(t.detail)},function(){n(17,Kt=!Kt)},function(){n(18,Zt=!Zt)},function(t){let e=i.distance(t.detail.order.location,T.latlng);console.log("distance",e),e<=150?Fs.collection(t.detail.ref).doc(t.detail.order.id).update({driverArrived:!0}).then((function(){Rt("Клиент оповещен! Ожидайте.")})).catch((function(t){console.error("Error updating document: ",t)})):Rt("Вы слишком далеко! Если вы на месте обновите локацию.")},function(t){let e=i.distance(t.detail.order.location,T.latlng);console.log("distance",e),e>=10?Fs.collection(t.detail.ref).doc(t.detail.order.id).update({onway:!0}).then((function(){Rt("Поехали. Не забудьте пристегнуться!")})).catch((function(t){console.error("Error updating document: ",t)})):console.log("waiting")},function(t){t.preventDefault();let e=document.getElementById("contextmenu");e.style.left=t.clientX+"px",e.style.top=t.clientY+"px",n(19,Xt=!0)},function(){Qt||n(20,Qt=!0)},function(){l<18?Rt("Увеличьте зум до максимума и повторите попытку."):n(21,Jt=!0)},function(){n(22,Yt=!Yt)},function(){A=this.value,n(8,A)},function(){P=this.value,n(9,P)},function(){M=this.value,n(10,M)},()=>n(7,C=!0),()=>n(6,k=!k),function(){Ut=this.value,n(14,Ut)},()=>Ot("main"),()=>n(15,Gt=!1),t=>Rt(t.detail.message),t=>Rt(t.detail.message),()=>n(17,Kt=!1),()=>Ot("Chat"),()=>n(22,Yt=!1),t=>Rt(t.detail.message),()=>n(21,Jt=!1),t=>Rt(t.detail.message),()=>n(20,Qt=!1),()=>n(3,b=!1),()=>n(5,_=!1),()=>n(5,_=!1),()=>n(19,Xt=!1),()=>zt("police"),()=>zt("mCamera"),()=>zt("sCamera"),()=>zt("DTP"),()=>zt("roadClosed"),()=>zt("roadConstruction"),()=>n(12,At=!1)]}const{document:Vp}=yt;function qp(e){let n,r,i,o,a;return{c(){n=x("script"),i=x("link"),o=I(),a=x("div"),a.innerHTML='<div id="loader" class="p-2"><img id="loading" class="mx-auto w-10 h-10" src="./icons/loading.svg" alt="loading"/></div> \n    <div id="firebaseui-auth-container"></div>',n.src!==(r="https://www.gstatic.com/firebasejs/ui/4.5.0/firebase-ui-auth__ru.js")&&C(n,"src","https://www.gstatic.com/firebasejs/ui/4.5.0/firebase-ui-auth__ru.js"),C(i,"type","text/css"),C(i,"rel","stylesheet"),C(i,"href","https://www.gstatic.com/firebasejs/ui/4.5.0/firebase-ui-auth.css"),C(a,"class","pt-20 min-h-screen w-full bg-gray-900")},m(t,e){b(Vp.head,n),b(Vp.head,i),w(t,o,e),w(t,a,e)},p:t,i:t,o:t,d(t){_(n),_(i),t&&_(o),t&&_(a)}}}function Hp(t){return new firebaseui.auth.AuthUI(le.auth()).start("#firebaseui-auth-container",{callbacks:{signInSuccessWithAuthResult:(t,e)=>!1,uiShown(){document.getElementById("loader").style.display="none"}},signInFlow:"popup",signInOptions:[le.auth.EmailAuthProvider.PROVIDER_ID,le.auth.GoogleAuthProvider.PROVIDER_ID,{provider:le.auth.PhoneAuthProvider.PROVIDER_ID,recaptchaParameters:{type:"image",size:"compact",badge:"bottomright"},defaultCountry:"RU"}]}),[]}function Gp(e){let n;return{c(){n=x("main"),n.innerHTML='<div class="pt-16"><div class="px-2 pb-2"><h1 class="svelte-p2coal">Платформа</h1> \n        <p class="svelte-p2coal">Avtokarta.club - децентрализованная платформа для владельцев автомобилей, \n            спецтехники и бизнеса предоставляющий обслуживание в данной сфере.</p> \n        <h1 class="svelte-p2coal">Общение</h1> \n        <p class="svelte-p2coal">Платформа дает возможность свободно обмениваться информацией о текущей\n            обстановке на дорогах: ремонт дорог, ДТП, местоположение радаров и патрулей ГИБДД.\n            Так же, у пользователей платформы, есть возможность, открыть любую тему для обсуждения\n            в том месте карты, где эта тема актуальна.</p> \n        <h1 class="svelte-p2coal">Такси</h1> \n        <p class="svelte-p2coal">Платформа дает возможность водителям такси работать без комиссии (при оплате токенами), \n            а клиентам такси устанавливать свою цену за поездку и выбрать удобный способ оплаты:\n            наличные, банковский перевод (Сбербанк онлайн), криптовалюта, токены платформы (1 ТАК = 1 руб.).</p> \n        <h1 class="svelte-p2coal">Спецтехника</h1> \n        <p class="svelte-p2coal">Платформа дает возможность владельцам спецтехники удобный способ взаимодействия с клиентами.\n            При поиске необходимой спецтехники, клиенты видят на карте, где находится спецтехника, вид спецтехники, \n            фото, цена аренды и телефон водителя для связи.</p> \n        <h1 class="svelte-p2coal">Крипто-кошелёк</h1> \n        <p class="svelte-p2coal">Платформа имеет встроенный крипто-кошелёк блокчейна Ethereum, кторый дает возможность, без сторонних приложений и \n            браузерных расширений, использовать все преимущества блокчейн технологии: обмениваться криптовалютой,\n            токенами, оплачивать товары и услуги. Крипто-кошелёк безопасен в использование и основан на библиотеке\n            Ethers.js (полноценная реализация кошелька Ethereum, рекомендуемая сообществом Ethereum).</p></div></div>',C(n,"class","svelte-p2coal")},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function Wp(e){let n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y;return{c(){n=x("div"),r=x("div"),i=I(),a=x("div"),s=x("img"),c=I(),l=x("div"),h=x("div"),f=x("div"),d=x("button"),d.innerHTML='<img src="./icons/navigate_before.svg" alt="back" class="w-10 h-10"/>',p=I(),m=x("div"),v=x("button"),v.innerHTML='<img src="./icons/navigate_next.svg" alt="back" class="w-10 h-10"/>',C(r,"class","md:h-4 bg-gray-700"),s.src!==(u="./img/help/"+e[1][e[0]])&&C(s,"src",u),C(s,"alt","tutorial"),C(s,"class","w-full md:w-1/2 lg:w-1/4 mx-auto object-cover"),C(a,"class","w-full min-h-screen bg-gray-700"),C(n,"class","z-0 md:mt-16"),C(d,"class","svelte-aouce0"),C(v,"class","svelte-aouce0"),C(h,"class","p-3 flex flex-row justify-around items-start"),C(l,"class","fixed bottom-0 h-20 w-full bg-gray-900")},m(t,o){w(t,n,o),b(n,r),b(n,i),b(n,a),b(a,s),w(t,c,o),w(t,l,o),b(l,h),b(h,f),b(f,d),b(h,p),b(h,m),b(m,v),g||(y=[S(d,"click",e[2]),S(v,"click",e[3])],g=!0)},p(t,[e]){1&e&&s.src!==(u="./img/help/"+t[1][t[0]])&&C(s,"src",u)},i:t,o:t,d(t){t&&_(n),t&&_(c),t&&_(l),g=!1,o(y)}}}function Kp(t,e,n){let r=["Snapshot_0.png","Snapshot_1.png","Snapshot_2.png","Snapshot_3.png","Snapshot_4.png"],i=0;return[i,r,function(){i>0&&n(0,i--,i)},function(){i<r.length-1&&n(0,i++,i)}]}function Zp(e){let n,r,i,o,a;return{c(){n=x("label"),n.innerHTML='<p class="mt-3 text-sm text-teal-500 svelte-1aelmgm">Загрузите фото фасада сервиса (поможет клиентам быстрее вас найти) или любое другое.</p> \n\n                <img src="add_photo_teal.svg" alt="add_photo" class="img-icon svelte-1aelmgm"/>',r=I(),i=x("input"),C(n,"for","serviceImage"),C(i,"type","file"),C(i,"id","serviceImage"),C(i,"name","file"),C(i,"class","svelte-1aelmgm")},m(t,s){w(t,n,s),w(t,r,s),w(t,i,s),o||(a=S(i,"change",e[16]),o=!0)},p:t,d(t){t&&_(n),t&&_(r),t&&_(i),o=!1,a()}}}function Xp(t){let e,n;return{c(){e=x("img"),C(e,"class","img-up svelte-1aelmgm"),e.src!==(n=t[2])&&C(e,"src",n),C(e,"alt","carImage")},m(t,n){w(t,e,n)},p(t,r){4&r[0]&&e.src!==(n=t[2])&&C(e,"src",n)},d(t){t&&_(e)}}}function Jp(e){let n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T;return{c(){n=x("div"),r=x("div"),i=x("p"),i.textContent="Стоимость размещения",o=I(),a=x("p"),a.textContent="100 руб.: Мелкосрочка (частный гараж), Шиномонтаж, Автостекло/Тонировка.",s=I(),u=x("p"),u.textContent="300 руб.: Автозапчасти, Автомойка, Авторазбор, СТО, ГСМ.",c=I(),l=x("p"),l.textContent="500 руб.: Придорожное кафе, Придорожный отель.",h=I(),f=x("p"),f.textContent="1000 руб.: Автозаправка.",d=I(),p=x("p"),p.textContent="Стоимость размещения оплачивается единоразово и списывается с баланса аккаунта.",m=I(),v=x("p"),g=x("button"),g.textContent="Закрыть",C(i,"class","text-center text-lg svelte-1aelmgm"),C(a,"class","svelte-1aelmgm"),C(u,"class","svelte-1aelmgm"),C(l,"class","svelte-1aelmgm"),C(f,"class","svelte-1aelmgm"),C(p,"class","svelte-1aelmgm"),C(g,"class","btn-gray"),C(v,"class","mt-2 text-center svelte-1aelmgm"),C(r,"class","p-2 border bg-white rounded-lg shadow-lg"),C(n,"id","priceList"),C(n,"class"," fixed top-0 svelte-1aelmgm")},m(t,y){w(t,n,y),b(n,r),b(r,i),b(r,o),b(r,a),b(r,s),b(r,u),b(r,c),b(r,l),b(r,h),b(r,f),b(r,d),b(r,p),b(r,m),b(r,v),b(v,g),k=!0,E||(T=S(g,"click",e[28]),E=!0)},p:t,i(t){k||(et(()=>{y||(y=gt(r,nc,{duration:500},!0)),y.run(1)}),k=!0)},o(t){y||(y=gt(r,nc,{duration:500},!1)),y.run(0),k=!1},d(t){t&&_(n),t&&y&&y.end(),E=!1,T()}}}function Yp(t){let e,n,r,i,o,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(t[9]),o=I(),a=x("p"),s=x("button"),s.textContent="Ок",C(r,"class","text-center svelte-1aelmgm"),C(s,"class","btn-orange"),C(a,"class","mt-2 text-center svelte-1aelmgm"),C(n,"class","p-3 border bg-white rounded-lg shadow-lg"),C(e,"id","alertBox"),C(e,"class"," fixed top-0 svelte-1aelmgm")},m(u,f){w(u,e,f),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),c=!0,l||(h=S(s,"click",t[29]),l=!0)},p(t,e){(!c||512&e[0])&&P(i,t[9])},i(t){c||(et(()=>{u||(u=gt(n,nc,{duration:500},!0)),u.run(1)}),c=!0)},o(t){u||(u=gt(n,nc,{duration:500},!1)),u.run(0),c=!1},d(t){t&&_(e),t&&u&&u.end(),l=!1,h()}}}function Qp(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,A,P,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,nt,rt,it,ot,at,st,ut,ct,lt,mt,vt,gt,yt,bt,wt,_t,kt,xt,Et,It,Tt,St,Ct,At,Pt,Mt,Nt,Lt,Ot,Rt,Bt,Dt,jt,Ut,Ft,$t,zt,Vt,qt,Ht,Gt,Wt,Kt;function Zt(t,e){return null!=t[2]?Xp:Zp}let Xt=Zt(t),Jt=Xt(t),Yt=t[0]&&Jp(t),Qt=t[8]&&Yp(t);return{c(){e=x("div"),n=x("div"),r=I(),i=x("div"),a=x("div"),a.innerHTML='<h1 class=" text-lg font-semibold text-center text-teal-500">Добавить сервис</h1>',s=I(),u=x("div"),c=x("label"),c.textContent="Тип сервиса:",l=I(),h=x("select"),f=x("option"),d=x("option"),d.textContent="СТО",p=x("option"),p.textContent="Мелкосрочка (частный гараж)",m=x("option"),m.textContent="Шиномонтаж",v=x("option"),v.textContent="Автомойка",g=x("option"),g.textContent="Автозапчасти",y=x("option"),y.textContent="Автостекло/Тонировка",k=x("option"),k.textContent="Автозаправка",A=x("option"),A.textContent="ГСМ",P=x("option"),P.textContent="Авторазбор",L=x("option"),L.textContent="Придорожное кафе",O=x("option"),O.textContent="Придорожный отель",R=I(),B=x("div"),D=x("p"),j=E("Название:\r\n                "),U=x("input"),F=I(),$=x("div"),z=x("p"),V=E("Виды услуг:\r\n                "),q=x("input"),H=I(),G=x("div"),W=x("p"),K=E("Телефон: \r\n                "),Z=x("input"),X=I(),J=x("div"),Jt.c(),Y=I(),Q=x("div"),tt=x("p"),tt.textContent="Время работы:",nt=I(),rt=x("p"),it=E("Круглосуточно \r\n                "),ot=x("input"),at=I(),st=x("p"),st.textContent="Пн - Пт",ut=I(),ct=x("p"),lt=E("С\r\n                "),mt=x("input"),vt=E("\r\n                до\r\n                "),gt=x("input"),yt=I(),bt=x("p"),bt.textContent="Суббота",wt=I(),_t=x("p"),kt=E("С\r\n                "),xt=x("input"),Et=E("\r\n                до\r\n                "),It=x("input"),Tt=E("\r\n                Выходной \r\n                "),St=x("input"),Ct=I(),At=x("p"),At.textContent="Вокресенье",Pt=I(),Mt=x("p"),Nt=E("С\r\n                "),Lt=x("input"),Ot=E("\r\n                до\r\n                "),Rt=x("input"),Bt=E("\r\n                Выходной \r\n                "),Dt=x("input"),jt=I(),Ut=x("div"),Ft=x("button"),Ft.textContent="Стоимость размещения",$t=I(),zt=x("button"),zt.textContent="Добавить",Vt=I(),Yt&&Yt.c(),qt=I(),Qt&&Qt.c(),Ht=T(),C(n,"id","map"),C(n,"class","svelte-1aelmgm"),C(a,"class","service-block svelte-1aelmgm"),C(c,"for","service-type"),C(c,"class"," text-gray-700 text-sm font-semibold"),f.__value="",f.value=f.__value,d.__value="СТО",d.value=d.__value,p.__value="Мелкосрочка",p.value=p.__value,m.__value="Шиномонтаж",m.value=m.__value,v.__value="Автомойка",v.value=v.__value,g.__value="Автозапчасти",g.value=g.__value,y.__value="Автостекло/Тонировка",y.value=y.__value,k.__value="Автозаправка",k.value=k.__value,A.__value="ГСМ",A.value=A.__value,P.__value="Авторазбор",P.value=P.__value,L.__value="Кафе",L.value=L.__value,O.__value="Отель",O.value=O.__value,C(h,"name","service-type"),C(h,"id","service-type"),C(h,"class","border rounded-md"),void 0===t[4]&&et(()=>t[12].call(h)),C(u,"class","mt-4 service-block svelte-1aelmgm"),C(U,"type","text"),C(U,"placeholder","Название сервиса"),C(U,"maxlength","50"),C(U,"class","w-full lg:w-1/2 svelte-1aelmgm"),C(D,"class","svelte-1aelmgm"),C(B,"class","service-block svelte-1aelmgm"),C(q,"type","text"),C(q,"placeholder","Короткое описание"),C(q,"maxlength","150"),C(q,"class","w-full lg:w-1/2 svelte-1aelmgm"),C(z,"class","svelte-1aelmgm"),C($,"class","service-block svelte-1aelmgm"),C(Z,"type","text"),C(Z,"class","w-full lg:w-1/2 svelte-1aelmgm"),C(W,"class","svelte-1aelmgm"),C(G,"class","service-block svelte-1aelmgm"),C(J,"class","image-upload svelte-1aelmgm"),C(tt,"class","svelte-1aelmgm"),C(ot,"type","checkbox"),C(ot,"class","svelte-1aelmgm"),C(rt,"class","svelte-1aelmgm"),C(st,"class","svelte-1aelmgm"),C(mt,"type","time"),C(mt,"class","svelte-1aelmgm"),C(gt,"type","time"),C(gt,"class","svelte-1aelmgm"),C(ct,"class","svelte-1aelmgm"),C(bt,"class","svelte-1aelmgm"),C(xt,"type","time"),C(xt,"class","svelte-1aelmgm"),C(It,"type","time"),C(It,"class","svelte-1aelmgm"),C(St,"type","checkbox"),C(St,"class","svelte-1aelmgm"),C(_t,"class","svelte-1aelmgm"),C(At,"class","svelte-1aelmgm"),C(Lt,"type","time"),C(Lt,"class","svelte-1aelmgm"),C(Rt,"type","time"),C(Rt,"class","svelte-1aelmgm"),C(Dt,"type","checkbox"),C(Dt,"class","svelte-1aelmgm"),C(Mt,"class","svelte-1aelmgm"),C(Q,"class","mt-4 service-block svelte-1aelmgm"),C(Ft,"class","btn-white"),C(zt,"class","btn-green"),C(Ut,"class","mt-4 text-center"),C(i,"class"," mx-auto p-2 bg-white w-full lg:w-2/3"),C(e,"class","mt-16")},m(o,_){w(o,e,_),b(e,n),b(e,r),b(e,i),b(i,a),b(i,s),b(i,u),b(u,c),b(u,l),b(u,h),b(h,f),b(h,d),b(h,p),b(h,m),b(h,v),b(h,g),b(h,y),b(h,k),b(h,A),b(h,P),b(h,L),b(h,O),N(h,t[4]),b(i,R),b(i,B),b(B,D),b(D,j),b(D,U),M(U,t[3]),b(i,F),b(i,$),b($,z),b(z,V),b(z,q),M(q,t[5]),b(i,H),b(i,G),b(G,W),b(W,K),b(W,Z),M(Z,t[6]),b(i,X),b(i,J),Jt.m(J,null),b(i,Y),b(i,Q),b(Q,tt),b(Q,nt),b(Q,rt),b(rt,it),b(rt,ot),ot.checked=t[7].alltime,b(Q,at),b(Q,st),b(Q,ut),b(Q,ct),b(ct,lt),b(ct,mt),M(mt,t[7].weekdays[0]),b(ct,vt),b(ct,gt),M(gt,t[7].weekdays[1]),b(Q,yt),b(Q,bt),b(Q,wt),b(Q,_t),b(_t,kt),b(_t,xt),M(xt,t[7].sat[0]),b(_t,Et),b(_t,It),M(It,t[7].sat[1]),b(_t,Tt),b(_t,St),St.checked=t[7].saturday,b(Q,Ct),b(Q,At),b(Q,Pt),b(Q,Mt),b(Mt,Nt),b(Mt,Lt),M(Lt,t[7].sun[0]),b(Mt,Ot),b(Mt,Rt),M(Rt,t[7].sun[1]),b(Mt,Bt),b(Mt,Dt),Dt.checked=t[7].sunday,b(i,jt),b(i,Ut),b(Ut,Ft),b(Ut,$t),b(Ut,zt),w(o,Vt,_),Yt&&Yt.m(o,_),w(o,qt,_),Qt&&Qt.m(o,_),w(o,Ht,_),Gt=!0,Wt||(Kt=[S(h,"change",t[12]),S(U,"input",t[13]),S(q,"input",t[14]),S(Z,"input",t[15]),S(ot,"change",t[17]),S(mt,"input",t[18]),S(gt,"input",t[19]),S(xt,"input",t[20]),S(It,"input",t[21]),S(St,"change",t[22]),S(Lt,"input",t[23]),S(Rt,"input",t[24]),S(Dt,"change",t[25]),S(Ft,"click",t[26]),S(zt,"click",t[27])],Wt=!0)},p(t,e){16&e[0]&&N(h,t[4]),8&e[0]&&U.value!==t[3]&&M(U,t[3]),32&e[0]&&q.value!==t[5]&&M(q,t[5]),64&e[0]&&Z.value!==t[6]&&M(Z,t[6]),Xt===(Xt=Zt(t))&&Jt?Jt.p(t,e):(Jt.d(1),Jt=Xt(t),Jt&&(Jt.c(),Jt.m(J,null))),128&e[0]&&(ot.checked=t[7].alltime),128&e[0]&&M(mt,t[7].weekdays[0]),128&e[0]&&M(gt,t[7].weekdays[1]),128&e[0]&&M(xt,t[7].sat[0]),128&e[0]&&M(It,t[7].sat[1]),128&e[0]&&(St.checked=t[7].saturday),128&e[0]&&M(Lt,t[7].sun[0]),128&e[0]&&M(Rt,t[7].sun[1]),128&e[0]&&(Dt.checked=t[7].sunday),t[0]?Yt?(Yt.p(t,e),1&e[0]&&dt(Yt,1)):(Yt=Jp(t),Yt.c(),dt(Yt,1),Yt.m(qt.parentNode,qt)):Yt&&(ht(),pt(Yt,1,1,()=>{Yt=null}),ft()),t[8]?Qt?(Qt.p(t,e),256&e[0]&&dt(Qt,1)):(Qt=Yp(t),Qt.c(),dt(Qt,1),Qt.m(Ht.parentNode,Ht)):Qt&&(ht(),pt(Qt,1,1,()=>{Qt=null}),ft())},i(t){Gt||(dt(Yt),dt(Qt),Gt=!0)},o(t){pt(Yt),pt(Qt),Gt=!1},d(t){t&&_(e),Jt.d(),t&&_(Vt),Yt&&Yt.d(t),t&&_(qt),Qt&&Qt.d(t),t&&_(Ht),Wt=!1,o(Kt)}}}const tm="pk.eyJ1IjoiZGFwcGRldnYiLCJhIjoiY2s3ZWo0dWV4MDYzcjNncHRncnlvdHY2OSJ9.zLk9G0tHK9iU-onN_TjxFw";function em(t,e,n){const r=bp({accessToken:tm});let i,o,a,s,u,c,l,h,f,d,p,m,v,g,y=$s.ref(),b={latlng:null,region:"none",city:"none",district:"none"};function w(t){a=Ec.marker(t.latlng,{icon:u,draggable:!0}).addTo(i),a.on("move",_),a.on("moveend",x)}function _(t){b.latlng=t.latlng}function k(t){a.setLatLng(t.latlng),b.latlng=t.latlng,x()}function x(){let t=b.latlng;r.reverseGeocode({query:[t.lng,t.lat]}).send().then(t=>{const e=t.body.features;e.forEach(t=>{"region"===t.place_type[0]?c=t.text:"district"===t.place_type[0]?h=t.text:"place"===t.place_type[0]&&(l=t.text)}),e.some(t=>"district"===t.place_type[0])||(h=l),b.region=c,b.city=l,b.district=h,console.log(b)})}V((function(){i=Ec.map("map",{zoomControl:!1}).setView([55.80046084146819,49.105174541473396],13),i.locate({watch:!1,setView:!0,enableHighAccuracy:!0}),Ec.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'<span style="font-size: smaller;"> Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a>, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a></span>',maxZoom:19,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:tm}).addTo(i),o=i.getCenter(),Ec.control.zoom({position:"bottomright"}).addTo(i),s=Ec.Icon.extend({options:{iconSize:[50,50],iconAnchor:[25,25],popupAnchor:[0,-25]}}),u=new s({iconUrl:"location.png"}),i.on("locationfound",w),i.on("click",k)})),le.auth().onAuthStateChanged((function(t){t?n(1,d=t):console.log("no user login")}));let E,I,T="+7",S={alltime:!1,saturday:!1,sunday:!1,weekdays:[],sat:[],sun:[]};function C(){let t;let e;Fs.collection("priceList").doc("addService").get().then((function(e){const n=e.data();t=n[v]})).catch((function(t){A("Ошибка: "+t)}));Fs.collection("users").doc(d.uid).get().then((function(n){const r=n.data();e=r.balance,e-t>=0?function(t){if(b.region&&"none"!=b.city)if(g&&m&&v&&null!=p){Fs.collection("services").add({region:b.region,district:b.district,city:b.city,name:m,type:v,offer:g,imgURL:p,phone:T,location:[b.latlng.lat,b.latlng.lng],owner:d.uid,time:{wHours:S}}).then((function(e){!function(t){P({amount:t}).then((function(t){console.log(t)})).catch((function(t){console.log(t.code,t.message,t.details)}))}(t),A("Новый сервис добавлен. Данные обновятся через несколько минут.")})).catch((function(t){A("Ошибка: "+t)}))}else A("Заполните все поля.");else A("Установите маркер на местоположение сервиса.")}(t):A("Недостаточно средств.")})).catch((function(t){A("Ошибка: "+t)}))}function A(t){E||(n(9,I=t),n(8,E=!0)),setTimeout(()=>{n(8,E=!1)},5e3)}let P=le.functions().httpsCallable("balanceDecrement");function M(t,e){t.stopPropagation(),t.preventDefault();let r=t.target.files[0],i={contentType:r.type};y.child(`users/${e}/service/${r.name}`).put(r,i).then((function(t){console.log("Uploaded",t.totalBytes,"bytes."),console.log("File metadata:",t.metadata),t.ref.getDownloadURL().then((function(t){console.log("File available at",t),n(2,p=t)}))})).catch((function(t){console.error("Upload failed:",t)}))}return[f,d,p,m,v,g,T,S,E,I,C,M,function(){v=O(this),n(4,v)},function(){m=this.value,n(3,m)},function(){g=this.value,n(5,g)},function(){T=this.value,n(6,T)},t=>M(t,d.uid),function(){S.alltime=this.checked,n(7,S)},function(){S.weekdays[0]=this.value,n(7,S)},function(){S.weekdays[1]=this.value,n(7,S)},function(){S.sat[0]=this.value,n(7,S)},function(){S.sat[1]=this.value,n(7,S)},function(){S.saturday=this.checked,n(7,S)},function(){S.sun[0]=this.value,n(7,S)},function(){S.sun[1]=this.value,n(7,S)},function(){S.sunday=this.checked,n(7,S)},()=>n(0,f=!0),()=>C(),()=>n(0,f=!1),()=>n(8,E=!1)]}var nm=Tt(St((function(t,e){t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(!s&&Ct)return Ct();if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o=Ct,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version="4.0.48"},{}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./utils/properties"),i=(o.isSigner=function(t){return r.isType(t,"Signer")},o);function o(){r.setType(this,"Signer")}n.Signer=i},{"./utils/properties":74}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./utils/bignumber");n.AddressZero="0x0000000000000000000000000000000000000000",n.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",n.EtherSymbol="Ξ";var i=r.bigNumberify(-1);n.NegativeOne=i;var o=r.bigNumberify(0);n.Zero=o;var a=r.bigNumberify(1);n.One=a;var s=r.bigNumberify(2);n.Two=s;var u=r.bigNumberify("1000000000000000000");n.WeiPerEther=u;var c=r.bigNumberify("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");n.MaxUint256=c},{"./utils/bignumber":63}],4:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("./constants"),u=o(t("./errors")),c=t("./utils/abi-coder"),l=t("./utils/address"),h=t("./utils/bignumber"),f=t("./utils/bytes"),d=t("./utils/interface"),p=t("./utils/properties"),m=t("./providers/abstract-provider"),v=t("./abstract-signer"),g=(i(y,a=v.Signer),y.prototype.getAddress=function(){return Promise.resolve(this.address)},y.prototype._fail=function(t,e){return Promise.resolve().then((function(){u.throwError(t,u.UNSUPPORTED_OPERATION,{operation:e})}))},y.prototype.signMessage=function(t){return this._fail("VoidSigner cannot sign messages","signMessage")},y.prototype.sendTransaction=function(t){return this._fail("VoidSigner cannot sign transactions","sendTransaction")},y.prototype.connect=function(t){return new y(this.address,t)},y);function y(t,e){var n=a.call(this)||this;return p.defineReadOnly(n,"address",t),p.defineReadOnly(n,"provider",e),n}n.VoidSigner=g;var b={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};function w(t,e,n){var r=t.interface.functions[e];return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o={},a=null;if(e.length===r.inputs.length+1&&"object"==typeof e[e.length-1])for(var l in null!=(o=p.shallowCopy(e.pop())).blockTag&&(a=o.blockTag),delete o.blockTag,o)if(!b[l])throw new Error("unknown transaction override "+l);if(e.length!=r.inputs.length)throw new Error("incorrect number of arguments");return["data","to"].forEach((function(t){null!=o[t]&&u.throwError("cannot override "+t,u.UNSUPPORTED_OPERATION,{operation:t})})),o.to=t._deployed(a).then((function(){return t.addressPromise})),function t(e,n,r){if(Array.isArray(r)){var i=[];return r.forEach((function(r,o){var a=Array.isArray(n)?n[o]:n[r.name];i.push(t(e,a,r))})),Promise.all(i)}if("address"===r.type)return e.resolveName(n);if("tuple"===r.type)return t(e,n,r.components);var o=r.type.match(/(.*)(\[[0-9]*\]$)/);if(o){if(!Array.isArray(n))throw new Error("invalid value for array");var a=[],s={components:r.components,type:o[1]};return n.forEach((function(n){a.push(t(e,n,s))})),Promise.all(a)}return Promise.resolve(n)}(t.provider,e,r.inputs).then((function(e){if(o.data=r.encode(e),"call"===r.type)return n?Promise.resolve(s.Zero):(t.provider||u.throwError("call (constant functions) require a provider or a signer with a provider",u.UNSUPPORTED_OPERATION,{operation:"call"}),["gasLimit","gasPrice","value"].forEach((function(t){if(null!=o[t])throw new Error("call cannot override "+t)})),null==o.from&&t.signer&&(o.from=t.signer.getAddress()),t.provider.call(o,a).then((function(n){var i;f.hexDataLength(n)%32==4&&"0x08c379a0"===f.hexDataSlice(n,0,4)&&(i=c.defaultAbiCoder.decode(["string"],f.hexDataSlice(n,4)),u.throwError("call revert exception",u.CALL_EXCEPTION,{address:t.address,args:e,method:r.signature,errorSignature:"Error(string)",errorArgs:[i],reason:i,transaction:o}));try{var a=r.decode(n);return 1===r.outputs.length&&(a=a[0]),a}catch(i){throw"0x"===n&&0<r.outputs.length&&u.throwError("call exception",u.CALL_EXCEPTION,{address:t.address,method:r.signature,args:e}),i}})));if("transaction"===r.type)return n?(t.provider||u.throwError("estimate gas require a provider or a signer with a provider",u.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),null==o.from&&t.signer&&(o.from=t.signer.getAddress()),t.provider.estimateGas(o)):(null==o.gasLimit&&null!=r.gas&&(o.gasLimit=h.bigNumberify(r.gas).add(21e3)),t.signer||u.throwError("sending a transaction requires a signer",u.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=o.from&&u.throwError("cannot override from in a transaction",u.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.signer.sendTransaction(o).then((function(e){var n=e.wait.bind(e);return e.wait=function(e){return n(e).then((function(e){return e.events=e.logs.map((function(n){var r=p.deepCopy(n),i=t.interface.parseLog(n);return i&&(r.args=i.values,r.decode=i.decode,r.event=i.name,r.eventSignature=i.signature),r.removeListener=function(){return t.provider},r.getBlock=function(){return t.provider.getBlock(e.blockHash)},r.getTransaction=function(){return t.provider.getTransaction(e.transactionHash)},r.getTransactionReceipt=function(){return Promise.resolve(e)},r})),e}))},e})));throw new Error("invalid type - "+r.type)}))}}function _(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.join(":"):""):"*"}var k=(x.prototype.deployed=function(){return this._deployed()},x.prototype._deployed=function(t){var e=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((function(){return e})):this._deployedPromise=this.provider.getCode(this.address,t).then((function(t){return"0x"===t&&u.throwError("contract not deployed",u.UNSUPPORTED_OPERATION,{contractAddress:e.address,operation:"getDeployed"}),e}))),this._deployedPromise},x.prototype.fallback=function(t){var e=this;this.signer||u.throwError("sending a transaction requires a signer",u.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var n=p.shallowCopy(t||{});return["from","to"].forEach((function(t){null!=n[t]&&u.throwError("cannot override "+t,u.UNSUPPORTED_OPERATION,{operation:t})})),n.to=this.addressPromise,this.deployed().then((function(){return e.signer.sendTransaction(n)}))},x.prototype.connect=function(t){"string"==typeof t&&(t=new g(t,this.provider));var e=new x(this.address,this.interface,t);return this.deployTransaction&&p.defineReadOnly(e,"deployTransaction",this.deployTransaction),e},x.prototype.attach=function(t){return new x(t,this.interface,this.signer||this.provider)},x.isIndexed=function(t){return d.Interface.isIndexed(t)},x.prototype._getEventFilter=function(t){var e=this;if("string"==typeof t){if("*"===t)return{prepareEvent:function(t){var n=e.interface.parseLog(t);return n&&(t.args=n.values,t.decode=n.decode,t.event=n.name,t.eventSignature=n.signature),[t]},eventTag:"*",filter:{address:this.address}};-1!==t.indexOf("(")&&(t=c.formatSignature(c.parseSignature("event "+t)));var n=this.interface.events[t];n||u.throwError("unknown event - "+t,u.INVALID_ARGUMENT,{argumnet:"eventName",value:t});var r={address:this.address,topics:[n.topic]};return{prepareEvent:function(t){var e=n.decode(t.data,t.topics);t.args=e;var r=Array.prototype.slice.call(e);return r.push(t),r},event:n,eventTag:_(r),filter:r}}var i={address:this.address},o=null;if(t.topics&&t.topics[0])for(var a in i.topics=t.topics,this.interface.events)if(-1!==a.indexOf("(")){var s=this.interface.events[a];if(s.topic===t.topics[0].toLowerCase()){o=s;break}}return{prepareEvent:function(t){if(!o)return[t];var e=o.decode(t.data,t.topics);t.args=e;var n=Array.prototype.slice.call(e);return n.push(t),n},event:o,eventTag:_(i),filter:i}},x.prototype._addEventListener=function(t,e,n){var r=this;function i(n){var i=p.deepCopy(n),o=t.prepareEvent(i);t.event&&(i.decode=t.event.decode,i.event=t.event.name,i.eventSignature=t.event.signature),i.removeListener=function(){r.removeListener(t.filter,e)},i.getBlock=function(){return r.provider.getBlock(n.blockHash)},i.getTransaction=function(){return r.provider.getTransaction(n.transactionHash)},i.getTransactionReceipt=function(){return r.provider.getTransactionReceipt(n.transactionHash)},r.emit.apply(r,[t.filter].concat(o))}this.provider||u.throwError("events require a provider or a signer with a provider",u.UNSUPPORTED_OPERATION,{operation:"once"}),this.provider.on(t.filter,i),this._events.push({eventFilter:t,listener:e,wrappedListener:i,once:n})},x.prototype.on=function(t,e){return this._addEventListener(this._getEventFilter(t),e,!1),this},x.prototype.once=function(t,e){return this._addEventListener(this._getEventFilter(t),e,!0),this},x.prototype.addListener=function(t,e){return this.on(t,e)},x.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.provider)return!1;var i=!1,o=this._getEventFilter(t);return this._events=this._events.filter((function(t){return t.eventFilter.eventTag!==o.eventTag||(setTimeout((function(){t.listener.apply(e,n)}),0),i=!0,!t.once)})),i},x.prototype.listenerCount=function(t){if(!this.provider)return 0;var e=this._getEventFilter(t);return this._events.filter((function(t){return t.eventFilter.eventTag===e.eventTag})).length},x.prototype.listeners=function(t){if(!this.provider)return[];var e=this._getEventFilter(t);return this._events.filter((function(t){return t.eventFilter.eventTag===e.eventTag})).map((function(t){return t.listener}))},x.prototype.removeAllListeners=function(t){var e=this;if(!this.provider)return this;var n=this._getEventFilter(t);return this._events=this._events.filter((function(t){return t.eventFilter.eventTag!==n.eventTag||(e.provider.removeListener(t.eventFilter.filter,t.wrappedListener),!1)})),this},x.prototype.removeListener=function(t,e){var n=this;if(!this.provider)return this;var r=!1,i=this._getEventFilter(t);return this._events=this._events.filter((function(t){return t.eventFilter.eventTag!==i.eventTag||t.listener!==e||(n.provider.removeListener(t.eventFilter.filter,t.wrappedListener),!!r||!(r=!0))})),this},x);function x(t,e,n){var r=this;if(u.checkNew(this,x),d.Interface.isInterface(e)?p.defineReadOnly(this,"interface",e):p.defineReadOnly(this,"interface",new d.Interface(e)),v.Signer.isSigner(n)?(p.defineReadOnly(this,"provider",n.provider),p.defineReadOnly(this,"signer",n)):m.Provider.isProvider(n)?(p.defineReadOnly(this,"provider",n),p.defineReadOnly(this,"signer",null)):u.throwError("invalid signer or provider",u.INVALID_ARGUMENT,{arg:"signerOrProvider",value:n}),p.defineReadOnly(this,"estimate",{}),p.defineReadOnly(this,"functions",{}),p.defineReadOnly(this,"filters",{}),Object.keys(this.interface.events).forEach((function(t){var e=r.interface.events[t];p.defineReadOnly(r.filters,t,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{address:r.address,topics:e.encodeTopics(t)}}))})),this._events=[],p.defineReadOnly(this,"address",t),this.provider)p.defineReadOnly(this,"addressPromise",this.provider.resolveName(t).then((function(t){if(null==t)throw new Error("name not found");return t})).catch((function(t){throw t})));else try{p.defineReadOnly(this,"addressPromise",Promise.resolve(l.getAddress(t)))}catch(e){u.throwError("provider is required to use non-address contract address",u.INVALID_ARGUMENT,{argument:"addressOrName",value:t})}Object.keys(this.interface.functions).forEach((function(t){var e=w(r,t,!1);null==r[t]?p.defineReadOnly(r,t,e):u.warn("WARNING: Multiple definitions for "+t),null==r.functions[t]&&(p.defineReadOnly(r.functions,t,e),p.defineReadOnly(r.estimate,t,w(r,t,!0)))}))}n.Contract=k;var E=(I.prototype.getDeployTransaction=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={};if(t.length===this.interface.deployFunction.inputs.length+1)for(var r in n=p.shallowCopy(t.pop()))if(!b[r])throw new Error("unknown transaction override "+r);return["data","from","to"].forEach((function(t){null!=n[t]&&u.throwError("cannot override "+t,u.UNSUPPORTED_OPERATION,{operation:t})})),u.checkArgumentCount(t.length,this.interface.deployFunction.inputs.length," in Contract constructor"),n.data=this.interface.deployFunction.encode(this.bytecode,t),n},I.prototype.deploy=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.getDeployTransaction.apply(this,e);return this.signer.sendTransaction(r).then((function(e){var n=new k(l.getContractAddress(e),t.interface,t.signer);return p.defineReadOnly(n,"deployTransaction",e),n}))},I.prototype.attach=function(t){return new k(t,this.interface,this.signer)},I.prototype.connect=function(t){return new I(this.interface,this.bytecode,t)},I.fromSolidity=function(t,e){null==t&&u.throwError("missing compiler output",u.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof t&&(t=JSON.parse(t));var n=t.abi,r=null;return t.bytecode?r=t.bytecode:t.evm&&t.evm.bytecode&&(r=t.evm.bytecode),new I(n,r,e)},I);function I(t,e,n){var r=null;"string"==typeof e?r=e:f.isArrayish(e)?r=f.hexlify(e):"string"==typeof e.object?r=e.object:u.throwError("bytecode must be a valid hex string",u.INVALID_ARGUMENT,{arg:"bytecode",value:e}),"0x"!==r.substring(0,2)&&(r="0x"+r),f.isHexString(r)||u.throwError("bytecode must be a valid hex string",u.INVALID_ARGUMENT,{arg:"bytecode",value:e}),r.length%2!=0&&u.throwError("bytecode must be valid data (even length)",u.INVALID_ARGUMENT,{arg:"bytecode",value:e}),p.defineReadOnly(this,"bytecode",r),d.Interface.isInterface(t)?p.defineReadOnly(this,"interface",t):p.defineReadOnly(this,"interface",new d.Interface(t)),n&&!v.Signer.isSigner(n)&&u.throwError("invalid signer",u.INVALID_ARGUMENT,{arg:"signer",value:null}),p.defineReadOnly(this,"signer",n||null)}n.ContractFactory=E},{"./abstract-signer":2,"./constants":3,"./errors":5,"./providers/abstract-provider":50,"./utils/abi-coder":59,"./utils/address":60,"./utils/bignumber":63,"./utils/bytes":64,"./utils/interface":69,"./utils/properties":74}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./_version");n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.MISSING_NEW="MISSING_NEW",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.NUMERIC_FAULT="NUMERIC_FAULT",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED";var i=!(n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION"),o=!1;function a(t,e,i){if(o)throw new Error("unknown error");e=e||n.UNKNOWN_ERROR,i=i||{};var a=[];Object.keys(i).forEach((function(t){try{a.push(t+"="+JSON.stringify(i[t]))}catch(e){a.push(t+"="+JSON.stringify(i[t].toString()))}})),a.push("version="+r.version);var s=t;a.length&&(t+=" ("+a.join(", ")+")");var u=new Error(t);throw u.reason=s,u.code=e,Object.keys(i).forEach((function(t){u[t]=i[t]})),u}n.throwError=a,n.checkNew=function(t,e){t instanceof e||a("missing new",n.MISSING_NEW,{name:e.name})},n.checkArgumentCount=function(t,e,r){r=r||"",t<e&&a("missing argument"+r,n.MISSING_ARGUMENT,{count:t,expectedCount:e}),e<t&&a("too many arguments"+r,n.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})},n.setCensorship=function(t,e){i&&a("error censorship permanent",n.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),o=!!t,i=!!e},n.checkNormalize=function(){try{if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{"test".normalize(t)}catch(e){throw new Error("missing "+t)}})),String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){a("platform missing String.prototype.normalize",n.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:t.message})}};var s={debug:1,default:2,info:2,warn:3,error:4,off:5},u=s.default;function c(t,e){u>s[t]||console.log.apply(console,e)}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c("warn",t)}n.setLogLevel=function(t){var e=s[t];null!=e?u=e:l("invliad log level - "+t)},n.warn=l,n.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c("info",t)}},{"./_version":1}],6:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./contract");n.Contract=i.Contract,n.ContractFactory=i.ContractFactory,n.VoidSigner=i.VoidSigner;var o=t("./abstract-signer");n.Signer=o.Signer;var a=t("./wallet");n.Wallet=a.Wallet;var s=r(t("./constants"));n.constants=s;var u=r(t("./errors"));n.errors=u;var c=r(t("./providers"));n.providers=c;var l=r(t("./utils"));n.utils=l;var h=r(t("./wordlists"));n.wordlists=h;var f=t("./utils/shims");n.platform=f.platform;var d=t("./_version");n.version=d.version,n.getDefaultProvider=function(t){null==t&&(t="homestead");var e=l.getNetwork(t);return e&&e._defaultProvider||u.throwError("unsupported getDefaultProvider network",u.UNSUPPORTED_OPERATION,{operation:"getDefaultProvider",network:t}),e._defaultProvider(c)}},{"./_version":1,"./abstract-signer":2,"./constants":3,"./contract":4,"./errors":5,"./providers":54,"./utils":68,"./utils/shims":80,"./wallet":88,"./wordlists":89}],7:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("./ethers"));n.ethers=i,function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(t("./ethers"))},{"./ethers":6}],8:[function(t,e,n){!function(t){function r(t){return parseInt(t)===t}function i(t){if(r(t.length)){for(var e=0;e<t.length;e++)if(!r(t[e])||t[e]<0||255<t[e])return;return 1}}function o(t,e){if(t.buffer&&ArrayBuffer.isView(t)&&"Uint8Array"===t.name)return e&&(t=t.slice?t.slice():Array.prototype.slice.call(t)),t;if(Array.isArray(t)){if(!i(t))throw new Error("Array contains invalid value: "+t);return new Uint8Array(t)}if(r(t.length)&&i(t))return new Uint8Array(t);throw new Error("unsupported array-like object")}function a(t){return new Uint8Array(t)}function s(t,e,n,r,i){null==r&&null==i||(t=t.slice?t.slice(r,i):Array.prototype.slice.call(t,r,i)),e.set(t,n)}var u,c={toBytes:function(t){var e=[],n=0;for(t=encodeURI(t);n<t.length;){var r=t.charCodeAt(n++);37===r?(e.push(parseInt(t.substr(n,2),16)),n+=2):e.push(r)}return o(e)},fromBytes:function(t){for(var e=[],n=0;n<t.length;){var r=t[n];r<128?(e.push(String.fromCharCode(r)),n++):191<r&&r<224?(e.push(String.fromCharCode((31&r)<<6|63&t[n+1])),n+=2):(e.push(String.fromCharCode((15&r)<<12|(63&t[n+1])<<6|63&t[n+2])),n+=3)}return e.join("")}},l=(u="0123456789abcdef",{toBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},fromBytes:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(u[(240&r)>>4]+u[15&r])}return e.join("")}}),h={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],v=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],w=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],k=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],x=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],I=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],T=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(t){for(var e=[],n=0;n<t.length;n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}var C=function(t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(t,!0)}),this._prepare()};C.prototype._prepare=function(){var t=h[this.key.length];if(null==t)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=t;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(t+1),i=this.key.length/4,o=S(this.key);for(e=0;e<i;e++)n=e>>2,this._Ke[n][e%4]=o[e],this._Kd[t-n][e%4]=o[e];for(var a,s=0,u=i;u<r;){if(a=o[i-1],o[0]^=d[a>>16&255]<<24^d[a>>8&255]<<16^d[255&a]<<8^d[a>>24&255]^f[s]<<24,s+=1,8!=i)for(e=1;e<i;e++)o[e]^=o[e-1];else{for(e=1;e<i/2;e++)o[e]^=o[e-1];for(a=o[i/2-1],o[i/2]^=d[255&a]^d[a>>8&255]<<8^d[a>>16&255]<<16^d[a>>24&255]<<24,e=i/2+1;e<i;e++)o[e]^=o[e-1]}for(e=0;e<i&&u<r;)c=u>>2,l=u%4,this._Ke[c][l]=o[e],this._Kd[t-c][l]=o[e++],u++}for(var c=1;c<t;c++)for(var l=0;l<4;l++)a=this._Kd[c][l],this._Kd[c][l]=x[a>>24&255]^E[a>>16&255]^I[a>>8&255]^T[255&a]},C.prototype.encrypt=function(t){if(16!=t.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,n=[0,0,0,0],r=S(t),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var o=1;o<e;o++){for(i=0;i<4;i++)n[i]=m[r[i]>>24&255]^v[r[(i+1)%4]>>16&255]^g[r[(i+2)%4]>>8&255]^y[255&r[(i+3)%4]]^this._Ke[o][i];r=n.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Ke[e][i],u[4*i]=255&(d[r[i]>>24&255]^s>>24),u[4*i+1]=255&(d[r[(i+1)%4]>>16&255]^s>>16),u[4*i+2]=255&(d[r[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(d[255&r[(i+3)%4]]^s);return u},C.prototype.decrypt=function(t){if(16!=t.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,n=[0,0,0,0],r=S(t),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var o=1;o<e;o++){for(i=0;i<4;i++)n[i]=b[r[i]>>24&255]^w[r[(i+3)%4]>>16&255]^_[r[(i+2)%4]>>8&255]^k[255&r[(i+1)%4]]^this._Kd[o][i];r=n.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Kd[e][i],u[4*i]=255&(p[r[i]>>24&255]^s>>24),u[4*i+1]=255&(p[r[(i+3)%4]>>16&255]^s>>16),u[4*i+2]=255&(p[r[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(p[255&r[(i+1)%4]]^s);return u};var A=function(t){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(t)};A.prototype.encrypt=function(t){if((t=o(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=a(t.length),n=a(16),r=0;r<t.length;r+=16)s(t,n,0,r,r+16),s(n=this._aes.encrypt(n),e,r);return e},A.prototype.decrypt=function(t){if((t=o(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=a(t.length),n=a(16),r=0;r<t.length;r+=16)s(t,n,0,r,r+16),s(n=this._aes.decrypt(n),e,r);return e};var P=function(t,e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=a(16);this._lastCipherblock=o(e,!0),this._aes=new C(t)};P.prototype.encrypt=function(t){if((t=o(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=a(t.length),n=a(16),r=0;r<t.length;r+=16){s(t,n,0,r,r+16);for(var i=0;i<16;i++)n[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(n),s(this._lastCipherblock,e,r)}return e},P.prototype.decrypt=function(t){if((t=o(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=a(t.length),n=a(16),r=0;r<t.length;r+=16){s(t,n,0,r,r+16),n=this._aes.decrypt(n);for(var i=0;i<16;i++)e[r+i]=n[i]^this._lastCipherblock[i];s(t,this._lastCipherblock,0,r,r+16)}return e};var M=function(t,e,n){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 size)")}else e=a(16);n=n||1,this.segmentSize=n,this._shiftRegister=o(e,!0),this._aes=new C(t)};M.prototype.encrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e,n=o(t,!0),r=0;r<n.length;r+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)n[r+i]^=e[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},M.prototype.decrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e,n=o(t,!0),r=0;r<n.length;r+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)n[r+i]^=e[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(t,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var N=function(t,e){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=a(16);this._lastPrecipher=o(e,!0),this._lastPrecipherIndex=16,this._aes=new C(t)};N.prototype.encrypt=function(t){for(var e=o(t,!0),n=0;n<e.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return e},N.prototype.decrypt=N.prototype.encrypt;var L=function(t){if(!(this instanceof L))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"==typeof t?(this._counter=a(16),this.setValue(t)):this.setBytes(t)};L.prototype.setValue=function(t){if("number"!=typeof t||parseInt(t)!=t)throw new Error("invalid counter value (must be an integer)");for(var e=15;0<=e;--e)this._counter[e]=t%256,t>>=8},L.prototype.setBytes=function(t){if(16!=(t=o(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=t},L.prototype.increment=function(){for(var t=15;0<=t;t--){if(255!==this._counter[t]){this._counter[t]++;break}this._counter[t]=0}};var O=function(t,e){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",e instanceof L||(e=new L(e)),this._counter=e,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(t)};O.prototype.encrypt=function(t){for(var e=o(t,!0),n=0;n<e.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[n]^=this._remainingCounter[this._remainingCounterIndex++];return e},O.prototype.decrypt=O.prototype.encrypt;var R={AES:C,Counter:L,ModeOfOperation:{ecb:A,cbc:P,cfb:M,ofb:N,ctr:O},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:function(t){var e=16-(t=o(t,!0)).length%16,n=a(t.length+e);s(t,n);for(var r=t.length;r<n.length;r++)n[r]=e;return n},strip:function(t){if((t=o(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var e=t[t.length-1];if(16<e)throw new Error("PKCS#7 padding byte out of range");for(var n=t.length-e,r=0;r<e;r++)if(t[n+r]!==e)throw new Error("PKCS#7 invalid padding byte");var i=a(n);return s(t,i,0,0,n),i}}},_arrayTest:{coerceArray:o,createArray:a,copyArray:s}};void 0!==n?e.exports=R:(t.aesjs&&(R._aesjs=t.aesjs),t.aesjs=R)}(this)},{}],9:[function(t,e,n){!function(e,n){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"==typeof e?e.exports=o:n.BN=o,(o.BN=o).wordSize=26;try{a=t("buffer").Buffer}catch(e){}function s(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var a=t.charCodeAt(o)-48;r<<=4,r|=49<=a&&a<=54?a-49+10:17<=a&&a<=22?a-17+10:15&a}return r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=49<=s?s-49+10:17<=s?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return 0<t.cmp(e)?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===n)for(a=t.length-1,i=0;0<=a;a-=3)o=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,26<=(s+=24)&&(s-=26,i++);else if("le"===n)for(i=a=0;a<t.length;a+=3)o=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,26<=(s+=24)&&(s-=26,i++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n,r=0;r<this.length;r++)this.words[r]=0;for(var i=0,o=(r=t.length-6,0);e<=r;r-=6)n=s(t,r,r+6),this.words[o]|=n<<i&67108863,this.words[o+1]|=n>>>26-i&4194303,26<=(i+=24)&&(i-=26,o++);r+6!==e&&(n=s(t,e,r+6),this.words[o]|=n<<i&67108863,this.words[o+1]|=n>>>26-i&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0];for(var r=0,i=this.length=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=r)c=u(t,l,l+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!=a){var h=1;for(c=u(t,l,t.length,e),l=0;l<a;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0,i=(r=(n.length=r)-1|0,67108863&(h=(0|t.words[0])*(0|e.words[0]))),o=h/67108864|0;n.words[0]=i;for(var a=1;a<r;a++){for(var s=o>>>26,u=67108863&o,c=Math.min(a,e.length-1),l=Math.max(0,a-t.length+1);l<=c;l++){var h,f=a-l|0;s+=(h=(0|t.words[f])*(0|e.words[l])+u)/67108864|0,u=67108863&h}n.words[a]=0|u,o=0|s}return 0!==o?n.words[a]=0|o:n.length--,n.strip()}o.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){u="";for(var n=0,i=0,o=0;o<this.length;o++){var a=this.words[o],s=(16777215&(a<<n|i)).toString(16),u=0!=(i=a>>>24-n&16777215)||o!==this.length-1?c[6-s.length]+s+u:s+u;26<=(n+=2)&&(n-=26,o--)}for(0!==i&&(u=i.toString(16)+u);u.length%e!=0;)u="0"+u;return 0!==this.negative&&(u="-"+u),u}if(t===(0|t)&&2<=t&&t<=36){var f=l[t],d=h[t];for(u="",(p=this.clone()).negative=0;!p.isZero();){var p,m=p.modn(d).toString(t);u=(p=p.idivn(d)).isZero()?m+u:c[f-m.length]+m+u}for(this.isZero()&&(u="0"+u);u.length%e!=0;)u="0"+u;return 0!==this.negative&&(u="-"+u),u}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(0<o,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return 4096<=e&&(n+=13,e>>>=13),64<=e&&(n+=7,e>>>=7),8<=e&&(n+=4,e>>>=4),2<=e&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),0<n&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return 0<n&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&0<=t);var n=t/26|0,i=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();r=this.length>t.length?(n=this,t):(n=t,this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;r=0<i?(n=this,t):(n=t,this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0|a[0],l=8191&c,h=c>>>13,f=0|a[1],d=8191&f,p=f>>>13,m=0|a[2],v=8191&m,g=m>>>13,y=0|a[3],b=8191&y,w=y>>>13,_=0|a[4],k=8191&_,x=_>>>13,E=0|a[5],I=8191&E,T=E>>>13,S=0|a[6],C=8191&S,A=S>>>13,P=0|a[7],M=8191&P,N=P>>>13,L=0|a[8],O=8191&L,R=L>>>13,B=0|a[9],D=8191&B,j=B>>>13,U=0|s[0],F=8191&U,$=U>>>13,z=0|s[1],V=8191&z,q=z>>>13,H=0|s[2],G=8191&H,W=H>>>13,K=0|s[3],Z=8191&K,X=K>>>13,J=0|s[4],Y=8191&J,Q=J>>>13,tt=0|s[5],et=8191&tt,nt=tt>>>13,rt=0|s[6],it=8191&rt,ot=rt>>>13,at=0|s[7],st=8191&at,ut=at>>>13,ct=0|s[8],lt=8191&ct,ht=ct>>>13,ft=0|s[9],dt=8191&ft,pt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(0+Math.imul(l,F)|0)+((8191&(i=Math.imul(l,$)+Math.imul(h,F)|0))<<13)|0,vt=(Math.imul(h,$)+(i>>>13)|0)+(mt>>>26)|0;mt&=67108863,r=Math.imul(d,F),i=Math.imul(d,$)+Math.imul(p,F)|0,o=Math.imul(p,$);var gt=(vt+(r+Math.imul(l,V)|0)|0)+((8191&(i=(i+Math.imul(l,q)|0)+Math.imul(h,V)|0))<<13)|0;vt=((o+Math.imul(h,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(v,F),i=Math.imul(v,$)+Math.imul(g,F)|0,o=Math.imul(g,$),r=r+Math.imul(d,V)|0,i=(i+Math.imul(d,q)|0)+Math.imul(p,V)|0,o=o+Math.imul(p,q)|0;var yt=(vt+(r+Math.imul(l,G)|0)|0)+((8191&(i=(i+Math.imul(l,W)|0)+Math.imul(h,G)|0))<<13)|0;vt=((o+Math.imul(h,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(b,F),i=Math.imul(b,$)+Math.imul(w,F)|0,o=Math.imul(w,$),r=r+Math.imul(v,V)|0,i=(i+Math.imul(v,q)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,q)|0,r=r+Math.imul(d,G)|0,i=(i+Math.imul(d,W)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,W)|0;var bt=(vt+(r+Math.imul(l,Z)|0)|0)+((8191&(i=(i+Math.imul(l,X)|0)+Math.imul(h,Z)|0))<<13)|0;vt=((o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(k,F),i=Math.imul(k,$)+Math.imul(x,F)|0,o=Math.imul(x,$),r=r+Math.imul(b,V)|0,i=(i+Math.imul(b,q)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(v,G)|0,i=(i+Math.imul(v,W)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,W)|0,r=r+Math.imul(d,Z)|0,i=(i+Math.imul(d,X)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,X)|0;var wt=(vt+(r+Math.imul(l,Y)|0)|0)+((8191&(i=(i+Math.imul(l,Q)|0)+Math.imul(h,Y)|0))<<13)|0;vt=((o+Math.imul(h,Q)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(I,F),i=Math.imul(I,$)+Math.imul(T,F)|0,o=Math.imul(T,$),r=r+Math.imul(k,V)|0,i=(i+Math.imul(k,q)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(b,G)|0,i=(i+Math.imul(b,W)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(v,Z)|0,i=(i+Math.imul(v,X)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,X)|0,r=r+Math.imul(d,Y)|0,i=(i+Math.imul(d,Q)|0)+Math.imul(p,Y)|0,o=o+Math.imul(p,Q)|0;var _t=(vt+(r+Math.imul(l,et)|0)|0)+((8191&(i=(i+Math.imul(l,nt)|0)+Math.imul(h,et)|0))<<13)|0;vt=((o+Math.imul(h,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(C,F),i=Math.imul(C,$)+Math.imul(A,F)|0,o=Math.imul(A,$),r=r+Math.imul(I,V)|0,i=(i+Math.imul(I,q)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,q)|0,r=r+Math.imul(k,G)|0,i=(i+Math.imul(k,W)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(b,Z)|0,i=(i+Math.imul(b,X)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(v,Y)|0,i=(i+Math.imul(v,Q)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,Q)|0,r=r+Math.imul(d,et)|0,i=(i+Math.imul(d,nt)|0)+Math.imul(p,et)|0,o=o+Math.imul(p,nt)|0;var kt=(vt+(r+Math.imul(l,it)|0)|0)+((8191&(i=(i+Math.imul(l,ot)|0)+Math.imul(h,it)|0))<<13)|0;vt=((o+Math.imul(h,ot)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(M,F),i=Math.imul(M,$)+Math.imul(N,F)|0,o=Math.imul(N,$),r=r+Math.imul(C,V)|0,i=(i+Math.imul(C,q)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(I,G)|0,i=(i+Math.imul(I,W)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,W)|0,r=r+Math.imul(k,Z)|0,i=(i+Math.imul(k,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,r=r+Math.imul(b,Y)|0,i=(i+Math.imul(b,Q)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,Q)|0,r=r+Math.imul(v,et)|0,i=(i+Math.imul(v,nt)|0)+Math.imul(g,et)|0,o=o+Math.imul(g,nt)|0,r=r+Math.imul(d,it)|0,i=(i+Math.imul(d,ot)|0)+Math.imul(p,it)|0,o=o+Math.imul(p,ot)|0;var xt=(vt+(r+Math.imul(l,st)|0)|0)+((8191&(i=(i+Math.imul(l,ut)|0)+Math.imul(h,st)|0))<<13)|0;vt=((o+Math.imul(h,ut)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(O,F),i=Math.imul(O,$)+Math.imul(R,F)|0,o=Math.imul(R,$),r=r+Math.imul(M,V)|0,i=(i+Math.imul(M,q)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,q)|0,r=r+Math.imul(C,G)|0,i=(i+Math.imul(C,W)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(I,Z)|0,i=(i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,r=r+Math.imul(k,Y)|0,i=(i+Math.imul(k,Q)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(b,et)|0,i=(i+Math.imul(b,nt)|0)+Math.imul(w,et)|0,o=o+Math.imul(w,nt)|0,r=r+Math.imul(v,it)|0,i=(i+Math.imul(v,ot)|0)+Math.imul(g,it)|0,o=o+Math.imul(g,ot)|0,r=r+Math.imul(d,st)|0,i=(i+Math.imul(d,ut)|0)+Math.imul(p,st)|0,o=o+Math.imul(p,ut)|0;var Et=(vt+(r+Math.imul(l,lt)|0)|0)+((8191&(i=(i+Math.imul(l,ht)|0)+Math.imul(h,lt)|0))<<13)|0;vt=((o+Math.imul(h,ht)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(D,F),i=Math.imul(D,$)+Math.imul(j,F)|0,o=Math.imul(j,$),r=r+Math.imul(O,V)|0,i=(i+Math.imul(O,q)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,q)|0,r=r+Math.imul(M,G)|0,i=(i+Math.imul(M,W)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,W)|0,r=r+Math.imul(C,Z)|0,i=(i+Math.imul(C,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(I,Y)|0,i=(i+Math.imul(I,Q)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(k,et)|0,i=(i+Math.imul(k,nt)|0)+Math.imul(x,et)|0,o=o+Math.imul(x,nt)|0,r=r+Math.imul(b,it)|0,i=(i+Math.imul(b,ot)|0)+Math.imul(w,it)|0,o=o+Math.imul(w,ot)|0,r=r+Math.imul(v,st)|0,i=(i+Math.imul(v,ut)|0)+Math.imul(g,st)|0,o=o+Math.imul(g,ut)|0,r=r+Math.imul(d,lt)|0,i=(i+Math.imul(d,ht)|0)+Math.imul(p,lt)|0,o=o+Math.imul(p,ht)|0;var It=(vt+(r+Math.imul(l,dt)|0)|0)+((8191&(i=(i+Math.imul(l,pt)|0)+Math.imul(h,dt)|0))<<13)|0;vt=((o+Math.imul(h,pt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(D,V),i=Math.imul(D,q)+Math.imul(j,V)|0,o=Math.imul(j,q),r=r+Math.imul(O,G)|0,i=(i+Math.imul(O,W)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(M,Z)|0,i=(i+Math.imul(M,X)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(C,Y)|0,i=(i+Math.imul(C,Q)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Q)|0,r=r+Math.imul(I,et)|0,i=(i+Math.imul(I,nt)|0)+Math.imul(T,et)|0,o=o+Math.imul(T,nt)|0,r=r+Math.imul(k,it)|0,i=(i+Math.imul(k,ot)|0)+Math.imul(x,it)|0,o=o+Math.imul(x,ot)|0,r=r+Math.imul(b,st)|0,i=(i+Math.imul(b,ut)|0)+Math.imul(w,st)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(v,lt)|0,i=(i+Math.imul(v,ht)|0)+Math.imul(g,lt)|0,o=o+Math.imul(g,ht)|0;var Tt=(vt+(r+Math.imul(d,dt)|0)|0)+((8191&(i=(i+Math.imul(d,pt)|0)+Math.imul(p,dt)|0))<<13)|0;vt=((o+Math.imul(p,pt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(D,G),i=Math.imul(D,W)+Math.imul(j,G)|0,o=Math.imul(j,W),r=r+Math.imul(O,Z)|0,i=(i+Math.imul(O,X)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(M,Y)|0,i=(i+Math.imul(M,Q)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Q)|0,r=r+Math.imul(C,et)|0,i=(i+Math.imul(C,nt)|0)+Math.imul(A,et)|0,o=o+Math.imul(A,nt)|0,r=r+Math.imul(I,it)|0,i=(i+Math.imul(I,ot)|0)+Math.imul(T,it)|0,o=o+Math.imul(T,ot)|0,r=r+Math.imul(k,st)|0,i=(i+Math.imul(k,ut)|0)+Math.imul(x,st)|0,o=o+Math.imul(x,ut)|0,r=r+Math.imul(b,lt)|0,i=(i+Math.imul(b,ht)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,ht)|0;var St=(vt+(r+Math.imul(v,dt)|0)|0)+((8191&(i=(i+Math.imul(v,pt)|0)+Math.imul(g,dt)|0))<<13)|0;vt=((o+Math.imul(g,pt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,Z),i=Math.imul(D,X)+Math.imul(j,Z)|0,o=Math.imul(j,X),r=r+Math.imul(O,Y)|0,i=(i+Math.imul(O,Q)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,Q)|0,r=r+Math.imul(M,et)|0,i=(i+Math.imul(M,nt)|0)+Math.imul(N,et)|0,o=o+Math.imul(N,nt)|0,r=r+Math.imul(C,it)|0,i=(i+Math.imul(C,ot)|0)+Math.imul(A,it)|0,o=o+Math.imul(A,ot)|0,r=r+Math.imul(I,st)|0,i=(i+Math.imul(I,ut)|0)+Math.imul(T,st)|0,o=o+Math.imul(T,ut)|0,r=r+Math.imul(k,lt)|0,i=(i+Math.imul(k,ht)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ht)|0;var Ct=(vt+(r+Math.imul(b,dt)|0)|0)+((8191&(i=(i+Math.imul(b,pt)|0)+Math.imul(w,dt)|0))<<13)|0;vt=((o+Math.imul(w,pt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(D,Y),i=Math.imul(D,Q)+Math.imul(j,Y)|0,o=Math.imul(j,Q),r=r+Math.imul(O,et)|0,i=(i+Math.imul(O,nt)|0)+Math.imul(R,et)|0,o=o+Math.imul(R,nt)|0,r=r+Math.imul(M,it)|0,i=(i+Math.imul(M,ot)|0)+Math.imul(N,it)|0,o=o+Math.imul(N,ot)|0,r=r+Math.imul(C,st)|0,i=(i+Math.imul(C,ut)|0)+Math.imul(A,st)|0,o=o+Math.imul(A,ut)|0,r=r+Math.imul(I,lt)|0,i=(i+Math.imul(I,ht)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0;var At=(vt+(r+Math.imul(k,dt)|0)|0)+((8191&(i=(i+Math.imul(k,pt)|0)+Math.imul(x,dt)|0))<<13)|0;vt=((o+Math.imul(x,pt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(D,et),i=Math.imul(D,nt)+Math.imul(j,et)|0,o=Math.imul(j,nt),r=r+Math.imul(O,it)|0,i=(i+Math.imul(O,ot)|0)+Math.imul(R,it)|0,o=o+Math.imul(R,ot)|0,r=r+Math.imul(M,st)|0,i=(i+Math.imul(M,ut)|0)+Math.imul(N,st)|0,o=o+Math.imul(N,ut)|0,r=r+Math.imul(C,lt)|0,i=(i+Math.imul(C,ht)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0;var Pt=(vt+(r+Math.imul(I,dt)|0)|0)+((8191&(i=(i+Math.imul(I,pt)|0)+Math.imul(T,dt)|0))<<13)|0;vt=((o+Math.imul(T,pt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(D,it),i=Math.imul(D,ot)+Math.imul(j,it)|0,o=Math.imul(j,ot),r=r+Math.imul(O,st)|0,i=(i+Math.imul(O,ut)|0)+Math.imul(R,st)|0,o=o+Math.imul(R,ut)|0,r=r+Math.imul(M,lt)|0,i=(i+Math.imul(M,ht)|0)+Math.imul(N,lt)|0,o=o+Math.imul(N,ht)|0;var Mt=(vt+(r+Math.imul(C,dt)|0)|0)+((8191&(i=(i+Math.imul(C,pt)|0)+Math.imul(A,dt)|0))<<13)|0;vt=((o+Math.imul(A,pt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(D,st),i=Math.imul(D,ut)+Math.imul(j,st)|0,o=Math.imul(j,ut),r=r+Math.imul(O,lt)|0,i=(i+Math.imul(O,ht)|0)+Math.imul(R,lt)|0,o=o+Math.imul(R,ht)|0;var Nt=(vt+(r+Math.imul(M,dt)|0)|0)+((8191&(i=(i+Math.imul(M,pt)|0)+Math.imul(N,dt)|0))<<13)|0;vt=((o+Math.imul(N,pt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(D,lt),i=Math.imul(D,ht)+Math.imul(j,lt)|0,o=Math.imul(j,ht);var Lt=(vt+(r+Math.imul(O,dt)|0)|0)+((8191&(i=(i+Math.imul(O,pt)|0)+Math.imul(R,dt)|0))<<13)|0;vt=((o+Math.imul(R,pt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Ot=(vt+Math.imul(D,dt)|0)+((8191&(i=Math.imul(D,pt)+Math.imul(j,dt)|0))<<13)|0;return vt=(Math.imul(j,pt)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=xt,u[8]=Et,u[9]=It,u[10]=Tt,u[11]=St,u[12]=Ct,u[13]=At,u[14]=Pt,u[15]=Mt,u[16]=Nt,u[17]=Lt,u[18]=Ot,0!=vt&&(u[19]=vt,n.length++),n};function p(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return(10===this.length&&10===t.length?d:n<63?f:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){for(var a=i,s=(i=0,67108863&r),u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}:p)(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=r[l+d],v=h*(y=n[l+d+a])-f*(g=r[l+d+a]),g=h*g+f*y,y=v;n[l+d]=p+y,r[l+d]=m+g,n[l+d+a]=p-y,r[l+d+a]=m-g,d!==s&&(v=u*h-c*f,f=u*f+c*h,h=v)}},m.prototype.guessLen13b=function(t,e){for(var n=1&(i=1|Math.max(e,t)),r=0,i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,l,h,r,i);for(var d=0;d<r;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var o=0,a=0;a<this.length;a++){var s=this.words[a]&i,u=(0|this.words[a])-s<<e;this.words[a]=u|o,o=s>>>26-e}o&&(this.words[a]=o,this.length++)}if(0!=n){for(a=this.length-1;0<=a;a--)this.words[a+n]=this.words[a];for(a=0;a<n;a++)this.words[a]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0!==a)if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;0<=c&&(0!==l||i<=c);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&0<=t);var e,n=t%26,i=(t-n)/26;return r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i?this:(0!=n&&i++,this.length=Math.min(i,this.length),0!=n&&(e=67108863^67108863>>>n<<n,this.words[this.length-1]&=e),this.strip())},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o=t.length+n;this._expand(o);for(var a=0,s=0;s<t.length;s++){i=(0|this.words[s+n])+a;var u=(0|t.words[s])*e;a=((i-=67108863&u)>>26)-(u/67108864|0),this.words[s+n]=67108863&i}for(;s<this.length-n;s++)a=(i=(0|this.words[s+n])+a)>>26,this.words[s+n]=67108863&i;if(0===a)return this.strip();for(r(-1===a),s=a=0;s<this.length;s++)a=(i=-(0|this.words[s])+a)>>26,this.words[s]=67108863&i;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!=(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=1+u,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var h=u-1;0<=h;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!=n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;0<=i;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());for(var e=this,n=t.clone(),i=(e=0!==e.negative?e.umod(t):e.clone(),new o(1)),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(0<f)for(e.iushrn(f);0<f--;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(0<p)for(n.iushrn(p);0<p--;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());for(var e,n=this,i=t.clone(),a=(n=0!==n.negative?n.umod(t):n.clone(),new o(1)),s=new o(0),u=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var c=0,l=1;0==(n.words[0]&l)&&c<26;++c,l<<=1);if(0<c)for(n.iushrn(c);0<c--;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(0<h)for(i.iushrn(h);0<h--;)s.isOdd()&&s.iadd(u),s.iushrn(1);0<=n.cmp(i)?(n.isub(i),a.isub(s)):(i.isub(n),s.isub(a))}return(e=0===n.cmpn(1)?a:s).cmpn(0)<0&&e.iadd(t),e},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var r=n.negative=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(1+n),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n,i=t<0;return 0===this.negative||i?0===this.negative&&i?1:(this.strip(),n=1<this.length?1:(i&&(t=-t),r(t<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-n:n):-1},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var r=0|this.words[n],i=0|t.words[n];if(r!=i){r<i?e=-1:i<r&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return 0<=this.cmpn(t)},o.prototype.gte=function(t){return 0<=this.cmp(t)},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){var e;"string"==typeof t?(e=o._prime(t),this.m=e.p,this.prime=e):(r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function x(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):0<r?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(y,g),y.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,0===(t.words[r-10]=i)&&10<t.length?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,g),i(w,g),i(_,g),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return v[t]=e},k.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return 0<=n.cmp(this.m)&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return 0<=n.cmp(this.m)&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());for(var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=new o(2*(l=this.m.bitLength())*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(h,new o(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;0<=r;r--){for(var c=e.words[r],l=u-1;0<=l;l--){var h=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!=h||0!==a?(a<<=1,a|=h,(4==++s||0===r&&0===l)&&(i=this.mul(i,n[a]),a=s=0)):s=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new x(t)},i(x,k),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return 0<=i.cmp(this.m)?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return 0<=i.cmp(this.m)?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:11}],10:[function(t,e,n){(function(t){e.exports=function(e){var n=new Uint8Array(e);return(t.crypto||t.msCrypto).getRandomValues(n),n}}).call(this,void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(t,e,n){},{}],12:[function(t,e,n){var r=n;r.version=t("../package.json").version,r.utils=t("./elliptic/utils"),r.rand=t("brorand"),r.curve=t("./elliptic/curve"),r.curves=t("./elliptic/curves"),r.ec=t("./elliptic/ec"),r.eddsa=t("./elliptic/eddsa")},{"../package.json":25,"./elliptic/curve":15,"./elliptic/curves":18,"./elliptic/ec":19,"./elliptic/eddsa":22,"./elliptic/utils":24,brorand:10}],13:[function(t,e,n){var r=t("bn.js"),i=t("../utils"),o=i.getNAF,a=i.getJSF,s=i.assert;function u(t,e){this.type=t,this.p=new r(e.p,16),this.red=e.prime?r.red(e.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=e.n&&new r(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||0<n.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}(e.exports=u).prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){s(t.precomputed);var n=t._getDoubles(),r=o(e,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var a=[],u=0;u<r.length;u+=n.step){var c=0;for(e=u+n.step-1;u<=e;e--)c=(c<<1)+r[e];a.push(c)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;0<f;f--){for(u=0;u<a.length;u++)(c=a[u])===f?h=h.mixedAdd(n.points[u]):c===-f&&(h=h.mixedAdd(n.points[u].neg()));l=l.add(h)}return l.toP()},u.prototype._wnafMul=function(t,e){for(var n=t._getNAFPoints(4),r=n.wnd,i=n.points,a=o(e,r,this._bitLength),u=this.jpoint(null,null,null),c=a.length-1;0<=c;c--){for(e=0;0<=c&&0===a[c];c--)e++;if(0<=c&&e++,u=u.dblp(e),c<0)break;var l=a[c];s(0!==l),u="affine"===t.type?0<l?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):0<l?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,n,r,i){for(var s=this._wnafT1,u=this._wnafT2,c=this._wnafT3,l=0,h=0;h<r;h++){var f=(I=e[h])._getNAFPoints(t);s[h]=f.wnd,u[h]=f.points}for(h=r-1;1<=h;h-=2){var d=h-1,p=h;if(1===s[d]&&1===s[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=a(n[d],n[p]);l=Math.max(g[0].length,l),c[d]=new Array(l),c[p]=new Array(l);for(var y=0;y<l;y++){var b=0|g[0][y],w=0|g[1][y];c[d][y]=v[3*(1+b)+(1+w)],c[p][y]=0,u[d]=m}}else c[d]=o(n[d],s[d],this._bitLength),c[p]=o(n[p],s[p],this._bitLength),l=Math.max(c[d].length,l),l=Math.max(c[p].length,l)}var _=this.jpoint(null,null,null),k=this._wnafT4;for(h=l;0<=h;h--){for(var x=0;0<=h;){var E=!0;for(y=0;y<r;y++)k[y]=0|c[y][h],0!==k[y]&&(E=!1);if(!E)break;x++,h--}if(0<=h&&x++,_=_.dblp(x),h<0)break;for(y=0;y<r;y++){var I,T=k[y];0!==T&&(0<T?I=u[y][T-1>>1]:T<0&&(I=u[y][-T-1>>1].neg()),_="affine"===I.type?_.mixedAdd(I):_.add(I))}}for(h=0;h<r;h++)u[h]=null;return i?_:_.toP()},(u.BasePoint=c).prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?s(t[t.length-1]%2==0):7===t[0]&&s(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1==n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},{"../utils":24,"bn.js":9}],14:[function(t,e,n){e.exports={}},{}],15:[function(t,e,n){var r=n;r.base=t("./base"),r.short=t("./short"),r.mont=t("./mont"),r.edwards=t("./edwards")},{"./base":13,"./edwards":14,"./mont":16,"./short":17}],16:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],17:[function(t,e,n){var r=t("../utils"),i=t("bn.js"),o=t("inherits"),a=t("./base"),s=r.assert;function u(t){a.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,n,r){a.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,n,r){a.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),(e.exports=u).prototype._getEndomorphism=function(t){var e,n,r,o;if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3))return r=t.beta?new i(t.beta,16).toRed(this.red):(r=(n=this._getEndoRoots(this.p))[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red),t.lambda?e=new i(t.lambda,16):(o=this._getEndoRoots(this.n),0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))?e=o[0]:(e=o[1],s(0===this.g.mul(e).x.cmp(this.g.x.redMul(r))))),{beta:r,lambda:e,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(e)}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,n,r,o,a,s,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,h=this.n.clone(),f=new i(1),d=new i(0),p=new i(0),m=new i(1),v=0;0!==l.cmpn(0);){var g=h.div(l),y=h.sub(g.mul(l)),b=p.sub(g.mul(f)),w=m.sub(g.mul(d));if(!r&&y.cmp(c)<0)e=u.neg(),n=f,r=y.neg(),o=b;else if(r&&2==++v)break;h=l,l=u=y,p=f,f=b,m=d,d=w}a=y.neg(),s=b;var _=r.sqr().add(o.sqr());return 0<=a.sqr().add(s.sqr()).cmp(_)&&(a=e,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),c=o.mul(r.b);return{k1:t.sub(a).sub(s),k2:u.add(c).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return c},o(c,a.BasePoint),u.prototype.point=function(t,e,n){return new c(this,t,e,n)},u.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e,n,r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);return t&&(e=this.curve,n=function(t){return e.point(t.x.redMul(e.endo.beta),t.y)},(t.beta=r).precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}),r}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function i(e){return t.point(e[0],e[1],n)}var o=e[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},c.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e,n,r=this.curve.point(this.x,this.y.redNeg());return t&&this.precomputed&&(e=this.precomputed,n=function(t){return t.neg()},r.precomputed={naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}),r},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),u.prototype.jpoint=function(t,e,n){return new l(this,t,e,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),h=r.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=n.redMul(u),h=s.redSqr().redIAdd(c).redISub(l).redISub(l),f=s.redMul(l.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(a);return this.curve.jpoint(h,f,d)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(n=0;n<t;n++){var l=o.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(u)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),g=(g=d.redMul(v)).redIAdd(g).redISub(f),y=c.redMul(s);n+1<t&&(u=u.redMul(f)),o=m,s=y,c=g}return this.curve.jpoint(o,c.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v=this.zOne?(n=this.x.redSqr(),i=(r=this.y.redSqr()).redSqr(),o=(o=this.x.redAdd(r).redSqr().redISub(n).redISub(i)).redIAdd(o),s=(a=n.redAdd(n).redIAdd(n)).redSqr().redISub(o).redISub(o),u=(u=(u=i.redIAdd(i)).redIAdd(u)).redIAdd(u),t=s,e=a.redMul(o.redISub(s)).redISub(u),this.y.redAdd(this.y)):(c=this.x.redSqr(),h=(l=this.y.redSqr()).redSqr(),f=(f=this.x.redAdd(l).redSqr().redISub(c).redISub(h)).redIAdd(f),p=(d=c.redAdd(c).redIAdd(c)).redSqr(),m=(m=(m=h.redIAdd(h)).redIAdd(m)).redIAdd(m),t=p.redISub(f).redISub(f),e=d.redMul(f.redISub(t)).redISub(m),(v=this.y.redMul(this.z)).redIAdd(v));return this.curve.jpoint(t,e,v)},l.prototype._threeDbl=function(){var t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v;return this.zOne?(n=this.x.redSqr(),i=(r=this.y.redSqr()).redSqr(),o=(o=this.x.redAdd(r).redSqr().redISub(n).redISub(i)).redIAdd(o),u=s=(a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a)).redSqr().redISub(o).redISub(o),c=(c=(c=i.redIAdd(i)).redIAdd(c)).redIAdd(c),t=a.redMul(o.redISub(s)).redISub(c),e=this.y.redAdd(this.y)):(l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=(d=this.x.redSub(l).redMul(this.x.redAdd(l))).redAdd(d).redIAdd(d),m=(p=(p=f.redIAdd(f)).redIAdd(p)).redAdd(p),u=d.redSqr().redISub(m),e=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l),v=(v=(v=(v=h.redSqr()).redIAdd(v)).redIAdd(v)).redIAdd(v),t=d.redMul(p.redISub(u)).redISub(v)),this.curve.jpoint(u,t,e)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(a),l=s.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(h).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),l=e.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(s).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(h,f,d)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),0<=r.cmp(this.curve.p))return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":24,"./base":13,"bn.js":9,inherits:39}],18:[function(t,e,n){var r,i=n,o=t("hash.js"),a=t("./curve"),s=t("./utils").assert;function u(t){"short"===t.type?this.curve=new a.short(t):"edwards"===t.type?this.curve=new a.edwards(t):this.curve=new a.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=t("./precomputed/secp256k1")}catch(t){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},{"./curve":15,"./precomputed/secp256k1":23,"./utils":24,"hash.js":26}],19:[function(t,e,n){var r=t("bn.js"),i=t("hmac-drbg"),o=t("../utils"),a=t("../curves"),s=t("brorand"),u=o.assert,c=t("./key"),l=t("./signature");function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(u(a.hasOwnProperty(t),"Unknown curve "+t),t=a[t]),t instanceof a.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}(e.exports=h).prototype.keyPair=function(t){return new c(this,t)},h.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t=t||{};for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||s(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(e.generate(n));if(!(0<a.cmp(o)))return a.iaddn(1),this.keyFromPrivate(a)}},h.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return 0<n&&(t=t.ushrn(n)),!e&&0<=t.cmp(this.n)?t.sub(this.n):t},h.prototype.sign=function(t,e,n,o){"object"==typeof n&&(o=n,n=null),o=o||{},e=this.keyFromPrivate(e,n),t=this._truncateToN(new r(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),u=t.toArray("be",a),c=new i({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new r(1)),f=0;;f++){var d=o.k?o.k(f):new r(c.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||0<=d.cmp(h))){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var g=d.invm(this.n).mul(v.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return o.canonical&&0<g.cmp(this.nh)&&(g=this.n.sub(g),y^=1),new l({r:v,s:g,recoveryParam:y})}}}}}},h.prototype.verify=function(t,e,n,i){t=this._truncateToN(new r(t,16)),n=this.keyFromPublic(n,i);var o=(e=new l(e,"hex")).r,a=e.s;if(o.cmpn(1)<0||0<=o.cmp(this.n))return!1;if(a.cmpn(1)<0||0<=a.cmp(this.n))return!1;var s,u=a.invm(this.n),c=u.mul(t).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),h)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,n.getPublic(),h)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(t,e,n,i){u((3&n)===n,"The recovery param is more than two bits"),e=new l(e,i);var o=this.n,a=new r(t),s=e.r,c=e.s,h=1&n,f=n>>1;if(0<=s.cmp(this.curve.p.umod(this.curve.n))&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var d=e.r.invm(o),p=o.sub(a).mul(d).umod(o),m=c.mul(d).umod(o);return this.g.mulAdd(p,s,m)},h.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new l(e,r)).recoveryParam)return e.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(t,e,o)}catch(t){continue}if(i.eq(n))return o}throw new Error("Unable to find valid recovery factor")}},{"../curves":18,"../utils":24,"./key":20,"./signature":21,"bn.js":9,brorand:10,"hmac-drbg":38}],20:[function(t,e,n){var r=t("bn.js"),i=t("../utils").assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}(e.exports=o).fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new r(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":24,"bn.js":9}],21:[function(t,e,n){var r=t("bn.js"),i=t("../utils"),o=i.assert;function a(t,e){if(t instanceof a)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function s(){this.place=0}function u(t,e){var n=t[e.place++];if(!(128&n))return n;var r=15&n;if(0==r||4<r)return!1;for(var i=0,o=0,a=e.place;o<r;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function c(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}(e.exports=a).prototype._importDER=function(t,e){t=i.toArray(t,e);var n=new s;if(48!==t[n.place++])return!1;var o=u(t,n);if(!1===o)return!1;if(o+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var a=u(t,n);if(!1===a)return!1;var c=t.slice(n.place,a+n.place);if(n.place+=a,2!==t[n.place++])return!1;var l=u(t,n);if(!1===l)return!1;if(t.length!==l+n.place)return!1;var h=t.slice(n.place,l+n.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new r(c),this.s=new r(h),!(this.recoveryParam=null)},a.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=c(e),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,e.length),(r=r.concat(e)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,t)}},{"../utils":24,"bn.js":9}],22:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],23:[function(t,e,n){e.exports=void 0},{}],24:[function(t,e,n){var r=n,i=t("bn.js"),o=t("minimalistic-assert"),a=t("minimalistic-crypto-utils");r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<r.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=(i>>1)-1<u?(i>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r=0,i=0;0<t.cmpn(-r)||0<e.cmpn(-i);){var o,a,s,u=t.andln(3)+r&3,c=e.andln(3)+i&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(a=t.andln(7)+r&7)&&5!==a||2!==c?u:-u,n[0].push(o),s=0==(1&c)?0:3!=(a=e.andln(7)+i&7)&&5!==a||2!==u?c:-c,n[1].push(s),2*r===o+1&&(r=1-r),2*i===s+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},{"bn.js":9,"minimalistic-assert":41,"minimalistic-crypto-utils":42}],25:[function(t,e,n){e.exports={version:"6.5.3"}},{}],26:[function(t,e,n){var r=n;r.utils=t("./hash/utils"),r.common=t("./hash/common"),r.sha=t("./hash/sha"),r.ripemd=t("./hash/ripemd"),r.hmac=t("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":27,"./hash/hmac":28,"./hash/ripemd":29,"./hash/sha":30,"./hash/utils":37}],27:[function(t,e,n){var r=t("./utils"),i=t("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(n.BlockHash=o).prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},{"./utils":37,"minimalistic-assert":41}],28:[function(t,e,n){var r=t("./utils"),i=t("minimalistic-assert");function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}(e.exports=o).prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},{"./utils":37,"minimalistic-assert":41}],29:[function(t,e,n){var r=t("./utils"),i=t("./common"),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}r.inherits(l,c),(n.ripemd160=l).blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var n,r,i=w=this.h[0],c=E=this.h[1],l=x=this.h[2],v=k=this.h[3],g=_=this.h[4],y=0;y<80;y++){var b=a(o(u(w,h(y,E,x,k),t[f[y]+e],(r=y)<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838),p[y]),_),w=_,_=k,k=o(x,10),x=E,E=b;b=a(o(u(i,h(79-y,c,l,v),t[d[y]+e],(n=y)<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0),m[y]),g),i=g,g=v,v=o(l,10),l=c,c=b}b=s(this.h[1],x,v),this.h[1]=s(this.h[2],k,g),this.h[2]=s(this.h[3],_,i),this.h[3]=s(this.h[4],w,c),this.h[4]=s(this.h[0],E,l),this.h[0]=b},l.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":27,"./utils":37}],30:[function(t,e,n){n.sha1=t("./sha/1"),n.sha224=t("./sha/224"),n.sha256=t("./sha/256"),n.sha384=t("./sha/384"),n.sha512=t("./sha/512")},{"./sha/1":31,"./sha/224":32,"./sha/256":33,"./sha/384":34,"./sha/512":35}],31:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],32:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],33:[function(t,e,n){var r=t("../utils"),i=t("../common"),o=t("./common"),a=t("minimalistic-assert"),s=r.sum32,u=r.sum32_4,c=r.sum32_5,l=o.ch32,h=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,m=o.g1_256,v=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(y,v),(e.exports=y).blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=u(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],v=this.h[2],g=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var k=c(_,d(y),l(y,b,w),this.k[r],n[r]),x=s(f(i),h(i,o,v));_=w,w=b,b=y,y=s(g,k),g=v,v=o,o=i,i=s(k,x)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":27,"../utils":37,"./common":36,"minimalistic-assert":41}],34:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],35:[function(t,e,n){var r=t("../utils"),i=t("../common"),o=t("minimalistic-assert"),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,c=r.shr64_lo,l=r.sum64,h=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,v=r.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}r.inherits(b,g),(e.exports=b).blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=function(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}(n[r-4],n[r-3]),o=function(t,e){var n=s(t,e,19)^s(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}(n[r-4],n[r-3]),l=n[r-14],h=n[r-13],f=function(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}(n[r-30],n[r-29]),m=function(t,e){var n=s(t,e,1)^s(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}(n[r-30],n[r-29]),v=n[r-32],g=n[r-31];n[r]=d(i,o,l,h,f,m,v,g),n[r+1]=p(i,o,l,h,f,m,v,g)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],i=this.h[1],u=this.h[2],c=this.h[3],d=this.h[4],p=this.h[5],g=this.h[6],y=this.h[7],b=this.h[8],w=this.h[9],_=this.h[10],k=this.h[11],x=this.h[12],E=this.h[13],I=this.h[14],T=this.h[15];o(this.k.length===n.length);for(var S=0;S<n.length;S+=2){var C=I,A=T,P=function(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}(b,w),M=function(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}(b,w),N=function(t,e,n){var r=t&e^~t&n;return r<0&&(r+=4294967296),r}(b,_,x),L=function(t,e,n){var r=t&e^~t&n;return r<0&&(r+=4294967296),r}(w,k,E),O=this.k[S],R=this.k[S+1],B=n[S],D=n[S+1],j=m(C,A,P,M,N,L,O,R,B,D),U=v(C,A,P,M,N,L,O,R,B,D),F=(C=function(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}(r,i),A=function(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}(r,i),P=function(t,e,n){var r=t&e^t&n^e&n;return r<0&&(r+=4294967296),r}(r,u,d),M=function(t,e,n){var r=t&e^t&n^e&n;return r<0&&(r+=4294967296),r}(i,c,p),h(C,A,P,M)),$=f(C,A,P,M);I=x,T=E,x=_,E=k,_=b,k=w,b=h(g,y,j,U),w=f(y,y,j,U),g=d,y=p,d=u,p=c,u=r,c=i,r=h(j,U,F,$),i=f(j,U,F,$)}l(this.h,0,r,i),l(this.h,2,u,c),l(this.h,4,d,p),l(this.h,6,g,y),l(this.h,8,b,w),l(this.h,10,_,k),l(this.h,12,x,E),l(this.h,14,I,T)},b.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":27,"../utils":37,"minimalistic-assert":41}],36:[function(t,e,n){var r=t("../utils").rotr32;function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}n.ft_1=function(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?e^n^r:2===t?o(e,n,r):void 0},n.ch32=i,n.maj32=o,n.p32=function(t,e,n){return t^e^n},n.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},n.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},n.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},n.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},{"../utils":37}],37:[function(t,e,n){var r=t("minimalistic-assert"),i=t("inherits");function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function s(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}n.inherits=i,n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}else for(r=0;r<t.length;r++)n[r]=0|t[r];return n},n.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=a(t[n].toString(16));return e},n.htonl=o,n.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=o(i)),n+=s(i.toString(16))}return n},n.zero2=a,n.zero8=s,n.join32=function(t,e,n,i){var o=n-e;r(o%4==0);for(var a=new Array(o/4),s=0,u=e;s<a.length;s++,u+=4){var c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u];a[s]=c>>>0}return a},n.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},n.rotr32=function(t,e){return t>>>e|t<<32-e},n.rotl32=function(t,e){return t<<e|t>>>32-e},n.sum32=function(t,e){return t+e>>>0},n.sum32_3=function(t,e,n){return t+e+n>>>0},n.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},n.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},n.sum64=function(t,e,n,r){var i=t[e],o=r+t[e+1]>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o},n.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},n.sum64_lo=function(t,e,n,r){return e+r>>>0},n.sum64_4_hi=function(t,e,n,r,i,o,a,s){var u=0,c=e;return u+=(c=c+r>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+n+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},n.sum64_4_lo=function(t,e,n,r,i,o,a,s){return e+r+o+s>>>0},n.sum64_5_hi=function(t,e,n,r,i,o,a,s,u,c){var l=0,h=e;return l+=(h=h+r>>>0)<e?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+s>>>0)<s?1:0,t+n+i+a+u+(l+=(h=h+c>>>0)<c?1:0)>>>0},n.sum64_5_lo=function(t,e,n,r,i,o,a,s,u,c){return e+r+o+s+c>>>0},n.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},n.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},n.shr64_hi=function(t,e,n){return t>>>n},n.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},{inherits:39,"minimalistic-assert":41}],38:[function(t,e,n){var r=t("hash.js"),i=t("minimalistic-crypto-utils"),o=t("minimalistic-assert");function a(t){if(!(this instanceof a))return new a(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}(e.exports=a).prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},a.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,t);return this._update(n),this._reseed++,i.encode(a,e)}},{"hash.js":26,"minimalistic-assert":41,"minimalistic-crypto-utils":42}],39:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){var n;e&&(t.super_=e,(n=function(){}).prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t)}},{}],40:[function(t,e,n){(function(t,n){!function(){var r="object"==typeof window?window:{};!r.JS_SHA3_NO_NODE_JS&&"object"==typeof t&&t.versions&&t.versions.node&&(r=n);for(var i=!r.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,o="0123456789abcdef".split(""),a=[0,8,16,24],s=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],u=[224,256,384,512],c=["hex","buffer","arrayBuffer","array"],l=function(t,e,n){return function(r){return new _(t,e,t).update(r)[n]()}},h=function(t,e,n){return function(r,i){return new _(t,e,i).update(r)[n]()}},f=function(t,e){var n=l(t,e,"hex");n.create=function(){return new _(t,e,t)},n.update=function(t){return n.create().update(t)};for(var r=0;r<c.length;++r){var i=c[r];n[i]=l(t,e,i)}return n},d=[{name:"keccak",padding:[1,256,65536,16777216],bits:u,createMethod:f},{name:"sha3",padding:[6,1536,393216,100663296],bits:u,createMethod:f},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(t,e){var n=h(t,e,"hex");n.create=function(n){return new _(t,e,n)},n.update=function(t,e){return n.create(e).update(t)};for(var r=0;r<c.length;++r){var i=c[r];n[i]=h(t,e,i)}return n}}],p={},m=[],v=0;v<d.length;++v)for(var g=d[v],y=g.bits,b=0;b<y.length;++b){var w=g.name+"_"+y[b];m.push(w),p[w]=g.createMethod(y[b],g.padding)}function _(t,e,n){this.blocks=[],this.s=[],this.padding=e,this.outputBits=n,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}_.prototype.update=function(t){var e="string"!=typeof t;e&&t.constructor===ArrayBuffer&&(t=new Uint8Array(t));for(var n,r,i=t.length,o=this.blocks,s=this.byteCount,u=this.blockCount,c=0,l=this.s;c<i;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<u+1;++n)o[n]=0;if(e)for(n=this.start;c<i&&n<s;++c)o[n>>2]|=t[c]<<a[3&n++];else for(n=this.start;c<i&&n<s;++c)(r=t.charCodeAt(c))<128?o[n>>2]|=r<<a[3&n++]:(r<2048?o[n>>2]|=(192|r>>6)<<a[3&n++]:(r<55296||57344<=r?o[n>>2]|=(224|r>>12)<<a[3&n++]:(r=65536+((1023&r)<<10|1023&t.charCodeAt(++c)),o[n>>2]|=(240|r>>18)<<a[3&n++],o[n>>2]|=(128|r>>12&63)<<a[3&n++]),o[n>>2]|=(128|r>>6&63)<<a[3&n++]),o[n>>2]|=(128|63&r)<<a[3&n++]);if(s<=(this.lastByteIndex=n)){for(this.start=n-s,this.block=o[u],n=0;n<u;++n)l[n]^=o[n];k(l),this.reset=!0}else this.start=n}return this},_.prototype.finalize=function(){var t=this.blocks,e=this.lastByteIndex,n=this.blockCount,r=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[n],e=1;e<n+1;++e)t[e]=0;for(t[n-1]|=2147483648,e=0;e<n;++e)r[e]^=t[e];k(r)},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,s=0,u="";s<r;){for(a=0;a<e&&s<r;++a,++s)t=n[a],u+=o[t>>4&15]+o[15&t]+o[t>>12&15]+o[t>>8&15]+o[t>>20&15]+o[t>>16&15]+o[t>>28&15]+o[t>>24&15];s%e==0&&(k(n),a=0)}return i&&(t=n[a],0<i&&(u+=o[t>>4&15]+o[15&t]),1<i&&(u+=o[t>>12&15]+o[t>>8&15]),2<i&&(u+=o[t>>20&15]+o[t>>16&15])),u},_.prototype.buffer=_.prototype.arrayBuffer=function(){this.finalize();for(var t=this.blockCount,e=this.s,n=this.outputBlocks,r=this.extraBytes,i=0,o=0,a=this.outputBits>>3,s=r?new ArrayBuffer(n+1<<2):new ArrayBuffer(a),u=new Uint32Array(s);o<n;){for(i=0;i<t&&o<n;++i,++o)u[o]=e[i];o%t==0&&k(e)}return r&&(u[i]=e[i],s=s.slice(0,a)),s},_.prototype.digest=_.prototype.array=function(){this.finalize();for(var t,e,n=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u=[];s<i;){for(a=0;a<n&&s<i;++a,++s)t=s<<2,e=r[a],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;s%n==0&&k(r)}return o&&(t=s<<2,e=r[a],0<o&&(u[t]=255&e),1<o&&(u[t+1]=e>>8&255),2<o&&(u[t+2]=e>>16&255)),u};var k=function(t){for(var e,n,r,i,o,a,u,c,l,h,f,d,p,m,v,g,y,b,w,_,k,x,E,I,T,S,C,A,P,M,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,et,nt,rt,it,ot,at,st,ut,ct,lt=0;lt<48;lt+=2)r=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),n=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=n,t[10]^=e,t[11]^=n,t[20]^=e,t[21]^=n,t[30]^=e,t[31]^=n,t[40]^=e,t[41]^=n,e=r^(u<<1|c>>>31),n=i^(c<<1|u>>>31),t[2]^=e,t[3]^=n,t[12]^=e,t[13]^=n,t[22]^=e,t[23]^=n,t[32]^=e,t[33]^=n,t[42]^=e,t[43]^=n,e=o^(l<<1|h>>>31),n=a^(h<<1|l>>>31),t[4]^=e,t[5]^=n,t[14]^=e,t[15]^=n,t[24]^=e,t[25]^=n,t[34]^=e,t[35]^=n,t[44]^=e,t[45]^=n,e=u^(f<<1|d>>>31),n=c^(d<<1|f>>>31),t[6]^=e,t[7]^=n,t[16]^=e,t[17]^=n,t[26]^=e,t[27]^=n,t[36]^=e,t[37]^=n,t[46]^=e,t[47]^=n,e=l^(r<<1|i>>>31),n=h^(i<<1|r>>>31),t[8]^=e,t[9]^=n,t[18]^=e,t[19]^=n,t[28]^=e,t[29]^=n,t[38]^=e,t[39]^=n,t[48]^=e,t[49]^=n,p=t[0],m=t[1],G=t[11]<<4|t[10]>>>28,W=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,A=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,st=t[30]<<9|t[31]>>>23,z=t[40]<<18|t[41]>>>14,V=t[41]<<18|t[40]>>>14,O=t[2]<<1|t[3]>>>31,R=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,g=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,P=t[33]<<13|t[32]>>>19,M=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,tt=t[5]<<30|t[4]>>>2,et=t[4]<<30|t[5]>>>2,B=t[14]<<6|t[15]>>>26,D=t[15]<<6|t[14]>>>26,y=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,J=t[35]<<15|t[34]>>>17,N=t[45]<<29|t[44]>>>3,L=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,I=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,rt=t[16]<<23|t[17]>>>9,j=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,Y=t[47]<<24|t[46]>>>8,Q=t[46]<<24|t[47]>>>8,q=t[8]<<27|t[9]>>>5,H=t[9]<<27|t[8]>>>5,T=t[18]<<20|t[19]>>>12,S=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,F=t[38]<<8|t[39]>>>24,$=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,x=t[49]<<14|t[48]>>>18,t[0]=p^~v&y,t[1]=m^~g&b,t[10]=E^~T&C,t[11]=I^~S&A,t[20]=O^~B&j,t[21]=R^~D&U,t[30]=q^~G&K,t[31]=H^~W&Z,t[40]=tt^~nt&it,t[41]=et^~rt&ot,t[2]=v^~y&w,t[3]=g^~b&_,t[12]=T^~C&P,t[13]=S^~A&M,t[22]=B^~j&F,t[23]=D^~U&$,t[32]=G^~K&X,t[33]=W^~Z&J,t[42]=nt^~it&at,t[43]=rt^~ot&st,t[4]=y^~w&k,t[5]=b^~_&x,t[14]=C^~P&N,t[15]=A^~M&L,t[24]=j^~F&z,t[25]=U^~$&V,t[34]=K^~X&Y,t[35]=Z^~J&Q,t[44]=it^~at&ut,t[45]=ot^~st&ct,t[6]=w^~k&p,t[7]=_^~x&m,t[16]=P^~N&E,t[17]=M^~L&I,t[26]=F^~z&O,t[27]=$^~V&R,t[36]=X^~Y&q,t[37]=J^~Q&H,t[46]=at^~ut&tt,t[47]=st^~ct&et,t[8]=k^~p&v,t[9]=x^~m&g,t[18]=N^~E&T,t[19]=L^~I&S,t[28]=z^~O&B,t[29]=V^~R&D,t[38]=Y^~q&G,t[39]=Q^~H&W,t[48]=ut^~tt&nt,t[49]=ct^~et&rt,t[0]^=s[lt],t[1]^=s[lt+1]};if(i)e.exports=p;else for(v=0;v<m.length;++v)r[m[v]]=p[m[v]]}()}).call(this,t("_process"),void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:43}],41:[function(t,e,n){(e.exports=function(t,e){if(!t)throw new Error(e||"Assertion failed")}).equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}],42:[function(t,e,n){var r=n;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16));else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(t,e){return"hex"===e?o(t):t}},{}],43:[function(t,e,n){e.exports={browser:!0}},{}],44:[function(t,e,n){(function(t){function r(t){var e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=1779033703,r=3144134277,i=1013904242,o=2773480762,a=1359893119,s=2600822924,u=528734635,c=1541459225,l=new Array(64);function h(t){for(var h=0,f=t.length;64<=f;){for(var d,p,m,v,g=n,y=r,b=i,w=o,_=a,k=s,x=u,E=c,I=0;I<16;I++)p=h+4*I,l[I]=(255&t[p])<<24|(255&t[p+1])<<16|(255&t[p+2])<<8|255&t[p+3];for(I=16;I<64;I++)m=((d=l[I-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,v=((d=l[I-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,l[I]=(m+l[I-7]|0)+(v+l[I-16]|0)|0;for(I=0;I<64;I++)m=(((_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&k^~_&x)|0)+(E+(e[I]+l[I]|0)|0)|0,v=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&y^g&b^y&b)|0,E=x,x=k,k=_,_=w+m|0,w=b,b=y,y=g,g=m+v|0;n=n+g|0,r=r+y|0,i=i+b|0,o=o+w|0,a=a+_|0,s=s+k|0,u=u+x|0,c=c+E|0,h+=64,f-=64}}h(t);var f,d=t.length%64,p=t.length/536870912|0,m=t.length<<3,v=d<56?56:120,g=t.slice(t.length-d,t.length);for(g.push(128),f=1+d;f<v;f++)g.push(0);return g.push(p>>>24&255),g.push(p>>>16&255),g.push(p>>>8&255),g.push(p>>>0&255),g.push(m>>>24&255),g.push(m>>>16&255),g.push(m>>>8&255),g.push(m>>>0&255),h(g),[n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(t,e,n){t=t.length<=64?t:r(t);for(var i=64+e.length+4,o=new Array(i),a=new Array(64),s=[],u=0;u<64;u++)o[u]=54;for(u=0;u<t.length;u++)o[u]^=t[u];for(u=0;u<e.length;u++)o[64+u]=e[u];for(u=i-4;u<i;u++)o[u]=0;for(u=0;u<64;u++)a[u]=92;for(u=0;u<t.length;u++)a[u]^=t[u];function c(){for(var t=i-1;i-4<=t;t--){if(o[t]++,o[t]<=255)return;o[t]=0}}for(;32<=n;)c(),s=s.concat(r(a.concat(r(o)))),n-=32;return 0<n&&(c(),s=s.concat(r(a.concat(r(o))).slice(0,n))),s}function o(t,e,n,r,i){var o;for(u(t,16*(2*n-1),i,0,16),o=0;o<2*n;o++)s(t,16*o,i,16),function(t,e){u(t,0,e,0,16);for(var n=8;0<n;n-=2)e[4]^=a(e[0]+e[12],7),e[8]^=a(e[4]+e[0],9),e[12]^=a(e[8]+e[4],13),e[0]^=a(e[12]+e[8],18),e[9]^=a(e[5]+e[1],7),e[13]^=a(e[9]+e[5],9),e[1]^=a(e[13]+e[9],13),e[5]^=a(e[1]+e[13],18),e[14]^=a(e[10]+e[6],7),e[2]^=a(e[14]+e[10],9),e[6]^=a(e[2]+e[14],13),e[10]^=a(e[6]+e[2],18),e[3]^=a(e[15]+e[11],7),e[7]^=a(e[3]+e[15],9),e[11]^=a(e[7]+e[3],13),e[15]^=a(e[11]+e[7],18),e[1]^=a(e[0]+e[3],7),e[2]^=a(e[1]+e[0],9),e[3]^=a(e[2]+e[1],13),e[0]^=a(e[3]+e[2],18),e[6]^=a(e[5]+e[4],7),e[7]^=a(e[6]+e[5],9),e[4]^=a(e[7]+e[6],13),e[5]^=a(e[4]+e[7],18),e[11]^=a(e[10]+e[9],7),e[8]^=a(e[11]+e[10],9),e[9]^=a(e[8]+e[11],13),e[10]^=a(e[9]+e[8],18),e[12]^=a(e[15]+e[14],7),e[13]^=a(e[12]+e[15],9),e[14]^=a(e[13]+e[12],13),e[15]^=a(e[14]+e[13],18);for(n=0;n<16;++n)t[n]+=e[n]}(i,r),u(i,0,t,e+16*o,16);for(o=0;o<n;o++)u(t,e+2*o*16,t,16*o,16);for(o=0;o<n;o++)u(t,e+16*(2*o+1),t,16*(o+n),16)}function a(t,e){return t<<e|t>>>32-e}function s(t,e,n,r){for(var i=0;i<r;i++)n[i]^=t[e+i]}function u(t,e,n,r,i){for(;i--;)n[r++]=t[e++]}function c(t){if(t&&"number"==typeof t.length){for(var e=0;e<t.length;e++){if("number"!=typeof t[e])return;var n=parseInt(t[e]);if(n!=t[e]||n<0||256<=n)return}return 1}}function l(t,e){var n=parseInt(t);if(t!=n)throw new Error("invalid "+e);return n}function h(e,n,r,a,h,f,p){if(!p)throw new Error("missing callback");if(r=l(r,"N"),a=l(a,"r"),h=l(h,"p"),f=l(f,"dkLen"),0===r||0!=(r&r-1))throw new Error("N must be power of 2");if(d/128/a<r)throw new Error("N too large");if(d/128/h<a)throw new Error("r too large");if(!c(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!c(n))throw new Error("salt must be an array or buffer");n=Array.prototype.slice.call(n);for(var m=i(e,n,128*h*a),v=new Uint32Array(32*h*a),g=0;g<v.length;g++){var y=4*g;v[g]=(255&m[3+y])<<24|(255&m[2+y])<<16|(255&m[1+y])<<8|(255&m[0+y])<<0}var b,w,_=new Uint32Array(64*a),k=new Uint32Array(32*a*r),x=32*a,E=new Uint32Array(16),I=new Uint32Array(16),T=h*r*2,S=0,C=null,A=!1,P=0,M=0,N=parseInt(1e3/a),L=void 0!==t?t:setTimeout,O=function(){if(A)return p(new Error("cancelled"),S/T);switch(P){case 0:u(v,w=32*M*a,_,0,x),P=1,b=0;case 1:N<(n=r-b)&&(n=N);for(var t=0;t<n;t++)u(_,0,k,(b+t)*x,x),o(_,x,a,E,I);if(b+=n,S+=n,(c=parseInt(1e3*S/T))!==C){if(A=p(null,S/T))break;C=c}if(b<r)break;b=0,P=2;case 2:var n,c;for(N<(n=r-b)&&(n=N),t=0;t<n;t++){var l=_[16*(2*a-1)]&r-1;s(k,l*x,_,x),o(_,x,a,E,I)}if(b+=n,S+=n,(c=parseInt(1e3*S/T))!==C){if(A=p(null,S/T))break;C=c}if(b<r)break;if(u(_,0,v,w,x),++M<h){P=0;break}for(m=[],t=0;t<v.length;t++)m.push(v[t]>>0&255),m.push(v[t]>>8&255),m.push(v[t]>>16&255),m.push(v[t]>>24&255);var d=i(e,m,f);return p(null,1,d)}L(O)};O()}var f,d;f=this,d=2147483647,void 0!==n?e.exports=h:f&&(f.scrypt&&(f._scrypt=f.scrypt),f.scrypt=h)}).call(this,t("timers").setImmediate)},{timers:46}],45:[function(t,e,n){(function(t,e,n){!function(e,n){var r,i,o,a,s,u,c,l,h;function f(t){return i[r]=d.apply(n,t),r++}function d(t){var e=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(n,e):new Function(""+t)()}}function p(t){if(o)setTimeout(d(p,t),0);else{var e=i[t];if(e){o=!0;try{e()}finally{m(t),o=!1}}}}function m(t){delete i[t]}function v(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(l)&&p(+t.data.slice(l.length))}e.setImmediate||(r=1,o=!(i={}),a=e.document,h=(h=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&h.setTimeout?h:e,s="[object process]"==={}.toString.call(e.process)?function(){var e=f(arguments);return t.nextTick(d(p,e)),e}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(l="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",v,!1):e.attachEvent("onmessage",v),function(){var t=f(arguments);return e.postMessage(l+t,"*"),t}):e.MessageChannel?((c=new MessageChannel).port1.onmessage=function(t){p(t.data)},function(){var t=f(arguments);return c.port2.postMessage(t),t}):a&&"onreadystatechange"in a.createElement("script")?(u=a.documentElement,function(){var t=f(arguments),e=a.createElement("script");return e.onreadystatechange=function(){p(t),e.onreadystatechange=null,u.removeChild(e),e=null},u.appendChild(e),t}):function(){var t=f(arguments);return setTimeout(d(p,t),0),t},h.setImmediate=s,h.clearImmediate=m)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,t("_process"),void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").clearImmediate)},{_process:43,timers:46}],46:[function(t,e,n){(function(t){e.exports={setImmediate:t.setImmediate}}).call(this,void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(t,e,n){(function(t){var n,r,i;t.crypto&&crypto.getRandomValues&&(n=new Uint8Array(16),r=function(){return crypto.getRandomValues(n),n}),r||(i=new Array(16),r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}),e.exports=r}).call(this,void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,e,n){for(var r=t("./rng"),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(t,e){var n=e||0;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}var u=r(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],l=16383&(u[6]<<8|u[7]),h=0,f=0;function d(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;a++)e[i+a]=o[a];return e||s(o)}var p=d;p.v1=function(t,e,n){var r=e&&n||0,i=e||[],o=void 0!==(t=t||{}).clockseq?t.clockseq:l,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:f+1,d=a-h+(u-f)/1e4;if(d<0&&void 0===t.clockseq&&(o=o+1&16383),(d<0||h<a)&&void 0===t.nsecs&&(u=0),1e4<=u)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=a,l=o;var p=(1e4*(268435455&(a+=122192928e5))+(f=u))%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var v=t.node||c,g=0;g<6;g++)i[r+g]=v[g];return e||s(i)},p.v4=d,p.parse=function(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,(function(t){i<16&&(e[r+i++]=o[t])}));i<16;)e[r+i++]=0;return e},p.unparse=s,e.exports=p},{"./rng":47}],49:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});try{e.exports.XMLHttpRequest=XMLHttpRequest}catch(t){console.log("Warning: XMLHttpRequest is not defined"),e.exports.XMLHttpRequest=null}},{}],50:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/properties"),i=(o.isProvider=function(t){return r.isType(t,"Provider")},o);function o(){r.setType(this,"Provider")}n.Provider=i},{"../utils/properties":74}],51:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../utils/address"),s=t("../utils/bignumber"),u=t("../utils/bytes"),c=t("../constants"),l=t("../utils/hash"),h=t("../utils/networks"),f=t("../utils/properties"),d=t("../utils/rlp"),p=t("../utils/transaction"),m=t("../utils/utf8"),v=t("../utils/web"),g=o(t("../errors")),y=t("./abstract-provider");function b(t,e){var n={};for(var r in t)try{var i=t[r](e[r]);void 0!==i&&(n[r]=i)}catch(t){throw t.checkKey=r,t.checkValue=e[r],t}return n}function w(t,e){return function(n){return null==n?e:t(n)}}function _(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");var n=[];return e.forEach((function(e){n.push(t(e))})),n}}function k(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),32===u.hexDataLength(t))?t.toLowerCase():(g.throwError("invalid hash",g.INVALID_ARGUMENT,{arg:"hash",value:t}),null)}function x(t){return s.bigNumberify(t).toNumber()}function E(t){if(!u.isHexString(t))throw new Error("invalid uint256");for(;t.length<66;)t="0x0"+t.substring(2);return t}function I(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t)return u.hexStripZeros(u.hexlify(t));if(u.isHexString(t))return u.hexStripZeros(t);throw new Error("invalid blockTag")}var T={hash:k,blockHash:w(k,null),blockNumber:w(x,null),transactionIndex:w(x,null),confirmations:w(x,null),from:a.getAddress,gasPrice:s.bigNumberify,gasLimit:s.bigNumberify,to:w(a.getAddress,null),value:s.bigNumberify,nonce:x,data:u.hexlify,r:w(E),s:w(E),v:w(x),creates:w(a.getAddress,null),raw:w(u.hexlify)};function S(t){var e;null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&s.bigNumberify(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=a.getContractAddress(t)),t.raw||t.v&&t.r&&t.s&&(e=[u.stripZeros(u.hexlify(t.nonce)),u.stripZeros(u.hexlify(t.gasPrice)),u.stripZeros(u.hexlify(t.gasLimit)),t.to||"0x",u.stripZeros(u.hexlify(t.value||"0x")),u.hexlify(t.data||"0x"),u.stripZeros(u.hexlify(t.v||"0x")),u.stripZeros(u.hexlify(t.r)),u.stripZeros(u.hexlify(t.s))],t.raw=d.encode(e));var n=b(T,t),r=t.networkId;return null!=t.chainId&&null==r&&null==n.v&&(r=t.chainId),u.isHexString(r)&&(r=s.bigNumberify(r).toNumber()),"number"!=typeof r&&null!=n.v&&((r=(n.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),n.networkId=r,null==n.chainId&&null!=r&&(n.chainId=r),n.blockHash&&"x"===n.blockHash.replace(/0/g,"")&&(n.blockHash=null),n}var C={hash:k,parentHash:k,number:x,timestamp:x,nonce:w(u.hexlify),difficulty:function(t){var e=s.bigNumberify(t);try{return e.toNumber()}catch(t){}return null},gasLimit:s.bigNumberify,gasUsed:s.bigNumberify,miner:a.getAddress,extraData:u.hexlify,transactions:w(_(k))},A=f.shallowCopy(C);function P(t,e){return null!=t.author&&null==t.miner&&(t.miner=t.author),b(e?A:C,t)}A.transactions=w(_(S));var M={from:w(a.getAddress),nonce:w(x),gasLimit:w(s.bigNumberify),gasPrice:w(s.bigNumberify),to:w(a.getAddress),value:w(s.bigNumberify),data:w(u.hexlify)};function N(t){return b(M,t)}var L={transactionLogIndex:w(x),transactionIndex:x,blockNumber:x,transactionHash:k,address:a.getAddress,topics:_(k),data:u.hexlify,logIndex:x,blockHash:k},O={to:w(a.getAddress,null),from:w(a.getAddress,null),contractAddress:w(a.getAddress,null),transactionIndex:x,root:w(k),gasUsed:s.bigNumberify,logsBloom:w(u.hexlify),blockHash:k,transactionHash:k,logs:_((function(t){return b(L,t)})),blockNumber:x,confirmations:w(x,null),cumulativeGasUsed:s.bigNumberify,status:w(x)};function R(t){return Array.isArray(t)?t.forEach((function(t){R(t)})):null!=t&&k(t),t}var B,D={fromBlock:w(I,void 0),toBlock:w(I,void 0),address:w(a.getAddress,void 0),topics:w(R,void 0)},j={blockHash:w(k,void 0),address:w(a.getAddress,void 0),topics:w(R,void 0)},U={blockNumber:w(x),blockHash:w(k),transactionIndex:x,removed:w((function(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===t)return!0;if("false"===t)return!1}throw new Error("invaid boolean - "+t)})),address:a.getAddress,data:(B=u.hexlify,function(t){return t?B(t):"0x"}),topics:_(k),transactionHash:k,logIndex:x};function F(t){return b(U,t)}function $(t){return t.map((function(t){return"string"==typeof t?t:Array.isArray(t)?(t.forEach((function(t){null!==t&&32!==u.hexDataLength(t)&&g.throwError("invalid topic",g.INVALID_ARGUMENT,{argument:"topic",value:t})})),t.join(",")):null===t?"":g.throwError("invalid topic value",g.INVALID_ARGUMENT,{argument:"topic",value:t})})).join("&")}function z(t){if("string"==typeof t){if(20===u.hexDataLength(t))return"address:"+a.getAddress(t);if(t=t.toLowerCase(),32===u.hexDataLength(t))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter::"+$(t);if(t&&"object"==typeof t)return"filter:"+(t.address||"")+":"+$(t.topics||[])}throw new Error("invalid event - "+t)}function V(){return(new Date).getTime()}var q,H=(i(G,q=y.Provider),G.prototype._doPoll=function(){var t=this;this.getBlockNumber().then((function(e){if(t.polling&&(t._setFastBlockNumber(e),e!==t._lastBlockNumber)){-2===t._emitted.block&&(t._emitted.block=e-1);for(var n=t._emitted.block+1;n<=e;n++)t.emit("block",n);t._emitted.block!==e&&(t._emitted.block=e,Object.keys(t._emitted).forEach((function(n){var r;"block"===n||"pending"!==(r=t._emitted[n])&&12<e-r&&delete t._emitted[n]}))),-2===t._lastBlockNumber&&(t._lastBlockNumber=e-1);var r={},i={};return t._events.forEach((function(t){i[t.tag]=!0})),Object.keys(i).forEach((function(n){var i=n.split(":");switch(i[0]){case"tx":var o=i[1];t.getTransactionReceipt(o).then((function(e){return e&&null!=e.blockNumber&&(t._emitted["t:"+o]=e.blockNumber,t.emit(o,e)),null})).catch((function(e){t.emit("error",e)}));break;case"address":var a=i[1];t._balances[a]&&(r[a]=t._balances[a]),t.getBalance(a,"latest").then((function(e){var n=t._balances[a];if(!n||!e.eq(n))return t._balances[a]=e,t.emit(a,e),null})).catch((function(e){t.emit("error",e)}));break;case"filter":var s=i[2].split(/&/g).map((function(t){var e=t.split(",");return 1===e.length?""===e[0]?null:t:e.map((function(t){return""===t?null:t}))})),u={address:i[1],fromBlock:t._lastBlockNumber+1,toBlock:e,topics:s};u.address||delete u.address,t.getLogs(u).then((function(e){if(0!==e.length)return e.forEach((function(e){t._emitted["b:"+e.blockHash]=e.blockNumber,t._emitted["t:"+e.transactionHash]=e.blockNumber,t.emit(u,e)})),null})).catch((function(e){t.emit("error",e)}))}})),t._lastBlockNumber=e,t._balances=r,null}})).catch((function(t){})),this.doPoll()},G.prototype.resetEventsBlock=function(t){this._lastBlockNumber=t-1,this.polling&&this._doPoll()},Object.defineProperty(G.prototype,"network",{get:function(){return this._network},enumerable:!0,configurable:!0}),G.prototype.getNetwork=function(){return this.ready},Object.defineProperty(G.prototype,"blockNumber",{get:function(){return this._fastBlockNumber},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"polling",{get:function(){return null!=this._poller},set:function(t){var e=this;setTimeout((function(){t&&!e._poller?(e._poller=setInterval(e._doPoll.bind(e),e.pollingInterval),e._doPoll()):!t&&e._poller&&(clearInterval(e._poller),e._poller=null)}),0)},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"pollingInterval",{get:function(){return this._pollingInterval},set:function(t){var e=this;if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){e._doPoll()}),this._pollingInterval))},enumerable:!0,configurable:!0}),G.prototype._getFastBlockNumber=function(){var t=this,e=V();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((function(e){return(null==t._fastBlockNumber||e>t._fastBlockNumber)&&(t._fastBlockNumber=e),t._fastBlockNumber}))),this._fastBlockNumberPromise},G.prototype._setFastBlockNumber=function(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=V(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))},G.prototype.waitForTransaction=function(t,e){var n=this;return null==e&&(e=1),this.getTransactionReceipt(t).then((function(r){return 0===e||r&&r.confirmations>=e?r:new Promise((function(r){var i=function(o){o.confirmations<e||(n.removeListener(t,i),r(o))};n.on(t,i)}))}))},G.prototype.getBlockNumber=function(){var t=this;return this.ready.then((function(){return t.perform("getBlockNumber",{}).then((function(e){var n=parseInt(e);if(n!=e)throw new Error("invalid response - getBlockNumber");return t._setFastBlockNumber(n),n}))}))},G.prototype.getGasPrice=function(){var t=this;return this.ready.then((function(){return t.perform("getGasPrice",{}).then((function(t){return s.bigNumberify(t)}))}))},G.prototype.getBalance=function(t,e){var n=this;return this.ready.then((function(){return f.resolveProperties({addressOrName:t,blockTag:e}).then((function(t){var e=t.addressOrName,r=t.blockTag;return n._getAddress(e).then((function(t){var e={address:t,blockTag:I(r)};return n.perform("getBalance",e).then((function(t){return s.bigNumberify(t)}))}))}))}))},G.prototype.getTransactionCount=function(t,e){var n=this;return this.ready.then((function(){return f.resolveProperties({addressOrName:t,blockTag:e}).then((function(t){var e=t.addressOrName,r=t.blockTag;return n._getAddress(e).then((function(t){var e={address:t,blockTag:I(r)};return n.perform("getTransactionCount",e).then((function(t){return s.bigNumberify(t).toNumber()}))}))}))}))},G.prototype.getCode=function(t,e){var n=this;return this.ready.then((function(){return f.resolveProperties({addressOrName:t,blockTag:e}).then((function(t){var e=t.addressOrName,r=t.blockTag;return n._getAddress(e).then((function(t){var e={address:t,blockTag:I(r)};return n.perform("getCode",e).then((function(t){return u.hexlify(t)}))}))}))}))},G.prototype.getStorageAt=function(t,e,n){var r=this;return this.ready.then((function(){return f.resolveProperties({addressOrName:t,position:e,blockTag:n}).then((function(t){var e=t.addressOrName,n=t.position,i=t.blockTag;return r._getAddress(e).then((function(t){var e={address:t,blockTag:I(i),position:u.hexStripZeros(u.hexlify(n))};return r.perform("getStorageAt",e).then((function(t){return u.hexlify(t)}))}))}))}))},G.prototype.sendTransaction=function(t){var e=this;return this.ready.then((function(){return f.resolveProperties({signedTransaction:t}).then((function(t){var n=t.signedTransaction,r={signedTransaction:u.hexlify(n)};return e.perform("sendTransaction",r).then((function(t){return e._wrapTransaction(p.parse(n),t)}),(function(t){throw t.transaction=p.parse(n),t.transaction.hash&&(t.transactionHash=t.transaction.hash),t}))}))}))},G.prototype._wrapTransaction=function(t,e){var n=this;if(null!=e&&32!==u.hexDataLength(e))throw new Error("invalid response - sendTransaction");var r=t;return null!=e&&t.hash!==e&&g.throwError("Transaction hash mismatch from Provider.sendTransaction.",g.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),r.wait=function(e){return 0!==e&&(n._emitted["t:"+t.hash]="pending"),n.waitForTransaction(t.hash,e).then((function(r){return null==r&&0===e?null:(n._emitted["t:"+t.hash]=r.blockNumber,0===r.status&&g.throwError("transaction failed",g.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t}),r)}))},r},G.prototype.call=function(t,e){var n=this,r=f.shallowCopy(t);return this.ready.then((function(){return f.resolveProperties({blockTag:e,tx:r}).then((function(t){var e=t.blockTag,r=t.tx;return n._resolveNames(r,["to","from"]).then((function(t){var r={blockTag:I(e),transaction:N(t)};return n.perform("call",r).then((function(t){return u.hexlify(t)}))}))}))}))},G.prototype.estimateGas=function(t){var e=this,n={to:t.to,from:t.from,data:t.data,gasPrice:t.gasPrice,value:t.value};return this.ready.then((function(){return f.resolveProperties(n).then((function(t){return e._resolveNames(t,["to","from"]).then((function(t){var n={transaction:N(t)};return e.perform("estimateGas",n).then((function(t){return s.bigNumberify(t)}))}))}))}))},G.prototype.getBlock=function(t,e){var n=this;return this.ready.then((function(){return f.resolveProperties({blockHashOrBlockTag:t}).then((function(t){var r=t.blockHashOrBlockTag;try{var i=u.hexlify(r);if(32===u.hexDataLength(i))return v.poll((function(){return n.perform("getBlock",{blockHash:i,includeTransactions:!!e}).then((function(t){return null==t?null==n._emitted["b:"+i]?null:void 0:P(t,e)}))}),{onceBlock:n})}catch(t){}try{var o=-128,a=I(r);return u.isHexString(a)&&(o=parseInt(a.substring(2),16)),v.poll((function(){return n.perform("getBlock",{blockTag:a,includeTransactions:!!e}).then((function(t){return null!=t?P(t,e):o<=n._emitted.block?void 0:null}))}),{onceBlock:n})}catch(t){}throw new Error("invalid block hash or block tag")}))}))},G.prototype.getTransaction=function(t){var e=this;return this.ready.then((function(){return f.resolveProperties({transactionHash:t}).then((function(t){var n=t.transactionHash,r={transactionHash:k(n,!0)};return v.poll((function(){return e.perform("getTransaction",r).then((function(t){if(null==t)return null==e._emitted["t:"+n]?null:void 0;var r=G.checkTransactionResponse(t);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations)return e._getFastBlockNumber().then((function(t){var n=t-r.blockNumber+1;return n<=0&&(n=1),r.confirmations=n,e._wrapTransaction(r)}));return e._wrapTransaction(r)}))}),{onceBlock:e})}))}))},G.prototype.getTransactionReceipt=function(t){var e=this;return this.ready.then((function(){return f.resolveProperties({transactionHash:t}).then((function(t){var n=t.transactionHash,r={transactionHash:k(n,!0)};return v.poll((function(){return e.perform("getTransactionReceipt",r).then((function(t){if(null==t)return null==e._emitted["t:"+n]?null:void 0;if(null!=t.blockHash){var r,i,o=((i=b(O,r=t)).logs.forEach((function(t,e){null==t.transactionLogIndex&&(t.transactionLogIndex=e)})),null!=r.status&&(i.byzantium=!0),i);if(null==o.blockNumber)o.confirmations=0;else if(null==o.confirmations)return e._getFastBlockNumber().then((function(t){var e=t-o.blockNumber+1;return e<=0&&(e=1),o.confirmations=e,o}));return o}}))}),{onceBlock:e})}))}))},G.prototype.getLogs=function(t){var e=this;return this.ready.then((function(){return f.resolveProperties(t).then((function(t){return e._resolveNames(t,["address"]).then((function(t){var n,r={filter:(n=t)&&n.blockHash?b(j,n):b(D,n)};return e.perform("getLogs",r).then((function(t){return _(F)(t)}))}))}))}))},G.prototype.getEtherPrice=function(){var t=this;return this.ready.then((function(){return t.perform("getEtherPrice",{}).then((function(t){return t}))}))},G.prototype._getAddress=function(t){return this.resolveName(t).then((function(e){return null==e&&g.throwError("ENS name not configured",g.UNSUPPORTED_OPERATION,{operation:"resolveName("+JSON.stringify(t)+")"}),e}))},G.prototype._resolveNames=function(t,e){var n=[],r=f.shallowCopy(t);return e.forEach((function(t){null!=r[t]&&n.push(this._getAddress(r[t]).then((function(e){r[t]=e})))}),this),Promise.all(n).then((function(){return r}))},G.prototype._getResolver=function(t){var e=this;return this.getNetwork().then((function(n){n.ensAddress||g.throwError("network does not support ENS",g.UNSUPPORTED_OPERATION,{operation:"ENS",network:n.name});var r="0x0178b8bf"+l.namehash(t).substring(2),i={to:n.ensAddress,data:r};return e.call(i).then((function(t){if(32!==u.hexDataLength(t))return null;var e=a.getAddress(u.hexDataSlice(t,12));return e===c.AddressZero?null:e}))}))},G.prototype.resolveName=function(t){var e=this;if(t instanceof Promise)return t.then((function(t){return e.resolveName(t)}));try{return Promise.resolve(a.getAddress(t))}catch(e){if(u.isHexString(t))throw e}var n=this,r=l.namehash(t);return this._getResolver(t).then((function(t){if(null==t)return null;var e={to:t,data:"0x3b3b57de"+r.substring(2)};return n.call(e)})).then((function(t){if(32!==u.hexDataLength(t))return null;var e=a.getAddress(u.hexDataSlice(t,12));return e===c.AddressZero?null:e}))},G.prototype.lookupAddress=function(t){var e=this;if(t instanceof Promise)return t.then((function(t){return e.lookupAddress(t)}));var n=(t=a.getAddress(t)).substring(2)+".addr.reverse",r=l.namehash(n),i=this;return this._getResolver(n).then((function(t){if(!t)return null;var e={to:t,data:"0x691f3431"+r.substring(2)};return i.call(e)})).then((function(e){if(null==e)return null;if((e=e.substring(2)).length<64)return null;if((e=e.substring(64)).length<64)return null;var n=s.bigNumberify("0x"+e.substring(0,64)).toNumber();if(2*n>(e=e.substring(64)).length)return null;var r=m.toUtf8String("0x"+e.substring(0,2*n));return i.resolveName(r).then((function(e){return e!=t?null:r}))}))},G.checkTransactionResponse=S,G.prototype.doPoll=function(){},G.prototype.perform=function(t,e){return g.throwError(t+" not implemented",g.NOT_IMPLEMENTED,{operation:t}),null},G.prototype._startPending=function(){g.warn("WARNING: this provider does not support pending events")},G.prototype._stopPending=function(){},G.prototype._addEventListener=function(t,e,n){this._events.push({tag:z(t),listener:e,once:n}),"pending"===t&&this._startPending(),this.polling=!0},G.prototype.on=function(t,e){return this._addEventListener(t,e,!1),this},G.prototype.once=function(t,e){return this._addEventListener(t,e,!0),this},G.prototype.addEventListener=function(t,e){return this.on(t,e)},G.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=!1,o=z(t);return this._events=this._events.filter((function(t){return t.tag!==o||(setTimeout((function(){t.listener.apply(e,n)}),0),i=!0,!t.once)})),0===this.listenerCount()&&(this.polling=!1),i},G.prototype.listenerCount=function(t){if(!t)return this._events.length;var e=z(t);return this._events.filter((function(t){return t.tag===e})).length},G.prototype.listeners=function(t){var e=z(t);return this._events.filter((function(t){return t.tag===e})).map((function(t){return t.listener}))},G.prototype.removeAllListeners=function(t){var e;return null==t?(this._events=[],this._stopPending()):(e=z(t),this._events=this._events.filter((function(t){return t.tag!==e})),"pending"===t&&this._stopPending()),0===this._events.length&&(this.polling=!1),this},G.prototype.removeListener=function(t,e){var n=!1,r=z(t);return this._events=this._events.filter((function(t){return t.tag!==r||t.listener!=e||!!n||!(n=!0)})),"pending"===t&&0===this.listenerCount("pending")&&this._stopPending(),0===this.listenerCount()&&(this.polling=!1),this},G);function G(t){var e,n=q.call(this)||this;return g.checkNew(n,y.Provider),t instanceof Promise?(f.defineReadOnly(n,"ready",t.then((function(t){return f.defineReadOnly(n,"_network",t),t}))),n.ready.catch((function(t){}))):(e=h.getNetwork(null==t?"homestead":t))?(f.defineReadOnly(n,"_network",e),f.defineReadOnly(n,"ready",Promise.resolve(n._network))):g.throwError("invalid network",g.INVALID_ARGUMENT,{arg:"network",value:t}),n._lastBlockNumber=-2,n._balances={},n._events=[],n._pollingInterval=4e3,n._emitted={block:-2},n._fastQueryDate=0,n}n.BaseProvider=H,f.defineReadOnly(y.Provider,"inherits",f.inheritable(y.Provider))},{"../constants":3,"../errors":5,"../utils/address":60,"../utils/bignumber":63,"../utils/bytes":64,"../utils/hash":65,"../utils/networks":72,"../utils/properties":74,"../utils/rlp":76,"../utils/transaction":83,"../utils/utf8":85,"../utils/web":86,"./abstract-provider":50}],52:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./base-provider"),s=t("../utils/bytes"),u=t("../utils/properties"),c=t("../utils/web"),l=o(t("../errors"));function h(t){var e,n=[];for(var r in t)null!=t[r]&&(e=s.hexlify(t[r]),{gasLimit:!0,gasPrice:!0,nonce:!0,value:!0}[r]&&(e=s.hexStripZeros(e)),n.push(r+"="+e));return n.join("&")}function f(t){if(0==t.status&&("No records found"===t.message||"No transactions found"===t.message))return t.result;if(1==t.status&&"OK"==t.message)return t.result;var e=new Error("invalid response");throw e.result=JSON.stringify(t),e}function d(t){if("2.0"!=t.jsonrpc)throw(e=new Error("invalid response")).result=JSON.stringify(t),e;if(t.error){var e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function p(t){if("pending"===t)throw new Error("pending not supported");return"latest"===t?t:parseInt(t.substring(2),16)}var m,v=(i(g,m=a.BaseProvider),g.prototype.perform=function(t,e){var n,r=this,i=this.baseUrl,o="";function a(t,e){return c.fetchJson(t,null,e||d).then((function(e){return r.emit("debug",{action:"perform",request:t,response:e,provider:r}),e}))}switch(this.apiKey&&(o+="&apikey="+this.apiKey),t){case"getBlockNumber":return a(i+="/api?module=proxy&action=eth_blockNumber"+o);case"getGasPrice":return a(i+="/api?module=proxy&action=eth_gasPrice"+o);case"getBalance":return i+="/api?module=account&action=balance&address="+e.address,a(i+="&tag="+e.blockTag+o,f);case"getTransactionCount":return i+="/api?module=proxy&action=eth_getTransactionCount&address="+e.address,a(i+="&tag="+e.blockTag+o);case"getCode":return i+="/api?module=proxy&action=eth_getCode&address="+e.address,a(i+="&tag="+e.blockTag+o,d);case"getStorageAt":return i+="/api?module=proxy&action=eth_getStorageAt&address="+e.address,i+="&position="+e.position,a(i+="&tag="+e.blockTag+o,d);case"sendTransaction":return i+="/api?module=proxy&action=eth_sendRawTransaction&hex="+e.signedTransaction,a(i+=o).catch((function(t){throw t.responseText&&(0<=t.responseText.toLowerCase().indexOf("insufficient funds")&&l.throwError("insufficient funds",l.INSUFFICIENT_FUNDS,{}),0<=t.responseText.indexOf("same hash was already imported")&&l.throwError("nonce has already been used",l.NONCE_EXPIRED,{}),0<=t.responseText.indexOf("another transaction with same nonce")&&l.throwError("replacement fee too low",l.REPLACEMENT_UNDERPRICED,{})),t}));case"getBlock":return e.blockTag?(i+="/api?module=proxy&action=eth_getBlockByNumber&tag="+e.blockTag,e.includeTransactions?i+="&boolean=true":i+="&boolean=false",a(i+=o)):Promise.reject(new Error("getBlock by blockHash not implemeneted"));case"getTransaction":return i+="/api?module=proxy&action=eth_getTransactionByHash&txhash="+e.transactionHash,a(i+=o);case"getTransactionReceipt":return i+="/api?module=proxy&action=eth_getTransactionReceipt&txhash="+e.transactionHash,a(i+=o);case"call":return i+="/api?module=proxy&action=eth_call"+(n=(n=h(e.transaction))&&"&"+n),"latest"!==e.blockTag?Promise.reject(new Error("EtherscanProvider does not support blockTag for call")):a(i+=o);case"estimateGas":return i+="/api?module=proxy&action=eth_estimateGas&"+(n=(n=h(e.transaction))&&"&"+n),a(i+=o);case"getLogs":i+="/api?module=logs&action=getLogs";try{if(e.filter.fromBlock&&(i+="&fromBlock="+p(e.filter.fromBlock)),e.filter.toBlock&&(i+="&toBlock="+p(e.filter.toBlock)),e.filter.blockHash)try{l.throwError("Etherscan does not support blockHash filters",l.UNSUPPORTED_OPERATION,{operation:"getLogs(blockHash)"})}catch(t){return Promise.reject(t)}if(e.filter.address&&(i+="&address="+e.filter.address),e.filter.topics&&0<e.filter.topics.length){if(1<e.filter.topics.length)throw new Error("unsupported topic format");var s=e.filter.topics[0];if("string"!=typeof s||66!==s.length)throw new Error("unsupported topic0 format");i+="&topic0="+s}}catch(t){return Promise.reject(t)}var u=this;return a(i+=o,f).then((function(t){var e={},n=Promise.resolve();return t.forEach((function(t){n=n.then((function(){return null!=t.blockHash?null:(t.blockHash=e[t.transactionHash],null==t.blockHash?u.getTransaction(t.transactionHash).then((function(n){return e[t.transactionHash]=n.blockHash,t.blockHash=n.blockHash,null})):null)}))})),n.then((function(){return t}))}));case"getEtherPrice":return"homestead"!==this.network.name?Promise.resolve(0):(i+="/api?module=stats&action=ethprice",a(i+=o,f).then((function(t){return parseFloat(t.ethusd)})))}return m.prototype.perform.call(this,t,e)},g.prototype.getHistory=function(t,e,n){var r=this,i=this.baseUrl,o="";return this.apiKey&&(o+="&apikey="+this.apiKey),null==e&&(e=0),null==n&&(n=99999999),this.resolveName(t).then((function(t){return i+="/api?module=account&action=txlist&address="+t,i+="&startblock="+e,i+="&endblock="+n,i+="&sort=asc"+o,c.fetchJson(i,null,f).then((function(t){r.emit("debug",{action:"getHistory",request:i,response:t,provider:r});var e=[];return t.forEach((function(t){["contractAddress","to"].forEach((function(e){""==t[e]&&delete t[e]})),null==t.creates&&null!=t.contractAddress&&(t.creates=t.contractAddress);var n=a.BaseProvider.checkTransactionResponse(t);t.timeStamp&&(n.timestamp=parseInt(t.timeStamp)),e.push(n)})),e}))}))},g);function g(t,e){var n=m.call(this,t)||this;l.checkNew(n,g);var r="invalid";n.network&&(r=n.network.name);var i=null;switch(r){case"homestead":i="https://api.etherscan.io";break;case"ropsten":i="https://api-ropsten.etherscan.io";break;case"rinkeby":i="https://api-rinkeby.etherscan.io";break;case"kovan":i="https://api-kovan.etherscan.io";break;case"goerli":i="https://api-goerli.etherscan.io";break;default:throw new Error("unsupported network")}return u.defineReadOnly(n,"baseUrl",i),u.defineReadOnly(n,"apiKey",e||"8FG3JMZ9USS4NTA6YKEKHINU56SEPPVBJR"),n}n.EtherscanProvider=v},{"../errors":5,"../utils/bytes":64,"../utils/properties":74,"../utils/web":86,"./base-provider":51}],53:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./base-provider"),s=o(t("../errors"));function u(t){var e=!0,n=null;return t.forEach((function(r){null!=r?null!=n?n.name===r.name&&n.chainId===r.chainId&&(n.ensAddress===r.ensAddress||null==n.ensAddress&&null==r.ensAddress)||s.throwError("provider mismatch",s.INVALID_ARGUMENT,{arg:"networks",value:t}):n=r:e=!1})),e}var c,l=(i(h,c=a.BaseProvider),Object.defineProperty(h.prototype,"providers",{get:function(){return this._providers.slice(0)},enumerable:!0,configurable:!0}),h.prototype.perform=function(t,e){var n=this.providers;return new Promise((function(r,i){var o=null;!function a(){n.length?n.shift().perform(t,e).then((function(t){return r(t)})).catch((function(t){o=o||t,setTimeout(a,0)})):i(o)}()}))},h);function h(t){var e,n=this;if(0===t.length)throw new Error("no providers");return n=u(t.map((function(t){return t.network})))?c.call(this,t[0].network)||this:(e=Promise.all(t.map((function(t){return t.getNetwork()}))).then((function(t){return u(t)||s.throwError("getNetwork returned null",s.UNKNOWN_ERROR,{}),t[0]})),c.call(this,e)||this),s.checkNew(n,h),n._providers=t.slice(0),n}n.FallbackProvider=l},{"../errors":5,"./base-provider":51}],54:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./abstract-provider");n.Provider=r.Provider;var i=t("./base-provider");n.BaseProvider=i.BaseProvider;var o=t("./etherscan-provider");n.EtherscanProvider=o.EtherscanProvider;var a=t("./fallback-provider");n.FallbackProvider=a.FallbackProvider;var s=t("./ipc-provider");n.IpcProvider=s.IpcProvider;var u=t("./infura-provider");n.InfuraProvider=u.InfuraProvider;var c=t("./json-rpc-provider");n.JsonRpcProvider=c.JsonRpcProvider,n.JsonRpcSigner=c.JsonRpcSigner;var l=t("./web3-provider");n.Web3Provider=l.Web3Provider},{"./abstract-provider":50,"./base-provider":51,"./etherscan-provider":52,"./fallback-provider":53,"./infura-provider":55,"./ipc-provider":56,"./json-rpc-provider":57,"./web3-provider":58}],55:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("./json-rpc-provider"),u=t("../utils/bytes"),c=t("../utils/networks"),l=t("../utils/properties"),h=o(t("../errors")),f=(i(d,a=s.JsonRpcProvider),d.prototype._startPending=function(){h.warn("WARNING: INFURA does not support pending filters")},d.prototype.getSigner=function(t){return h.throwError("INFURA does not support signing",h.UNSUPPORTED_OPERATION,{operation:"getSigner"})},d.prototype.listAccounts=function(){return Promise.resolve([])},d);function d(t,e){var n=this,r=c.getNetwork(null==t?"homestead":t);null==e&&(e="7d0d81d0919f4f05b9ab6634be01ee73");var i=null;switch(r.name){case"homestead":i="mainnet.infura.io";break;case"ropsten":i="ropsten.infura.io";break;case"rinkeby":i="rinkeby.infura.io";break;case"goerli":i="goerli.infura.io";break;case"kovan":i="kovan.infura.io";break;default:h.throwError("unsupported network",h.INVALID_ARGUMENT,{argument:"network",value:t})}return u.isHexString("0x"+e,16)?(n=a.call(this,"https://"+i+"/v3/"+e,r)||this,l.defineReadOnly(n,"apiAccessToken",null),l.defineReadOnly(n,"projectId",e)):(h.warn("The legacy INFURA apiAccesToken API is deprecated; please upgrade to a Project ID instead (see INFURA dshboard; https://infura.io)"),n=a.call(this,"https://"+i+"/"+e,r)||this,l.defineReadOnly(n,"apiAccessToken",e),l.defineReadOnly(n,"projectId",null)),h.checkNew(n,d),n}n.InfuraProvider=f},{"../errors":5,"../utils/bytes":64,"../utils/networks":72,"../utils/properties":74,"./json-rpc-provider":57}],56:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0})},{}],57:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./base-provider"),s=t("../abstract-signer"),u=o(t("../errors")),c=t("../utils/address"),l=t("../utils/bytes"),h=t("../utils/networks"),f=t("../utils/properties"),d=t("../utils/utf8"),p=t("../utils/web");function m(t){if(t.error){var e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function v(t){return t?t.toLowerCase():t}var g,y={},b=42,w=(i(_,g=s.Signer),_.prototype.getAddress=function(){var t=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(e){return e.length<=t._index&&u.throwError("unknown account #"+t._index,u.UNSUPPORTED_OPERATION,{operation:"getAddress"}),t._address=c.getAddress(e[t._index]),t._address}))},_.prototype.getBalance=function(t){return this.provider.getBalance(this.getAddress(),t)},_.prototype.getTransactionCount=function(t){return this.provider.getTransactionCount(this.getAddress(),t)},_.prototype.sendUncheckedTransaction=function(t){var e=this;t=f.shallowCopy(t);var n,r=this.getAddress().then((function(t){return t&&t.toLowerCase()}));return null==t.gasLimit&&((n=f.shallowCopy(t)).from=r,t.gasLimit=this.provider.estimateGas(n)),Promise.all([f.resolveProperties(t),r]).then((function(t){var n=t[0],r=E.hexlifyTransaction(n);return r.from=t[1],e.provider.send("eth_sendTransaction",[r]).then((function(t){return t}),(function(t){throw t.responseText&&(0<=t.responseText.indexOf("insufficient funds")&&u.throwError("insufficient funds",u.INSUFFICIENT_FUNDS,{transaction:n}),0<=t.responseText.indexOf("nonce too low")&&u.throwError("nonce has already been used",u.NONCE_EXPIRED,{transaction:n}),0<=t.responseText.indexOf("replacement transaction underpriced")&&u.throwError("replacement fee too low",u.REPLACEMENT_UNDERPRICED,{transaction:n})),t}))}))},_.prototype.sendTransaction=function(t){var e=this;return this.sendUncheckedTransaction(t).then((function(t){return p.poll((function(){return e.provider.getTransaction(t).then((function(n){if(null!==n)return e.provider._wrapTransaction(n,t)}))}),{fastRetry:250,onceBlock:e.provider}).catch((function(e){throw e.transactionHash=t,e}))}))},_.prototype.signMessage=function(t){var e=this,n="string"==typeof t?d.toUtf8Bytes(t):t;return this.getAddress().then((function(t){return e.provider.send("eth_sign",[t.toLowerCase(),l.hexlify(n)])}))},_.prototype.unlock=function(t){var e=this.provider;return this.getAddress().then((function(n){return e.send("personal_unlockAccount",[n.toLowerCase(),t,null])}))},_);function _(t,e,n){var r=g.call(this)||this;if(u.checkNew(r,_),t!==y)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return f.defineReadOnly(r,"provider",e),n?"string"==typeof n?f.defineReadOnly(r,"_address",c.getAddress(n)):"number"==typeof n?f.defineReadOnly(r,"_index",n):u.throwError("invalid address or index",u.INVALID_ARGUMENT,{argument:"addressOrIndex",value:n}):f.defineReadOnly(r,"_index",0),r}n.JsonRpcSigner=w;var k,x={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},E=(i(I,k=a.BaseProvider),I.prototype.getSigner=function(t){return new w(y,this,t)},I.prototype.listAccounts=function(){return this.send("eth_accounts",[]).then((function(t){return t.map((function(t){return c.getAddress(t)}))}))},I.prototype.send=function(t,e){var n=this,r={method:t,params:e,id:b++,jsonrpc:"2.0"};return p.fetchJson(this.connection,JSON.stringify(r),m).then((function(t){return n.emit("debug",{action:"send",request:r,response:t,provider:n}),t}))},I.prototype.perform=function(t,e){switch(t){case"getBlockNumber":return this.send("eth_blockNumber",[]);case"getGasPrice":return this.send("eth_gasPrice",[]);case"getBalance":return this.send("eth_getBalance",[v(e.address),e.blockTag]);case"getTransactionCount":return this.send("eth_getTransactionCount",[v(e.address),e.blockTag]);case"getCode":return this.send("eth_getCode",[v(e.address),e.blockTag]);case"getStorageAt":return this.send("eth_getStorageAt",[v(e.address),e.position,e.blockTag]);case"sendTransaction":return this.send("eth_sendRawTransaction",[e.signedTransaction]).catch((function(t){throw t.responseText&&(0<t.responseText.indexOf("insufficient funds")&&u.throwError("insufficient funds",u.INSUFFICIENT_FUNDS,{}),0<t.responseText.indexOf("nonce too low")&&u.throwError("nonce has already been used",u.NONCE_EXPIRED,{}),0<t.responseText.indexOf("replacement transaction underpriced")&&u.throwError("replacement fee too low",u.REPLACEMENT_UNDERPRICED,{})),t}));case"getBlock":return e.blockTag?this.send("eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]):e.blockHash?this.send("eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]):Promise.reject(new Error("invalid block tag or block hash"));case"getTransaction":return this.send("eth_getTransactionByHash",[e.transactionHash]);case"getTransactionReceipt":return this.send("eth_getTransactionReceipt",[e.transactionHash]);case"call":return this.send("eth_call",[I.hexlifyTransaction(e.transaction,{from:!0}),e.blockTag]);case"estimateGas":return this.send("eth_estimateGas",[I.hexlifyTransaction(e.transaction,{from:!0})]);case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=v(e.filter.address)),this.send("eth_getLogs",[e.filter])}return u.throwError(t+" not implemented",u.NOT_IMPLEMENTED,{operation:t}),null},I.prototype._startPending=function(){var t,e;null==this._pendingFilter&&(e=(t=this).send("eth_newPendingTransactionFilter",[]),(this._pendingFilter=e).then((function(n){return function r(){t.send("eth_getFilterChanges",[n]).then((function(n){if(t._pendingFilter!=e)return null;var r=Promise.resolve();return n.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",r=r.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),r.then((function(){return new Promise((function(t){setTimeout((function(){t()}),1e3)}))}))})).then((function(){return t._pendingFilter==e?(setTimeout((function(){r()}),0),null):void t.send("eth_uninstallFilter",[n])})).catch((function(t){}))}(),n})).catch((function(t){})))},I.prototype._stopPending=function(){this._pendingFilter=null},I.hexlifyTransaction=function(t,e){var n=f.shallowCopy(x);if(e)for(var r in e)e[r]&&(n[r]=!0);f.checkProperties(t,n);var i={};return["gasLimit","gasPrice","nonce","value"].forEach((function(e){var n;null!=t[e]&&(n=l.hexStripZeros(l.hexlify(t[e])),"gasLimit"===e&&(e="gas"),i[e]=n)})),["from","to","data"].forEach((function(e){null!=t[e]&&(i[e]=l.hexlify(t[e]))})),i},I);function I(t,e){var n,r=this;return"string"==typeof t&&null===e&&h.getNetwork(t)&&(e=t,t=null),r=e?k.call(this,e)||this:(n=new Promise((function(t,e){setTimeout((function(){r.send("net_version",[]).then((function(e){return t(h.getNetwork(parseInt(e)))})).catch((function(t){e(t)}))}))})),k.call(this,n)||this),u.checkNew(r,I),t=t||"http://localhost:8545",r.connection="string"==typeof t?{url:t}:t,r}n.JsonRpcProvider=E},{"../abstract-signer":2,"../errors":5,"../utils/address":60,"../utils/bytes":64,"../utils/networks":72,"../utils/properties":74,"../utils/utf8":85,"../utils/web":86,"./base-provider":51}],58:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("./json-rpc-provider"),u=t("../utils/properties"),c=o(t("../errors")),l=42,h=(i(f,a=s.JsonRpcProvider),f.prototype.send=function(t,e){var n=this;return"eth_sign"==t&&this._web3Provider.isMetaMask&&(t="personal_sign",e=[e[1],e[0]]),new Promise((function(r,i){var o={method:t,params:e,id:l++,jsonrpc:"2.0"};n._sendAsync(o,(function(t,e){if(t)i(t);else{if(e.error){var n=new Error(e.error.message);return n.code=e.error.code,n.data=e.error.data,void i(n)}r(e.result)}}))}))},f);function f(t,e){var n=a.call(this,t.host||t.path||"",e)||this;return c.checkNew(n,f),t&&(t.sendAsync?n._sendAsync=t.sendAsync.bind(t):t.send&&(n._sendAsync=t.send.bind(t))),t&&n._sendAsync||c.throwError("invalid web3Provider",c.INVALID_ARGUMENT,{arg:"web3Provider",value:t}),u.defineReadOnly(n,"_web3Provider",t),u.defineReadOnly(n,"provider",t),n}n.Web3Provider=h},{"../errors":5,"../utils/properties":74,"./json-rpc-provider":57}],59:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../constants"),s=o(t("../errors")),u=t("./address"),c=t("./bignumber"),l=t("./bytes"),h=t("./utf8"),f=t("./properties"),d=new RegExp(/^bytes([0-9]*)$/),p=new RegExp(/^(u?int)([0-9]*)$/),m=new RegExp(/^(.*)\[([0-9]*)\]$/);n.defaultCoerceFunc=function(t,e){var n=t.match(p);return n&&parseInt(n[2])<=48?e.toNumber():e};var v=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),g=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function y(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}function b(t,e){var n=t;function r(t){throw new Error('unexpected character "'+n[t]+'" at position '+t+' in "'+n+'"')}t=t.replace(/\s/g," ");for(var i={type:"",name:"",state:{allowType:!0}},o=i,a=0;a<t.length;a++){var s=t[a];switch(s){case"(":o.state.allowParams||r(a),o.state.allowType=!1,o.type=y(o.type),o.components=[{type:"",name:"",parent:o,state:{allowType:!0}}],o=o.components[0];break;case")":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=y(o.type);var u=o;(o=o.parent)||r(a),delete u.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=y(o.type);var c={type:"",name:"",parent:o.parent,state:{allowType:!0}};o.parent.components.push(c),delete o.parent,o=c;break;case" ":o.state.allowType&&""!==o.type&&(o.type=y(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&(e&&"indexed"===o.name?(o.indexed=!0,o.name=""):o.state.allowName=!1);break;case"[":o.state.allowArray||r(a),o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||r(a),o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=s,delete o.state.allowArray):o.state.readArray?o.type+=s:r(a)}}if(o.parent)throw new Error("unexpected eof");return delete i.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),i.type=y(i.type),i}function w(t){return at(n.defaultCoerceFunc,t).type}function _(t,e,n,r,i){this.coerceFunc=t,this.name=e,this.type=n,this.localName=r,this.dynamic=i}n.parseParamType=function(t){return b(t,!0)},n.formatParamType=w,n.formatSignature=function(t){return t.name+"("+t.inputs.map(w).join(",")+")"},n.parseSignature=function(t){if("string"==typeof t)return"event "===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).substring(0,6)?function(t){var e={anonymous:!1,inputs:[],name:"",type:"event"},n=t.match(v);if(!n)throw new Error("invalid event: "+t);if(e.name=n[1].trim(),it(n[2]).forEach((function(t){(t=b(t,!0)).indexed=!!t.indexed,e.inputs.push(t)})),n[3].split(" ").forEach((function(t){switch(t){case"anonymous":e.anonymous=!0;break;case"":break;default:s.info("unknown modifier: "+t)}})),e.name&&!e.name.match(g))throw new Error('invalid identifier: "'+e.name+'"');return e}(t.substring(6).trim()):("function "===t.substring(0,9)&&(t=t.substring(9)),function(t){var e={constant:!1,gas:null,inputs:[],name:"",outputs:[],payable:!1,stateMutability:null,type:"function"},n=t.split("@");if(1!==n.length){if(2<n.length)throw new Error("invalid signature");if(!n[1].match(/^[0-9]+$/))throw new Error("invalid signature gas");e.gas=c.bigNumberify(n[1]),t=n[0]}var r=(n=t.split(" returns "))[0].match(v);if(!r)throw new Error("invalid signature");if(e.name=r[1].trim(),!e.name.match(g))throw new Error('invalid identifier: "'+r[1]+'"');if(it(r[2]).forEach((function(t){e.inputs.push(b(t))})),r[3].split(" ").forEach((function(t){switch(t){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:s.info("unknown modifier: "+t)}})),1<n.length){var i=n[1].match(v);if(""!=i[1].trim()||""!=i[3].trim())throw new Error("unexpected tokens");it(i[2]).forEach((function(t){e.outputs.push(b(t))}))}if("constructor"===e.name){if(e.type="constructor",e.outputs.length)throw new Error("constructor may not have outputs");delete e.name,delete e.outputs}return e}(t.trim()));throw new Error("unknown signature")};var k,x=(i(E,k=_),E.prototype.encode=function(t){return this.coder.encode(t)},E.prototype.decode=function(t,e){return this.coder.decode(t,e)},E);function E(t){var e=k.call(this,t.coerceFunc,t.name,t.type,void 0,t.dynamic)||this;return f.defineReadOnly(e,"coder",t),e}var I,T=(i(S,I=_),S.prototype.encode=function(t){return l.arrayify([])},S.prototype.decode=function(t,e){if(e>t.length)throw new Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}},S);function S(t,e){return I.call(this,t,"null","",e,!1)||this}var C,A=(i(P,C=_),P.prototype.encode=function(t){try{var e=c.bigNumberify(t);if(this.signed){var n=a.MaxUint256.maskn(8*this.size-1);if(e.gt(n))throw new Error("out-of-bounds");if(n=n.add(a.One).mul(a.NegativeOne),e.lt(n))throw new Error("out-of-bounds")}else if(e.lt(a.Zero)||e.gt(a.MaxUint256.maskn(8*this.size)))throw new Error("out-of-bounds");return e=e.toTwos(8*this.size).maskn(8*this.size),this.signed&&(e=e.fromTwos(8*this.size).toTwos(256)),l.padZeros(l.arrayify(e),32)}catch(e){s.throwError("invalid number value",s.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:t})}return null},P.prototype.decode=function(t,e){t.length<e+32&&s.throwError("insufficient data for "+this.name+" type",s.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:l.hexlify(t.slice(e,e+32))});var n=32-this.size,r=c.bigNumberify(t.slice(e+n,e+32));return r=this.signed?r.fromTwos(8*this.size):r.maskn(8*this.size),{consumed:32,value:this.coerceFunc(this.name,r)}},P);function P(t,e,n,r){var i=this,o=(n?"int":"uint")+8*e;return(i=C.call(this,t,o,o,r,!1)||this).size=e,i.signed=n,i}var M,N=new A((function(t,e){return e}),32,!1,"none"),L=(i(O,M=_),O.prototype.encode=function(t){return N.encode(t?1:0)},O.prototype.decode=function(t,e){try{var n=N.decode(t,e)}catch(t){throw"insufficient data for uint256 type"===t.reason&&s.throwError("insufficient data for boolean type",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"boolean",value:t.value}),t}return{consumed:n.consumed,value:this.coerceFunc("bool",!n.value.isZero())}},O);function O(t,e){return M.call(this,t,"bool","bool",e,!1)||this}var R,B=(i(D,R=_),D.prototype.encode=function(t){var e=new Uint8Array(32);try{var n=l.arrayify(t);if(n.length!==this.length)throw new Error("incorrect data length");e.set(n)}catch(e){s.throwError("invalid "+this.name+" value",s.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:e.value||t})}return e},D.prototype.decode=function(t,e){return t.length<e+32&&s.throwError("insufficient data for "+this.name+" type",s.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:l.hexlify(t.slice(e,e+32))}),{consumed:32,value:this.coerceFunc(this.name,l.hexlify(t.slice(e,e+this.length)))}},D);function D(t,e,n){var r=this,i="bytes"+e;return(r=R.call(this,t,i,i,n,!1)||this).length=e,r}var j,U=(i(F,j=_),F.prototype.encode=function(t){var e=new Uint8Array(32);try{e.set(l.arrayify(u.getAddress(t)),12)}catch(e){s.throwError("invalid address",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:t})}return e},F.prototype.decode=function(t,e){return t.length<e+32&&s.throwError("insufficient data for address type",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:l.hexlify(t.slice(e,e+32))}),{consumed:32,value:this.coerceFunc("address",u.getAddress(l.hexlify(t.slice(e+12,e+32))))}},F);function F(t,e){return j.call(this,t,"address","address",e,!1)||this}function $(t){var e=32*Math.ceil(t.length/32),n=new Uint8Array(e-t.length);return l.concat([N.encode(t.length),t,n])}function z(t,e,n){t.length<e+32&&s.throwError("insufficient data for dynamicBytes length",s.INVALID_ARGUMENT,{arg:n,coderType:"dynamicBytes",value:l.hexlify(t.slice(e,e+32))});var r=N.decode(t,e).value;try{r=r.toNumber()}catch(t){s.throwError("dynamic bytes count too large",s.INVALID_ARGUMENT,{arg:n,coderType:"dynamicBytes",value:r.toString()})}return t.length<e+32+r&&s.throwError("insufficient data for dynamicBytes type",s.INVALID_ARGUMENT,{arg:n,coderType:"dynamicBytes",value:l.hexlify(t.slice(e,e+32+r))}),{consumed:32+32*Math.ceil(r/32),value:t.slice(e+32,e+32+r)}}var V,q=(i(H,V=_),H.prototype.encode=function(t){try{return $(l.arrayify(t))}catch(t){s.throwError("invalid bytes value",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"bytes",value:t.value})}return null},H.prototype.decode=function(t,e){var n=z(t,e,this.localName);return n.value=this.coerceFunc("bytes",l.hexlify(n.value)),n},H);function H(t,e){return V.call(this,t,"bytes","bytes",e,!0)||this}var G,W=(i(K,G=_),K.prototype.encode=function(t){return"string"!=typeof t&&s.throwError("invalid string value",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"string",value:t}),$(h.toUtf8Bytes(t))},K.prototype.decode=function(t,e){var n=z(t,e,this.localName);return n.value=this.coerceFunc("string",h.toUtf8String(n.value)),n},K);function K(t,e){return G.call(this,t,"string","string",e,!0)||this}function Z(t){return 32*Math.ceil(t/32)}function X(t,e){var n;Array.isArray(e)||(e&&"object"==typeof e?(n=[],t.forEach((function(t){n.push(e[t.localName])})),e=n):s.throwError("invalid tuple value",s.INVALID_ARGUMENT,{coderType:"tuple",value:e})),t.length!==e.length&&s.throwError("types/value length mismatch",s.INVALID_ARGUMENT,{coderType:"tuple",value:e});var r=[];t.forEach((function(t,n){r.push({dynamic:t.dynamic,value:t.encode(e[n])})}));var i=0,o=0;r.forEach((function(t){t.dynamic?(i+=32,o+=Z(t.value.length)):i+=Z(t.value.length)}));var a=0,u=i,c=new Uint8Array(i+o);return r.forEach((function(t){t.dynamic?(c.set(N.encode(u),a),a+=32,c.set(t.value,u),u+=Z(t.value.length)):(c.set(t.value,a),a+=Z(t.value.length))})),c}function J(t,e,n){var r=n,i=0,o=[];return t.forEach((function(t){var a,s;t.dynamic?(a=N.decode(e,n),(s=t.decode(e,r+a.value.toNumber())).consumed=a.consumed):s=t.decode(e,n),null!=s.value&&o.push(s.value),n+=s.consumed,i+=s.consumed})),t.forEach((function(t,e){var n=t.localName;n&&("length"===n&&(n="_length"),null==o[n]&&(o[n]=o[e]))})),{value:o,consumed:i}}var Y,Q=(i(tt,Y=_),tt.prototype.encode=function(t){Array.isArray(t)||s.throwError("expected array value",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:t});var e=this.length,n=new Uint8Array(0);-1===e&&(e=t.length,n=N.encode(e)),s.checkArgumentCount(e,t.length," in coder array"+(this.localName?" "+this.localName:""));for(var r=[],i=0;i<t.length;i++)r.push(this.coder);return l.concat([n,X(r,t)])},tt.prototype.decode=function(t,e){var n=0,r=this.length;if(-1===r){try{var i=N.decode(t,e)}catch(t){s.throwError("insufficient data for dynamic array length",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:t.value})}try{r=i.value.toNumber()}catch(t){s.throwError("array count too large",s.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:i.value.toString()})}n+=i.consumed,e+=i.consumed}for(var o=[],a=0;a<r;a++)o.push(new x(this.coder));var u=J(o,t,e);return u.consumed+=n,u.value=this.coerceFunc(this.type,u.value),u},tt);function tt(t,e,n,r){var i=this,o=e.type+"["+(0<=n?n:"")+"]",a=-1===n||e.dynamic;return(i=Y.call(this,t,"array",o,r,a)||this).coder=e,i.length=n,i}var et,nt=(i(rt,et=_),rt.prototype.encode=function(t){return X(this.coders,t)},rt.prototype.decode=function(t,e){var n=J(this.coders,t,e);return n.value=this.coerceFunc(this.type,n.value),n},rt);function rt(t,e,n){var r=this,i=!1,o=[];e.forEach((function(t){t.dynamic&&(i=!0),o.push(t.type)}));var a="tuple("+o.join(",")+")";return(r=et.call(this,t,"tuple",a,n,i)||this).coders=e,r}function it(t){t=t.trim();for(var e=[],n="",r=0,i=0;i<t.length;i++){var o=t[i];if(","===o&&0===r)e.push(n),n="";else if(n+=o,"("===o)r++;else if(")"===o&&-1==--r)throw new Error("unbalanced parenthsis")}return n&&e.push(n),e}var ot={address:U,bool:L,string:W,bytes:q};function at(t,e){var n=ot[e.type];if(n)return new n(t,e.name);var r,i,o,a,u=e.type.match(p);if(u)return(0===(c=parseInt(u[2]||"256"))||256<c||c%8!=0)&&s.throwError("invalid "+u[1]+" bit length",s.INVALID_ARGUMENT,{arg:"param",value:e}),new A(t,c/8,"int"===u[1],e.name);if(u=e.type.match(d))return(0===(c=parseInt(u[1]))||32<c)&&s.throwError("invalid bytes length",s.INVALID_ARGUMENT,{arg:"param",value:e}),new B(t,c,e.name);if(u=e.type.match(m)){var c=parseInt(u[2]||"-1");return(e=f.shallowCopy(e)).type=u[1],e=f.deepCopy(e),new Q(t,at(t,e),c,e.name)}return"tuple"===e.type.substring(0,5)?(r=t,i=e.components,o=e.name,a=[],(i=i||[]).forEach((function(t){a.push(at(r,t))})),new nt(r,a,o)):""===e.type?new T(t,e.name):(s.throwError("invalid type",s.INVALID_ARGUMENT,{arg:"type",value:e.type}),null)}var st=(ut.prototype.encode=function(t,e){t.length!==e.length&&s.throwError("types/values length mismatch",s.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});var n=[];return t.forEach((function(t){var e="string"==typeof t?b(t):t;n.push(at(this.coerceFunc,e))}),this),l.hexlify(new nt(this.coerceFunc,n,"_").encode(e))},ut.prototype.decode=function(t,e){var n=[];return t.forEach((function(t){var e="string"==typeof t?b(t):f.deepCopy(t);n.push(at(this.coerceFunc,e))}),this),new nt(this.coerceFunc,n,"_").decode(l.arrayify(e),0).value},ut);function ut(t){s.checkNew(this,ut),t=t||n.defaultCoerceFunc,f.defineReadOnly(this,"coerceFunc",t)}n.AbiCoder=st,n.defaultAbiCoder=new st},{"../constants":3,"../errors":5,"./address":60,"./bignumber":63,"./bytes":64,"./properties":74,"./utf8":85}],60:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("bn.js")),o=t("./bytes"),a=t("./keccak256"),s=t("./rlp"),u=t("../errors");function c(t){"string"==typeof t&&t.match(/^0x[0-9A-Fa-f]{40}$/)||u.throwError("invalid address",u.INVALID_ARGUMENT,{arg:"address",value:t});for(var e=(t=t.toLowerCase()).substring(2).split(""),n=new Uint8Array(40),r=0;r<40;r++)n[r]=e[r].charCodeAt(0);n=o.arrayify(a.keccak256(n));for(var i=0;i<40;i+=2)8<=n[i>>1]>>4&&(e[i]=e[i].toUpperCase()),8<=(15&n[i>>1])&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}for(var l={},h=0;h<10;h++)l[String(h)]=String(h);for(h=0;h<26;h++)l[String.fromCharCode(65+h)]=String(10+h);var f,d=Math.floor((f=9007199254740991,Math.log10?Math.log10(f):Math.log(f)/Math.LN10));function p(t){t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00";var e="";for(t.split("").forEach((function(t){e+=l[t]}));e.length>=d;){var n=e.substring(0,d);e=parseInt(n,10)%97+e.substring(n.length)}for(var r=String(98-parseInt(e,10)%97);r.length<2;)r="0"+r;return r}function m(t){var e=null;if("string"!=typeof t&&u.throwError("invalid address",u.INVALID_ARGUMENT,{arg:"address",value:t}),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=c(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&u.throwError("bad address checksum",u.INVALID_ARGUMENT,{arg:"address",value:t});else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==p(t)&&u.throwError("bad icap checksum",u.INVALID_ARGUMENT,{arg:"address",value:t}),e=new i.default.BN(t.substring(4),36).toString(16);e.length<40;)e="0"+e;e=c("0x"+e)}else u.throwError("invalid address",u.INVALID_ARGUMENT,{arg:"address",value:t});return e}n.getAddress=m,n.getIcapAddress=function(t){for(var e=new i.default.BN(m(t).substring(2),16).toString(36).toUpperCase();e.length<30;)e="0"+e;return"XE"+p("XE00"+e)+e},n.getContractAddress=function(t){if(!t.from)throw new Error("missing from address");var e=t.nonce;return m("0x"+a.keccak256(s.encode([m(t.from),o.stripZeros(o.hexlify(e))])).substring(26))},n.getCreate2Address=function(t){var e=t.initCodeHash;t.initCode&&(e?a.keccak256(t.initCode)!==e&&u.throwError("initCode/initCodeHash mismatch",u.INVALID_ARGUMENT,{arg:"options",value:t}):e=a.keccak256(t.initCode)),e||u.throwError("missing initCode or initCodeHash",u.INVALID_ARGUMENT,{arg:"options",value:t});var n=m(t.from),r=o.arrayify(t.salt);return 32!==r.length&&u.throwError("invalid salt",u.INVALID_ARGUMENT,{arg:"options",value:t}),m("0x"+a.keccak256(o.concat(["0xff",n,r,e])).substring(26))}},{"../errors":5,"./bytes":64,"./keccak256":71,"./rlp":76,"bn.js":9}],61:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/bytes");e.exports={decode:function(t){t=atob(t);for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return r.arrayify(e)},encode:function(t){t=r.arrayify(t);for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}}},{"../utils/bytes":64}],62:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./bytes"),i=t("./properties"),o=(a.prototype.encode=function(t){var e=r.arrayify(t);if(0===e.length)return"";for(var n=[0],i=0;i<e.length;++i){for(var o=e[i],a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;0<o;)n.push(o%this.base),o=o/this.base|0}for(var s="",u=0;0===e[u]&&u<e.length-1;++u)s+=this._leader;for(var c=n.length-1;0<=c;--c)s+=this.alphabet[n[c]];return s},a.prototype.decode=function(t){if("string"!=typeof t)throw new TypeError("Expected String");var e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(var n=0;n<t.length;n++){var i=this._alphabetMap[t[n]];if(void 0===i)throw new Error("Non-base"+this.base+" character");for(var o=i,a=0;a<e.length;++a)o+=e[a]*this.base,e[a]=255&o,o>>=8;for(;0<o;)e.push(255&o),o>>=8}for(var s=0;t[s]===this._leader&&s<t.length-1;++s)e.push(0);return r.arrayify(new Uint8Array(e.reverse()))},a);function a(t){i.defineReadOnly(this,"alphabet",t),i.defineReadOnly(this,"base",t.length),i.defineReadOnly(this,"_alphabetMap",{}),i.defineReadOnly(this,"_leader",t.charAt(0));for(var e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}var s=new(n.BaseX=o)("abcdefghijklmnopqrstuvwxyz234567");n.Base32=s;var u=new o("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");n.Base58=u},{"./bytes":64,"./properties":74}],63:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var o=r(t("bn.js")),a=t("./bytes"),s=t("./properties"),u=i(t("../errors")),c=new o.default.BN(-1);function l(t){var e=t.toString(16);return"-"===e[0]?e.length%2==0?"-0x0"+e.substring(1):"-0x"+e.substring(1):e.length%2==1?"0x0"+e:"0x"+e}function h(t){return d(v(t))}function f(t){return new p(l(t))}function d(t){var e=t._hex;return"-"===e[0]?new o.default.BN(e.substring(3),16).mul(c):new o.default.BN(e.substring(2),16)}var p=(m.prototype.fromTwos=function(t){return f(d(this).fromTwos(t))},m.prototype.toTwos=function(t){return f(d(this).toTwos(t))},m.prototype.abs=function(){return"-"===this._hex[0]?f(d(this).mul(c)):this},m.prototype.add=function(t){return f(d(this).add(h(t)))},m.prototype.sub=function(t){return f(d(this).sub(h(t)))},m.prototype.div=function(t){return v(t).isZero()&&u.throwError("division by zero",u.NUMERIC_FAULT,{operation:"divide",fault:"division by zero"}),f(d(this).div(h(t)))},m.prototype.mul=function(t){return f(d(this).mul(h(t)))},m.prototype.mod=function(t){return f(d(this).mod(h(t)))},m.prototype.pow=function(t){return f(d(this).pow(h(t)))},m.prototype.maskn=function(t){return f(d(this).maskn(t))},m.prototype.eq=function(t){return d(this).eq(h(t))},m.prototype.lt=function(t){return d(this).lt(h(t))},m.prototype.lte=function(t){return d(this).lte(h(t))},m.prototype.gt=function(t){return d(this).gt(h(t))},m.prototype.gte=function(t){return d(this).gte(h(t))},m.prototype.isZero=function(){return d(this).isZero()},m.prototype.toNumber=function(){try{return d(this).toNumber()}catch(t){u.throwError("overflow",u.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:t.message})}return null},m.prototype.toString=function(){return d(this).toString(10)},m.prototype.toHexString=function(){return this._hex},m.isBigNumber=function(t){return s.isType(t,"BigNumber")},m);function m(t){if(u.checkNew(this,m),s.setType(this,"BigNumber"),"string"==typeof t)a.isHexString(t)?("0x"==t&&(t="0x0"),s.defineReadOnly(this,"_hex",t)):"-"===t[0]&&a.isHexString(t.substring(1))?s.defineReadOnly(this,"_hex",t):t.match(/^-?[0-9]*$/)?(""==t&&(t="0"),s.defineReadOnly(this,"_hex",l(new o.default.BN(t)))):u.throwError("invalid BigNumber string value",u.INVALID_ARGUMENT,{arg:"value",value:t});else if("number"==typeof t){parseInt(String(t))!==t&&u.throwError("underflow",u.NUMERIC_FAULT,{operation:"setValue",fault:"underflow",value:t,outputValue:parseInt(String(t))});try{s.defineReadOnly(this,"_hex",l(new o.default.BN(t)))}catch(t){u.throwError("overflow",u.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:t.message})}}else t instanceof m?s.defineReadOnly(this,"_hex",t._hex):t.toHexString?s.defineReadOnly(this,"_hex",l(h(t.toHexString()))):t._hex&&a.isHexString(t._hex)?s.defineReadOnly(this,"_hex",t._hex):a.isArrayish(t)?s.defineReadOnly(this,"_hex",l(new o.default.BN(a.hexlify(t).substring(2),16))):u.throwError("invalid BigNumber value",u.INVALID_ARGUMENT,{arg:"value",value:t})}function v(t){return p.isBigNumber(t)?t:new p(t)}n.BigNumber=p,n.bigNumberify=v},{"../errors":5,"./bytes":64,"./properties":74,"bn.js":9}],64:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("../errors"));function o(t){return!!t.toHexString}function a(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return a(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function s(t){if(!t||parseInt(String(t.length))!=t.length||"string"==typeof t)return!1;for(var e=0;e<t.length;e++){var n=t[e];if(n<0||256<=n||parseInt(String(n))!=n)return!1}return!0}function u(t){if(null==t&&i.throwError("cannot convert null value to array",i.INVALID_ARGUMENT,{arg:"value",value:t}),o(t)&&(t=t.toHexString()),"string"!=typeof t)return s(t)?a(new Uint8Array(t)):(i.throwError("invalid arrayify value",null,{arg:"value",value:t,type:typeof t}),null);var e=t.match(/^(0x)?[0-9a-fA-F]*$/);e||i.throwError("invalid hexidecimal string",i.INVALID_ARGUMENT,{arg:"value",value:t}),"0x"!==e[1]&&i.throwError("hex string must have 0x prefix",i.INVALID_ARGUMENT,{arg:"value",value:t}),(t=t.substring(2)).length%2&&(t="0"+t);for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substr(r,2),16));return a(new Uint8Array(n))}function c(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=u(t[r]);e.push(i),n+=i.length}var o=new Uint8Array(n),s=0;for(r=0;r<e.length;r++)o.set(e[r],s),s+=e[r].length;return a(o)}function l(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}n.isHexable=o,n.isArrayish=s,n.arrayify=u,n.concat=c,n.stripZeros=function(t){var e=u(t);if(0===e.length)return e;for(var n=0;0===e[n];)n++;return n&&(e=e.slice(n)),e},n.padZeros=function(t,e){if(e<(t=u(t)).length)throw new Error("cannot pad");var n=new Uint8Array(e);return n.set(t,e-t.length),a(n)},n.isHexString=l;var h="0123456789abcdef";function f(t){if(o(t))return t.toHexString();if("number"==typeof t){t<0&&i.throwError("cannot hexlify negative value",i.INVALID_ARGUMENT,{arg:"value",value:t}),9007199254740991<=t&&i.throwError("out-of-range",i.NUMERIC_FAULT,{operartion:"hexlify",fault:"out-of-safe-range"});for(var e="";t;)e=h[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("string"==typeof t){var n=t.match(/^(0x)?[0-9a-fA-F]*$/);return n||i.throwError("invalid hexidecimal string",i.INVALID_ARGUMENT,{arg:"value",value:t}),"0x"!==n[1]&&i.throwError("hex string must have 0x prefix",i.INVALID_ARGUMENT,{arg:"value",value:t}),t.length%2&&(t="0x0"+t.substring(2)),t}if(s(t)){for(var r=[],a=0;a<t.length;a++){var u=t[a];r.push(h[(240&u)>>4]+h[15&u])}return"0x"+r.join("")}return i.throwError("invalid hexlify value",null,{arg:"value",value:t}),"never"}function d(t,e){for(l(t)||i.throwError("invalid hex string",i.INVALID_ARGUMENT,{arg:"value",value:t});t.length<2*e+2;)t="0x0"+t.substring(2);return t}function p(t){var e,n=0,r="0x",o="0x";if((e=t)&&null!=e.r&&null!=e.s){null==t.v&&null==t.recoveryParam&&i.throwError("at least on of recoveryParam or v must be specified",i.INVALID_ARGUMENT,{argument:"signature",value:t}),r=d(t.r,32),o=d(t.s,32),"string"==typeof(n=t.v)&&(n=parseInt(n,16));var a=t.recoveryParam;null==a&&null!=t.v&&(a=1-n%2),n=27+a}else{var s=u(t);if(65!==s.length)throw new Error("invalid signature");r=f(s.slice(0,32)),o=f(s.slice(32,64)),27!==(n=s[64])&&28!==n&&(n=27+n%2)}return{r:r,s:o,recoveryParam:n-27,v:n}}n.hexlify=f,n.hexDataLength=function(t){return l(t)&&t.length%2==0?(t.length-2)/2:null},n.hexDataSlice=function(t,e,n){return l(t)||i.throwError("invalid hex data",i.INVALID_ARGUMENT,{arg:"value",value:t}),t.length%2!=0&&i.throwError("hex data length must be even",i.INVALID_ARGUMENT,{arg:"value",value:t}),e=2+2*e,null!=n?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)},n.hexStripZeros=function(t){for(l(t)||i.throwError("invalid hex string",i.INVALID_ARGUMENT,{arg:"value",value:t});3<t.length&&"0x0"===t.substring(0,3);)t="0x"+t.substring(3);return t},n.hexZeroPad=d,n.splitSignature=p,n.joinSignature=function(t){return f(c([(t=p(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}},{"../errors":5}],65:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("../errors")),o=t("./bytes"),a=t("./utf8"),s=t("./keccak256"),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),c=new RegExp("^((.*)\\.)?([^.]+)$"),l=new RegExp("^[a-z0-9.-]*$");n.namehash=function(t){"string"!=typeof t&&i.throwError("invalid address - "+String(t),i.INVALID_ARGUMENT,{argument:"name",value:t}),(t=t.toLowerCase()).match(l)||i.throwError("contains invalid UseSTD3ASCIIRules characters",i.INVALID_ARGUMENT,{argument:"name",value:t});for(var e=u;t.length;){var n=t.match(c),r=a.toUtf8Bytes(n[3]);e=s.keccak256(o.concat([e,s.keccak256(r)])),t=n[2]||""}return o.hexlify(e)},n.id=function(t){return s.keccak256(a.toUtf8Bytes(t))},n.hashMessage=function(t){return s.keccak256(o.concat([a.toUtf8Bytes("Ethereum Signed Message:\n"),a.toUtf8Bytes(String(t.length)),"string"==typeof t?a.toUtf8Bytes(t):t]))}},{"../errors":5,"./bytes":64,"./keccak256":71,"./utf8":85}],66:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("../errors")),o=t("../wordlists/lang-en"),a=t("./basex"),s=t("./bytes"),u=t("./bignumber"),c=t("./utf8"),l=t("./pbkdf2"),h=t("./hmac"),f=t("./properties"),d=t("./secp256k1"),p=t("./sha2"),m=u.bigNumberify("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v=c.toUtf8Bytes("Bitcoin seed"),g=2147483648;function y(t){return(1<<t)-1<<8-t}function b(t){return s.hexZeroPad(s.hexlify(t),32)}function w(t){var e=s.hexDataSlice(p.sha256(p.sha256(t)),0,4);return a.Base58.encode(s.concat([t,e]))}var _={};n.defaultPath="m/44'/60'/0'/0/0";var k=(Object.defineProperty(x.prototype,"extendedKey",{get:function(){if(256<=this.depth)throw new Error("Depth too large!");return w(s.concat([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",s.hexlify(this.depth),this.parentFingerprint,s.hexZeroPad(s.hexlify(this.index),4),this.chainCode,null!=this.privateKey?s.concat(["0x00",this.privateKey]):this.publicKey]))},enumerable:!0,configurable:!0}),x.prototype.neuter=function(){return new x(_,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,null,this.path)},x.prototype._derive=function(t){if(4294967295<t)throw new Error("invalid index - "+String(t));var e=this.path;e&&(e+="/"+(t&~g));var n=new Uint8Array(37);if(t&g){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(s.arrayify(this.privateKey),1),e&&(e+="'")}else n.set(s.arrayify(this.publicKey));for(var r=24;0<=r;r-=8)n[33+(r>>3)]=t>>24-r&255;var i=h.computeHmac(h.SupportedAlgorithms.sha512,this.chainCode,n),o=i.slice(0,32),a=i.slice(32),c=null,l=null;return this.privateKey?c=b(u.bigNumberify(o).add(this.privateKey).mod(m)):l=new d.KeyPair(s.hexlify(o))._addPoint(this.publicKey),new x(_,c,l,this.fingerprint,b(a),t,this.depth+1,this.mnemonic,e)},x.prototype.derivePath=function(t){var e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();for(var n=this,r=0;r<e.length;r++){var i=e[r];if(i.match(/^[0-9]+'$/)){var o=parseInt(i.substring(0,i.length-1));if(g<=o)throw new Error("invalid path index - "+i);n=n._derive(g+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);if(o=parseInt(i),g<=o)throw new Error("invalid path index - "+i);n=n._derive(o)}}return n},x.isHDNode=function(t){return f.isType(t,"HDNode")},x);function x(t,e,n,r,o,a,u,c,l){if(i.checkNew(this,x),t!==_)throw new Error("HDNode constructor cannot be called directly");var h;e?(h=new d.KeyPair(e),f.defineReadOnly(this,"privateKey",h.privateKey),f.defineReadOnly(this,"publicKey",h.compressedPublicKey)):(f.defineReadOnly(this,"privateKey",null),f.defineReadOnly(this,"publicKey",s.hexlify(n))),f.defineReadOnly(this,"parentFingerprint",r),f.defineReadOnly(this,"fingerprint",s.hexDataSlice(p.ripemd160(p.sha256(this.publicKey)),0,4)),f.defineReadOnly(this,"address",d.computeAddress(this.publicKey)),f.defineReadOnly(this,"chainCode",o),f.defineReadOnly(this,"index",a),f.defineReadOnly(this,"depth",u),f.defineReadOnly(this,"mnemonic",c),f.defineReadOnly(this,"path",l),f.setType(this,"HDNode")}function E(t,e){var n=s.arrayify(t);if(n.length<16||64<n.length)throw new Error("invalid seed");var r=s.arrayify(h.computeHmac(h.SupportedAlgorithms.sha512,v,n));return new k(_,b(r.slice(0,32)),null,"0x00000000",b(r.slice(32)),0,0,e,"m")}function I(t,e){e=e||"";var n=c.toUtf8Bytes("mnemonic"+e,c.UnicodeNormalizationForm.NFKD);return s.hexlify(l.pbkdf2(c.toUtf8Bytes(t,c.UnicodeNormalizationForm.NFKD),n,2048,64,"sha512"))}function T(t,e){e=e||o.langEn,i.checkNormalize();var n=e.split(t);if(n.length%3!=0)throw new Error("invalid mnemonic");for(var r=s.arrayify(new Uint8Array(Math.ceil(11*n.length/8))),a=0,u=0;u<n.length;u++){var c=e.getWordIndex(n[u].normalize("NFKD"));if(-1===c)throw new Error("invalid mnemonic");for(var l=0;l<11;l++)c&1<<10-l&&(r[a>>3]|=1<<7-a%8),a++}var h=32*n.length/3,f=y(n.length/3),d=s.arrayify(p.sha256(r.slice(0,h/8)))[0];if((d&=f)!=(r[r.length-1]&f))throw new Error("invalid checksum");return s.hexlify(r.slice(0,h/8))}function S(t,e){if((t=s.arrayify(t)).length%4!=0||t.length<16||32<t.length)throw new Error("invalid entropy");for(var n=[0],r=11,i=0;i<t.length;i++)8<r?(n[n.length-1]<<=8,n[n.length-1]|=t[i],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=t[i]>>8-r,n.push(t[i]&(1<<8-r)-1),r+=3);var a=s.arrayify(p.sha256(t))[0],u=t.length/4;return a&=y(u),n[n.length-1]<<=u,n[n.length-1]|=a>>8-u,(e=e||o.langEn).join(n.map((function(t){return e.getWord(t)})))}n.HDNode=k,n.fromExtendedKey=function(t){var e=a.Base58.decode(t);82===e.length&&w(e.slice(0,78))===t||i.throwError("invalid extended key",i.INVALID_ARGUMENT,{argument:"extendedKey",value:"[REDACTED]"});var n=e[4],r=s.hexlify(e.slice(5,9)),o=parseInt(s.hexlify(e.slice(9,13)).substring(2),16),u=s.hexlify(e.slice(13,45)),c=e.slice(45,78);switch(s.hexlify(e.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new k(_,null,s.hexlify(c),r,u,o,n,null,null);case"0x0488ade4":case"0x04358394":if(0!==c[0])break;return new k(_,s.hexlify(c.slice(1)),null,r,u,o,n,null,null)}return i.throwError("invalid extended key",i.INVALID_ARGUMENT,{argument:"extendedKey",value:"[REDACTED]"})},n.fromMnemonic=function(t,e,n){return E(I(t=S(T(t,e),e),n),t)},n.fromSeed=function(t){return E(t,null)},n.mnemonicToSeed=I,n.mnemonicToEntropy=T,n.entropyToMnemonic=S,n.isValidMnemonic=function(t,e){try{return T(t,e),!0}catch(t){}return!1}},{"../errors":5,"../wordlists/lang-en":90,"./basex":62,"./bignumber":63,"./bytes":64,"./hmac":67,"./pbkdf2":73,"./properties":74,"./secp256k1":77,"./sha2":79,"./utf8":85}],67:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i,o,a=r(t("hash.js")),s=t("../utils/bytes"),u=r(t("../errors"));(o=i=n.SupportedAlgorithms||(n.SupportedAlgorithms={})).sha256="sha256",o.sha512="sha512",n.computeHmac=function(t,e,n){return i[t]||u.throwError("unsupported algorithm "+t,u.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),s.arrayify(a.hmac(a[t],s.arrayify(e)).update(s.arrayify(n)).digest())}},{"../errors":5,"../utils/bytes":64,"hash.js":26}],68:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./abi-coder");n.AbiCoder=i.AbiCoder,n.defaultAbiCoder=i.defaultAbiCoder,n.formatSignature=i.formatSignature,n.formatParamType=i.formatParamType,n.parseSignature=i.parseSignature,n.parseParamType=i.parseParamType;var o=t("./address");n.getAddress=o.getAddress,n.getContractAddress=o.getContractAddress,n.getCreate2Address=o.getCreate2Address,n.getIcapAddress=o.getIcapAddress;var a=r(t("./base64"));n.base64=a;var s=t("./bignumber");n.BigNumber=s.BigNumber,n.bigNumberify=s.bigNumberify;var u=t("./bytes");n.arrayify=u.arrayify,n.concat=u.concat,n.hexDataSlice=u.hexDataSlice,n.hexDataLength=u.hexDataLength,n.hexlify=u.hexlify,n.hexStripZeros=u.hexStripZeros,n.hexZeroPad=u.hexZeroPad,n.isHexString=u.isHexString,n.joinSignature=u.joinSignature,n.padZeros=u.padZeros,n.splitSignature=u.splitSignature,n.stripZeros=u.stripZeros;var c=t("./hash");n.hashMessage=c.hashMessage,n.id=c.id,n.namehash=c.namehash;var l=r(t("./hdnode"));n.HDNode=l;var h=t("./interface");n.Interface=h.Interface;var f=t("./json-wallet");n.getJsonWalletAddress=f.getJsonWalletAddress;var d=t("./keccak256");n.keccak256=d.keccak256;var p=t("./sha2");n.sha256=p.sha256;var m=t("./solidity");n.solidityKeccak256=m.keccak256,n.solidityPack=m.pack,n.soliditySha256=m.sha256;var v=t("./random-bytes");n.randomBytes=v.randomBytes;var g=t("./networks");n.getNetwork=g.getNetwork;var y=t("./properties");n.checkProperties=y.checkProperties,n.deepCopy=y.deepCopy,n.defineReadOnly=y.defineReadOnly,n.resolveProperties=y.resolveProperties,n.shallowCopy=y.shallowCopy;var b=r(t("./rlp"));n.RLP=b;var w=t("./secp256k1");n.computeAddress=w.computeAddress,n.computePublicKey=w.computePublicKey,n.recoverAddress=w.recoverAddress,n.recoverPublicKey=w.recoverPublicKey,n.verifyMessage=w.verifyMessage;var _=t("./signing-key");n.SigningKey=_.SigningKey;var k=t("./transaction");n.populateTransaction=k.populateTransaction;var x=t("./transaction");n.parseTransaction=x.parse,n.serializeTransaction=x.serialize;var E=t("./utf8");n.formatBytes32String=E.formatBytes32String,n.parseBytes32String=E.parseBytes32String,n.toUtf8Bytes=E.toUtf8Bytes,n.toUtf8String=E.toUtf8String;var I=t("./units");n.commify=I.commify,n.formatEther=I.formatEther,n.parseEther=I.parseEther,n.formatUnits=I.formatUnits,n.parseUnits=I.parseUnits;var T=t("./web");n.fetchJson=T.fetchJson,n.poll=T.poll;var S=t("./hmac");n.SupportedAlgorithms=S.SupportedAlgorithms;var C=t("./utf8");n.UnicodeNormalizationForm=C.UnicodeNormalizationForm;var A=t("./wordlist");n.Wordlist=A.Wordlist},{"./abi-coder":59,"./address":60,"./base64":61,"./bignumber":63,"./bytes":64,"./hash":65,"./hdnode":66,"./hmac":67,"./interface":69,"./json-wallet":70,"./keccak256":71,"./networks":72,"./properties":74,"./random-bytes":75,"./rlp":76,"./secp256k1":77,"./sha2":79,"./signing-key":81,"./solidity":82,"./transaction":83,"./units":84,"./utf8":85,"./web":86,"./wordlist":87}],69:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};function a(t){for(var e in p.setType(this,"Description"),t)p.defineReadOnly(this,e,p.deepCopy(t[e],!0));Object.freeze(this)}Object.defineProperty(n,"__esModule",{value:!0});var s,u=t("./address"),c=t("./abi-coder"),l=t("./bignumber"),h=t("./bytes"),f=t("./hash"),d=t("./keccak256"),p=t("./properties"),m=o(t("../errors")),v=function(t){p.setType(this,"Indexed"),p.defineReadOnly(this,"hash",t)},g=(i(y,s=a),y.prototype.encode=function(t,e){h.isHexString(t)||m.throwError("invalid contract bytecode",m.INVALID_ARGUMENT,{arg:"bytecode",value:t}),m.checkArgumentCount(e.length,this.inputs.length," in Interface constructor");try{return t+c.defaultAbiCoder.encode(this.inputs,e).substring(2)}catch(t){m.throwError("invalid constructor argument",m.INVALID_ARGUMENT,{arg:t.arg,reason:t.reason,value:t.value})}return null},y);function y(){return null!==s&&s.apply(this,arguments)||this}var b,w=(i(_,b=a),_.prototype.encode=function(t){m.checkArgumentCount(t.length,this.inputs.length," in interface function "+this.name);try{return this.sighash+c.defaultAbiCoder.encode(this.inputs,t).substring(2)}catch(t){m.throwError("invalid input argument",m.INVALID_ARGUMENT,{arg:t.arg,reason:t.reason,value:t.value})}return null},_.prototype.decode=function(t){try{return c.defaultAbiCoder.decode(this.outputs,h.arrayify(t))}catch(e){m.throwError("invalid data for function output",m.INVALID_ARGUMENT,{arg:"data",errorArg:e.arg,errorValue:e.value,value:t,reason:e.reason})}},_);function _(){return null!==b&&b.apply(this,arguments)||this}var k,x=(i(E,k=a),E);function E(){return null!==k&&k.apply(this,arguments)||this}var I,T=(i(S,I=a),S.prototype.encodeTopics=function(t){var e=this;t.length>this.inputs.length&&m.throwError("too many arguments for "+this.name,m.UNEXPECTED_ARGUMENT,{maxCount:t.length,expectedCount:this.inputs.length});var n=[];for(this.anonymous||n.push(this.topic),t.forEach((function(t,r){var i=e.inputs[r];i.indexed?null==t?n.push(null):"string"===i.type?n.push(f.id(t)):"bytes"===i.type?n.push(d.keccak256(t)):-1!==i.type.indexOf("[")||"tuple"===i.type.substring(0,5)?m.throwError("filtering with tuples or arrays not implemented yet; bug us on GitHub",m.NOT_IMPLEMENTED,{operation:"filter(array|tuple)"}):("address"===i.type&&u.getAddress(t),n.push(h.hexZeroPad(h.hexlify(t),32).toLowerCase())):null!=t&&m.throwError("cannot filter non-indexed parameters; must be null",m.INVALID_ARGUMENT,{argument:i.name||r,value:t})}));n.length&&null===n[n.length-1];)n.pop();return n},S.prototype.decode=function(t,e){null==e||this.anonymous||(e=e.slice(1));var n,r=[],i=[],o=[];this.inputs.forEach((function(t,e){t.indexed?"string"===t.type||"bytes"===t.type||0<=t.type.indexOf("[")||"tuple"===t.type.substring(0,5)?(r.push({type:"bytes32",name:t.name||""}),o.push(!0)):(r.push(t),o.push(!1)):(i.push(t),o.push(!1))})),null!=e&&(n=c.defaultAbiCoder.decode(r,h.concat(e)));var a=c.defaultAbiCoder.decode(i,h.arrayify(t)),s={},u=0,l=0;return this.inputs.forEach((function(t,r){t.indexed?null==e?s[r]=new v(null):o[r]?s[r]=new v(n[l++]):s[r]=n[l++]:s[r]=a[u++],t.name&&(s[t.name]=s[r])})),s.length=this.inputs.length,new x(s)},S);function S(){return null!==I&&I.apply(this,arguments)||this}var C,A=(i(P,C=a),P);function P(){return null!==C&&C.apply(this,arguments)||this}var M,N=(i(L,M=a),L);function L(){return null!==M&&M.apply(this,arguments)||this}function O(t){switch(t.type){case"constructor":var e=new g({inputs:t.inputs,payable:null==t.payable||!!t.payable});this.deployFunction||(this.deployFunction=e);break;case"function":var n=c.formatSignature(t).replace(/tuple/g,""),r=f.id(n).substring(0,10),i=!1;null!=t.constant?i=t.constant:null!=t.stateMutability&&(i="view"==t.stateMutability||"pure"==t.stateMutability),e=new w({inputs:t.inputs,outputs:t.outputs,gas:t.gas,payable:null==t.payable||!!t.payable,type:i?"call":"transaction",name:t.name,signature:n,sighash:r}),t.name&&(null==this.functions[t.name]?p.defineReadOnly(this.functions,t.name,e):m.warn("WARNING: Multiple definitions for "+t.name)),null==this.functions[e.signature]&&p.defineReadOnly(this.functions,e.signature,e);break;case"event":n=c.formatSignature(t).replace(/tuple/g,""),e=new T({name:t.name,signature:n,inputs:t.inputs,topic:f.id(n),anonymous:!!t.anonymous}),t.name&&null==this.events[t.name]&&p.defineReadOnly(this.events,t.name,e),null==this.events[e.signature]&&p.defineReadOnly(this.events,e.signature,e);break;case"receive":case"fallback":break;default:m.warn("WARNING: unsupported ABI type - "+t.type)}}var R=(B.prototype.parseTransaction=function(t){var e=t.data.substring(0,10).toLowerCase();for(var n in this.functions)if(-1!==n.indexOf("(")){var r=this.functions[n];if(r.sighash===e){var i=c.defaultAbiCoder.decode(r.inputs,"0x"+t.data.substring(10));return new A({args:i,decode:r.decode,name:r.name,signature:r.signature,sighash:r.sighash,value:l.bigNumberify(t.value||"0")})}}return null},B.prototype.parseLog=function(t){for(var e in this.events)if(-1!==e.indexOf("(")){var n=this.events[e];if(!n.anonymous&&n.topic===t.topics[0])return new N({decode:n.decode,name:n.name,signature:n.signature,topic:n.topic,values:n.decode(t.data,t.topics)})}return null},B.isInterface=function(t){return p.isType(t,"Interface")},B.isIndexed=function(t){return p.isType(t,"Indexed")},B);function B(t){if(m.checkNew(this,B),"string"==typeof t){try{t=JSON.parse(t)}catch(e){m.throwError("could not parse ABI JSON",m.INVALID_ARGUMENT,{arg:"abi",errorMessage:e.message,value:t})}if(!Array.isArray(t))return m.throwError("invalid abi",m.INVALID_ARGUMENT,{arg:"abi",value:t}),null}p.defineReadOnly(this,"functions",{}),p.defineReadOnly(this,"events",{});var e=[];t.forEach((function(t){"string"==typeof t&&(t=c.parseSignature(t)),e.push(t)})),p.defineReadOnly(this,"abi",p.deepCopy(e,!0)),e.forEach(O,this),this.deployFunction||O.call(this,{type:"constructor",inputs:[]}),p.setType(this,"Interface")}n.Interface=R},{"../errors":5,"./abi-coder":59,"./address":60,"./bignumber":63,"./bytes":64,"./hash":65,"./keccak256":71,"./properties":74}],70:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./address");function i(t){try{var e=JSON.parse(t)}catch(t){return!1}return e.encseed&&e.ethaddr}function o(t){try{var e=JSON.parse(t)}catch(t){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}n.isCrowdsaleWallet=i,n.isSecretStorageWallet=o,n.getJsonWalletAddress=function(t){if(i(t))try{return r.getAddress(JSON.parse(t).ethaddr)}catch(t){return null}if(o(t))try{return r.getAddress(JSON.parse(t).address)}catch(t){return null}return null}},{"./address":60}],71:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("js-sha3"),i=t("./bytes");n.keccak256=function(t){return"0x"+r.keccak_256(i.arrayify(t))}},{"./bytes":64,"js-sha3":40}],72:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("../errors"));function o(t){return function(e){var n=[];return e.InfuraProvider&&n.push(new e.InfuraProvider(t)),e.EtherscanProvider&&n.push(new e.EtherscanProvider(t)),0===n.length?null:e.FallbackProvider?new e.FallbackProvider(n):n[0]}}function a(t,e){return function(n){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null}}var s={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:o("homestead")},u={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:o("ropsten")},c={unspecified:{chainId:0,name:"unspecified"},homestead:s,mainnet:s,morden:{chainId:2,name:"morden"},ropsten:u,testnet:u,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:o("rinkeby")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:o("goerli")},kovan:{chainId:42,name:"kovan",_defaultProvider:o("kovan")},classic:{chainId:61,name:"classic",_defaultProvider:a("https://web3.gastracker.io","classic")},classicTestnet:{chainId:62,name:"classicTestnet",_defaultProvider:a("https://web3.gastracker.io/morden","classicTestnet")}};n.getNetwork=function(t){if(null==t)return null;if("number"==typeof t){for(var e in c){var n=c[e];if(n.chainId===t)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){var r=c[t];return null==r?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}var o=c[t.name];return o?(0!==t.chainId&&t.chainId!==o.chainId&&i.throwError("network chainId mismatch",i.INVALID_ARGUMENT,{arg:"network",value:t}),{name:t.name,chainId:o.chainId,ensAddress:t.ensAddress||o.ensAddress||null,_defaultProvider:t._defaultProvider||o._defaultProvider||null}):("number"!=typeof t.chainId&&i.throwError("invalid network chainId",i.INVALID_ARGUMENT,{arg:"network",value:t}),t)}},{"../errors":5}],73:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/bytes"),i=t("./hmac");n.pbkdf2=function(t,e,n,o,a){var s;t=r.arrayify(t),e=r.arrayify(e);var u,c,l=1,h=new Uint8Array(o),f=new Uint8Array(e.length+4);f.set(e);for(var d=1;d<=l;d++){f[e.length]=d>>24&255,f[e.length+1]=d>>16&255,f[e.length+2]=d>>8&255,f[e.length+3]=255&d;var p=i.computeHmac(a,t,f);s||(s=p.length,c=new Uint8Array(s),u=o-((l=Math.ceil(o/s))-1)*s),c.set(p);for(var m=1;m<n;m++){p=i.computeHmac(a,t,p);for(var v=0;v<s;v++)c[v]^=p[v]}var g=(d-1)*s,y=d===l?u:s;h.set(r.arrayify(c).slice(0,y),g)}return r.arrayify(h)}},{"../utils/bytes":64,"./hmac":67}],74:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("../errors"));function o(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function a(t,e){return t&&t._ethersType===e}n.defineReadOnly=o,n.setType=function(t,e){Object.defineProperty(t,"_ethersType",{configurable:!1,value:e,writable:!1})},n.isType=a,n.resolveProperties=function(t){var e={},n=[];return Object.keys(t).forEach((function(r){var i=t[r];i instanceof Promise?n.push(i.then((function(t){return e[r]=t,null}))):e[r]=i})),Promise.all(n).then((function(){return e}))},n.checkProperties=function(t,e){t&&"object"==typeof t||i.throwError("invalid object",i.INVALID_ARGUMENT,{argument:"object",value:t}),Object.keys(t).forEach((function(n){e[n]||i.throwError("invalid object key - "+n,i.INVALID_ARGUMENT,{argument:"transaction",value:t,key:n})}))},n.shallowCopy=function(t){var e={};for(var n in t)e[n]=t[n];return e};var s={boolean:!0,number:!0,string:!0};n.deepCopy=function t(e,n){if(null==e||s[typeof e])return e;if(Array.isArray(e)){var r=e.map((function(e){return t(e,n)}));return n&&Object.freeze(r),r}if("object"==typeof e){if(a(e,"BigNumber"))return e;if(a(e,"Description"))return e;if(a(e,"Indexed"))return e;for(var i in r={},e){var u=e[i];void 0!==u&&o(r,i,t(u,n))}return n&&Object.freeze(r),r}if("function"==typeof e)return e;throw new Error("Cannot deepCopy "+typeof e)},n.inheritable=function t(e){return function(n){var r,i;i=e,(r=n).super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(n,"inherits",t(n))}}},{"../errors":5}],75:[function(t,e,n){(function(e){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/bytes"),i=t("../utils/properties"),o=e.crypto||e.msCrypto;function a(t){if(t<=0||1024<t||parseInt(String(t))!=t)throw new Error("invalid length");var e=new Uint8Array(t);return o.getRandomValues(e),r.arrayify(e)}o&&o.getRandomValues||(console.log("WARNING: Missing strong random number source; using weak randomBytes"),o={getRandomValues:function(t){for(var e=0;e<20;e++)for(var n=0;n<t.length;n++)e?t[n]^=Math.trunc(256*Math.random()):t[n]=Math.trunc(256*Math.random());return t},_weakCrypto:!0}),n.randomBytes=a,!0===o._weakCrypto&&i.defineReadOnly(a,"_weakCrypto",!0)}).call(this,void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/bytes":64,"../utils/properties":74}],76:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./bytes");function i(t){for(var e=[];t;)e.unshift(255&t),t>>=8;return e}function o(t,e,n){for(var r=0,i=0;i<n;i++)r=256*r+t[e+i];return r}function a(t,e,n,r){for(var i=[];n<e+1+r;){var o=s(t,n);if(i.push(o.result),e+1+r<(n+=o.consumed))throw new Error("invalid rlp")}return{consumed:1+r,result:i}}function s(t,e){if(0===t.length)throw new Error("invalid rlp data");if(248<=t[e]){if(e+1+(n=t[e]-247)>t.length)throw new Error("too short");if(e+1+n+(i=o(t,e+1,n))>t.length)throw new Error("to short");return a(t,e,e+1+n,n+i)}if(192<=t[e]){if(e+1+(i=t[e]-192)>t.length)throw new Error("invalid rlp data");return a(t,e,e+1,i)}if(184<=t[e]){var n;if(e+1+(n=t[e]-183)>t.length)throw new Error("invalid rlp data");if(e+1+n+(i=o(t,e+1,n))>t.length)throw new Error("invalid rlp data");return{consumed:1+n+i,result:r.hexlify(t.slice(e+1+n,e+1+n+i))}}if(128<=t[e]){var i;if(e+1+(i=t[e]-128)>t.length)throw new Error("invalid rlp data");return{consumed:1+i,result:r.hexlify(t.slice(e+1,e+1+i))}}return{consumed:1,result:r.hexlify(t[e])}}n.encode=function(t){return r.hexlify(function t(e){if(Array.isArray(e)){var n=[];return e.forEach((function(e){n=n.concat(t(e))})),n.length<=55?(n.unshift(192+n.length),n):((o=i(n.length)).unshift(247+o.length),o.concat(n))}var o,a=Array.prototype.slice.call(r.arrayify(e));return 1===a.length&&a[0]<=127?a:a.length<=55?(a.unshift(128+a.length),a):((o=i(a.length)).unshift(183+o.length),o.concat(a))}(t))},n.decode=function(t){var e=r.arrayify(t),n=s(e,0);if(n.consumed!==e.length)throw new Error("invalid rlp data");return n.result}},{"./bytes":64}],77:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=t("elliptic"),o=t("./address"),a=t("./bytes"),s=t("./hash"),u=t("./keccak256"),c=t("./properties"),l=r(t("../errors")),h=null;function f(){return h=h||new i.ec("secp256k1")}var d=(p.prototype.sign=function(t){var e=f().keyFromPrivate(a.arrayify(this.privateKey)).sign(a.arrayify(t),{canonical:!0});return{recoveryParam:e.recoveryParam,r:a.hexZeroPad("0x"+e.r.toString(16),32),s:a.hexZeroPad("0x"+e.s.toString(16),32),v:27+e.recoveryParam}},p.prototype.computeSharedSecret=function(t){var e=f().keyFromPrivate(a.arrayify(this.privateKey)),n=f().keyFromPublic(a.arrayify(m(t)));return a.hexZeroPad("0x"+e.derive(n.getPublic()).toString(16),32)},p.prototype._addPoint=function(t){var e=f().keyFromPublic(a.arrayify(this.publicKey)),n=f().keyFromPublic(a.arrayify(t));return"0x"+e.pub.add(n.pub).encodeCompressed("hex")},p);function p(t){var e=f().keyFromPrivate(a.arrayify(t));c.defineReadOnly(this,"privateKey",a.hexlify(e.priv.toArray("be",32))),c.defineReadOnly(this,"publicKey","0x"+e.getPublic(!1,"hex")),c.defineReadOnly(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),c.defineReadOnly(this,"publicKeyBytes",e.getPublic().encode(null,!0))}function m(t,e){var n=a.arrayify(t);if(32!==n.length)return 33===n.length?e?a.hexlify(n):"0x"+f().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?e?"0x"+f().keyFromPublic(n).getPublic(!0,"hex"):a.hexlify(n):(l.throwError("invalid public or private key",l.INVALID_ARGUMENT,{arg:"key",value:"[REDACTED]"}),null);var r=new d(n);return e?r.compressedPublicKey:r.publicKey}function v(t){var e="0x"+m(t).slice(4);return o.getAddress("0x"+u.keccak256(e).substring(26))}function g(t,e){var n=a.splitSignature(e),r={r:a.arrayify(n.r),s:a.arrayify(n.s)};return"0x"+f().recoverPubKey(a.arrayify(t),r,n.recoveryParam).encode("hex",!1)}function y(t,e){return v(g(a.arrayify(t),e))}n.KeyPair=d,n.computePublicKey=m,n.computeAddress=v,n.recoverPublicKey=g,n.recoverAddress=y,n.verifyMessage=function(t,e){return y(s.hashMessage(t),e)}},{"../errors":5,"./address":60,"./bytes":64,"./hash":65,"./keccak256":71,"./properties":74,elliptic:12}],78:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var o=r(t("aes-js")),a=r(t("scrypt-js")),s=r(t("uuid")),u=t("./signing-key"),c=i(t("./hdnode")),l=t("./address"),h=t("./bytes"),f=t("./pbkdf2"),d=t("./keccak256"),p=t("./utf8"),m=t("./random-bytes");function v(t){return"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),h.arrayify(t)}function g(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function y(t){return"string"==typeof t?p.toUtf8Bytes(t,p.UnicodeNormalizationForm.NFKC):h.arrayify(t)}function b(t,e){for(var n=t,r=e.toLowerCase().split("/"),i=0;i<r.length;i++){var o=null;for(var a in n)if(a.toLowerCase()===r[i]){o=n[a];break}if(null===o)return null;n=o}return n}n.decryptCrowdsale=function(t,e){var n=JSON.parse(t);e=y(e);var r=l.getAddress(b(n,"ethaddr")),i=v(b(n,"encseed"));if(!i||i.length%16!=0)throw new Error("invalid encseed");for(var a=f.pbkdf2(e,e,2e3,32,"sha256").slice(0,16),s=i.slice(0,16),c=i.slice(16),m=new o.default.ModeOfOperation.cbc(a,s),g=h.arrayify(m.decrypt(c)),w=(g=o.default.padding.pkcs7.strip(g),""),_=0;_<g.length;_++)w+=String.fromCharCode(g[_]);var k=p.toUtf8Bytes(w),x=new u.SigningKey(d.keccak256(k));if(x.address!==r)throw new Error("corrupt crowdsale wallet");return x},n.decrypt=function(t,e,n){function r(t,e){var n,r,a=v(b(i,"crypto/ciphertext"));if(h.hexlify((n=t.slice(16,32),r=a,d.keccak256(h.concat([n,r])))).substring(2)!==b(i,"crypto/mac").toLowerCase())return e(new Error("invalid password")),null;var s=function(t,e){if("aes-128-ctr"!==b(i,"crypto/cipher"))return null;var n=v(b(i,"crypto/cipherparams/iv")),r=new o.default.Counter(n),a=new o.default.ModeOfOperation.ctr(t,r);return h.arrayify(a.decrypt(e))}(t.slice(0,16),a),f=t.slice(32,64);if(!s)return e(new Error("unsupported cipher")),null;var p=new u.SigningKey(s);if(i.address&&p.address!==l.getAddress(i.address))return e(new Error("address mismatch")),null;var m=b(i,"x-ethers/locale");if("0.1"===b(i,"x-ethers/version")&&(null==m||"en"===m)){var g=v(b(i,"x-ethers/mnemonicCiphertext")),y=v(b(i,"x-ethers/mnemonicCounter")),w=new o.default.Counter(y),_=new o.default.ModeOfOperation.ctr(f,w),k=b(i,"x-ethers/path")||c.defaultPath,x=h.arrayify(_.decrypt(g)),E=c.entropyToMnemonic(x),I=c.fromMnemonic(E).derivePath(k);if(I.privateKey!=h.hexlify(s))return e(new Error("mnemonic mismatch")),null;p=new u.SigningKey(I)}return p}var i=JSON.parse(t),s=y(e);return new Promise((function(t,e){var o=b(i,"crypto/kdf");if(o&&"string"==typeof o)if("scrypt"===o.toLowerCase()){var u=v(b(i,"crypto/kdfparams/salt")),c=parseInt(b(i,"crypto/kdfparams/n")),l=parseInt(b(i,"crypto/kdfparams/r")),d=parseInt(b(i,"crypto/kdfparams/p"));if(!c||!l||!d)return void e(new Error("unsupported key-derivation function parameters"));if(0!=(c&c-1))return void e(new Error("unsupported key-derivation function parameter value for N"));if(32!==(g=parseInt(b(i,"crypto/kdfparams/dklen"))))return void e(new Error("unsupported key-derivation derived-key length"));n&&n(0),a.default(s,u,c,l,d,64,(function(i,o,a){if(i)i.progress=o,e(i);else if(a){var s=r(a=h.arrayify(a),e);if(!s)return;n&&n(1),t(s)}else if(n)return n(o)}))}else if("pbkdf2"===o.toLowerCase()){u=v(b(i,"crypto/kdfparams/salt"));var p=null,m=b(i,"crypto/kdfparams/prf");if("hmac-sha256"===m)p="sha256";else{if("hmac-sha512"!==m)return void e(new Error("unsupported prf"));p="sha512"}var g,y=parseInt(b(i,"crypto/kdfparams/c"));if(32!==(g=parseInt(b(i,"crypto/kdfparams/dklen"))))return void e(new Error("unsupported key-derivation derived-key length"));var w=r(f.pbkdf2(s,u,y,g,p),e);if(!w)return;t(w)}else e(new Error("unsupported key-derivation function"));else e(new Error("unsupported key-derivation function"))}))},n.encrypt=function(t,e,n,r){var i;if("function"!=typeof n||r||(r=n,n={}),n=n||{},32!==(i=u.SigningKey.isSigningKey(t)?h.arrayify(t.privateKey):h.arrayify(t)).length)throw new Error("invalid private key");var l=y(e),f=null;if(n.entropy&&(f=h.arrayify(n.entropy)),n.mnemonic)if(f){if(c.entropyToMnemonic(f)!==n.mnemonic)throw new Error("entropy and mnemonic mismatch")}else f=h.arrayify(c.mnemonicToEntropy(n.mnemonic,n.wordlist));var p=n.path;f&&!p&&(p=c.defaultPath);var v=(v=n.client)||"ethers.js",b=n.salt?h.arrayify(n.salt):m.randomBytes(32),w=null;if(n.iv){if(16!==(w=h.arrayify(n.iv)).length)throw new Error("invalid iv")}else w=m.randomBytes(16);var _=null;if(n.uuid){if(16!==(_=h.arrayify(n.uuid)).length)throw new Error("invalid uuid")}else _=m.randomBytes(16);var k=1<<17,x=8,E=1;return n.scrypt&&(n.scrypt.N&&(k=n.scrypt.N),n.scrypt.r&&(x=n.scrypt.r),n.scrypt.p&&(E=n.scrypt.p)),new Promise((function(t,e){r&&r(0),a.default(l,b,k,x,E,64,(function(a,c,l){if(a)a.progress=c,e(a);else if(l){var y,I,T,S,C,A,P=(l=h.arrayify(l)).slice(0,16),M=l.slice(16,32),N=l.slice(32,64),L=new u.SigningKey(i).address,O=new o.default.Counter(w),R=new o.default.ModeOfOperation.ctr(P,O),B=h.arrayify(R.encrypt(i)),D=d.keccak256(h.concat([M,B])),j={address:L.substring(2).toLowerCase(),id:s.default.v4({random:_}),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:h.hexlify(w).substring(2)},ciphertext:h.hexlify(B).substring(2),kdf:"scrypt",kdfparams:{salt:h.hexlify(b).substring(2),n:k,dklen:32,p:E,r:x},mac:D.substring(2)}};f&&(y=m.randomBytes(16),I=new o.default.Counter(y),T=new o.default.ModeOfOperation.ctr(N,I),S=h.arrayify(T.encrypt(f)),A=(C=new Date).getUTCFullYear()+"-"+g(C.getUTCMonth()+1,2)+"-"+g(C.getUTCDate(),2)+"T"+g(C.getUTCHours(),2)+"-"+g(C.getUTCMinutes(),2)+"-"+g(C.getUTCSeconds(),2)+".0Z",j["x-ethers"]={client:v,gethFilename:"UTC--"+A+"--"+j.address,mnemonicCounter:h.hexlify(y).substring(2),mnemonicCiphertext:h.hexlify(S).substring(2),path:p,version:"0.1"},n.wordlist&&"string"==typeof n.wordlist.locale&&(j["x-ethers"].locale=n.wordlist.locale)),r&&r(1),t(JSON.stringify(j))}else if(r)return r(c)}))}))}},{"./address":60,"./bytes":64,"./hdnode":66,"./keccak256":71,"./pbkdf2":73,"./random-bytes":75,"./signing-key":81,"./utf8":85,"aes-js":8,"scrypt-js":44,uuid:48}],79:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("hash.js")),o=t("./bytes");n.ripemd160=function(t){return"0x"+i.default.ripemd160().update(o.arrayify(t)).digest("hex")},n.sha256=function(t){return"0x"+i.default.sha256().update(o.arrayify(t)).digest("hex")},n.sha512=function(t){return"0x"+i.default.sha512().update(o.arrayify(t)).digest("hex")}},{"./bytes":64,"hash.js":26}],80:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),t("setimmediate"),n.platform="browser"},{setimmediate:45}],81:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./hdnode"),o=t("./bytes"),a=t("./properties"),s=t("./secp256k1"),u=r(t("../errors")),c=(l.prototype.signDigest=function(t){return this.keyPair.sign(t)},l.prototype.computeSharedSecret=function(t){return this.keyPair.computeSharedSecret(o.arrayify(t))},l.isSigningKey=function(t){return a.isType(t,"SigningKey")},l);function l(t){u.checkNew(this,l);var e=i.HDNode.isHDNode(t)?(a.defineReadOnly(this,"mnemonic",t.mnemonic),a.defineReadOnly(this,"path",t.path),o.arrayify(t.privateKey)):("string"==typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t),o.arrayify(t));try{32!==e.length&&u.throwError("exactly 32 bytes required",u.INVALID_ARGUMENT,{arg:"privateKey",value:"[REDACTED]"})}catch(t){var n={arg:"privateKey",reason:t.reason,value:"[REDACTED]"};t.value&&("number"==typeof t.value.length&&(n.length=t.value.length),n.type=typeof t.value),u.throwError("invalid private key",t.code,n)}a.defineReadOnly(this,"privateKey",o.hexlify(e)),a.defineReadOnly(this,"keyPair",new s.KeyPair(e)),a.defineReadOnly(this,"publicKey",this.keyPair.publicKey),a.defineReadOnly(this,"address",s.computeAddress(this.keyPair.publicKey)),a.setType(this,"SigningKey")}n.SigningKey=c},{"../errors":5,"./bytes":64,"./hdnode":66,"./properties":74,"./secp256k1":77}],82:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./bignumber"),i=t("./bytes"),o=t("./utf8"),a=t("./keccak256"),s=t("./sha2"),u=new RegExp("^bytes([0-9]+)$"),c=new RegExp("^(u?int)([0-9]*)$"),l=new RegExp("^(.*)\\[([0-9]*)\\]$");function h(t,e){if(t.length!=e.length)throw new Error("type/value count mismatch");var n=[];return t.forEach((function(t,a){n.push(function t(e,n,a){switch(e){case"address":return a?i.padZeros(n,32):i.arrayify(n);case"string":return o.toUtf8Bytes(n);case"bytes":return i.arrayify(n);case"bool":return n=n?"0x01":"0x00",a?i.padZeros(n,32):i.arrayify(n)}var s=e.match(c);if(s){if((h=parseInt(s[2]||"256"))%8!=0||0===h||256<h)throw new Error("invalid number type - "+e);return a&&(h=256),n=r.bigNumberify(n).toTwos(h),i.padZeros(n,h/8)}if(s=e.match(u)){var h=parseInt(s[1]);if(String(h)!=s[1]||0===h||32<h)throw new Error("invalid number type - "+e);if(i.arrayify(n).byteLength!==h)throw new Error("invalid value for "+e);return a?i.arrayify((n+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):n}if((s=e.match(l))&&Array.isArray(n)){var f=s[1];if(parseInt(s[2]||String(n.length))!=n.length)throw new Error("invalid value for "+e);var d=[];return n.forEach((function(e){d.push(t(f,e,!0))})),i.concat(d)}throw new Error("unknown type - "+e)}(t,e[a]))})),i.hexlify(i.concat(n))}n.pack=h,n.keccak256=function(t,e){return a.keccak256(h(t,e))},n.sha256=function(t,e){return s.sha256(h(t,e))}},{"./bignumber":63,"./bytes":64,"./keccak256":71,"./sha2":79,"./utf8":85}],83:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants"),o=r(t("../errors")),a=t("./secp256k1"),s=t("./address"),u=t("./bignumber"),c=t("./bytes"),l=t("./keccak256"),h=t("./properties"),f=r(t("./rlp")),d=t("../providers/abstract-provider");function p(t){return"0x"===t?i.Zero:u.bigNumberify(t)}var m=[{name:"nonce",maxLength:32},{name:"gasPrice",maxLength:32},{name:"gasLimit",maxLength:32},{name:"to",length:20},{name:"value",maxLength:32},{name:"data"}],v={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};n.serialize=function(t,e){h.checkProperties(t,v);var n=[];m.forEach((function(e){var r=t[e.name]||[];r=c.arrayify(c.hexlify(r)),e.length&&r.length!==e.length&&0<r.length&&o.throwError("invalid length for "+e.name,o.INVALID_ARGUMENT,{arg:"transaction"+e.name,value:r}),e.maxLength&&(r=c.stripZeros(r)).length>e.maxLength&&o.throwError("invalid length for "+e.name,o.INVALID_ARGUMENT,{arg:"transaction"+e.name,value:r}),n.push(c.hexlify(r))})),null!=t.chainId&&0!==t.chainId&&(n.push(c.hexlify(t.chainId)),n.push("0x"),n.push("0x"));var r=f.encode(n);if(!e)return r;var i=c.splitSignature(e),a=27+i.recoveryParam;return 9===n.length&&(n.pop(),n.pop(),n.pop(),a+=2*t.chainId+8),n.push(c.hexlify(a)),n.push(c.stripZeros(c.arrayify(i.r))),n.push(c.stripZeros(c.arrayify(i.s))),f.encode(n)},n.parse=function(t){var e=f.decode(t);9!==e.length&&6!==e.length&&o.throwError("invalid raw transaction",o.INVALID_ARGUMENT,{arg:"rawTransactin",value:t});var n,r={nonce:p(e[0]).toNumber(),gasPrice:p(e[1]),gasLimit:p(e[2]),to:"0x"===(n=e[3])?null:s.getAddress(n),value:p(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=u.bigNumberify(e[6]).toNumber()}catch(t){return o.info(t),r}if(r.r=c.hexZeroPad(e[7],32),r.s=c.hexZeroPad(e[8],32),u.bigNumberify(r.r).isZero()&&u.bigNumberify(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var i=r.v-27,h=e.slice(0,6);0!==r.chainId&&(h.push(c.hexlify(r.chainId)),h.push("0x"),h.push("0x"),i-=2*r.chainId+8);var d=l.keccak256(f.encode(h));try{r.from=a.recoverAddress(d,{r:c.hexlify(r.r),s:c.hexlify(r.s),recoveryParam:i})}catch(t){o.info(t)}r.hash=l.keccak256(t)}return r},n.populateTransaction=function(t,e,n){d.Provider.isProvider(e)||o.throwError("missing provider",o.INVALID_ARGUMENT,{argument:"provider",value:e}),h.checkProperties(t,v);var r,i=h.shallowCopy(t);return null!=i.to&&(i.to=e.resolveName(i.to)),null==i.gasPrice&&(i.gasPrice=e.getGasPrice()),null==i.nonce&&(i.nonce=e.getTransactionCount(n)),null==i.gasLimit&&((r=h.shallowCopy(i)).from=n,i.gasLimit=e.estimateGas(r)),null==i.chainId&&(i.chainId=e.getNetwork().then((function(t){return t.chainId}))),h.resolveProperties(i)}},{"../constants":3,"../errors":5,"../providers/abstract-provider":50,"./address":60,"./bignumber":63,"./bytes":64,"./keccak256":71,"./properties":74,"./rlp":76,"./secp256k1":77}],84:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("../constants"),a=r(t("../errors")),s=t("./bignumber"),u={};function c(t){return{decimals:t.length-1,tenPower:s.bigNumberify(t)}}function l(t){var e=u[String(t).toLowerCase()];if(!e&&"number"==typeof t&&parseInt(String(t))==t&&0<=t&&t<=256){for(var n="1",r=0;r<t;r++)n+="0";e=c(n)}return e||a.throwError("invalid unitType",a.INVALID_ARGUMENT,{argument:"name",value:t}),e}function h(t,e){var n=l(e),r=(t=s.bigNumberify(t)).lt(o.Zero);r&&(t=t.mul(o.NegativeOne));for(var i=t.mod(n.tenPower).toString();i.length<n.decimals;)i="0"+i;return i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1],t=t.div(n.tenPower).toString()+"."+i,r&&(t="-"+t),t}function f(t,e){null==e&&(e=18);var n=l(e);if("string"==typeof t&&t.match(/^-?[0-9.,]+$/)||a.throwError("invalid decimal value",a.INVALID_ARGUMENT,{arg:"value",value:t}),0===n.decimals)return s.bigNumberify(t);var r="-"===t.substring(0,1);r&&(t=t.substring(1)),"."===t&&a.throwError("missing value",a.INVALID_ARGUMENT,{arg:"value",value:t});var i=t.split(".");2<i.length&&a.throwError("too many decimal points",a.INVALID_ARGUMENT,{arg:"value",value:t});var u=i[0],c=i[1];for(u=u||"0",(c=c||"0").length>n.decimals&&a.throwError("underflow occurred",a.NUMERIC_FAULT,{operation:"division",fault:"underflow"});c.length<n.decimals;)c+="0";var h=s.bigNumberify(u),f=s.bigNumberify(c),d=h.mul(n.tenPower).add(f);return r&&(d=d.mul(o.NegativeOne)),d}i="1",["wei","kwei","Mwei","Gwei","szabo","finney","ether"].forEach((function(t){var e=c(i);u[t.toLowerCase()]=e,u[String(e.decimals)]=e,i+="000"})),n.commify=function(t){var e=String(t).split(".");(2<e.length||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||"."===t||"-."===t)&&a.throwError("invalid value",a.INVALID_ARGUMENT,{argument:"value",value:t});var n=e[0],r="";for("-"===n.substring(0,1)&&(r="-",n=n.substring(1));"0"===n.substring(0,1);)n=n.substring(1);""===n&&(n="0");var i="";2===e.length&&(i="."+(e[1]||"0"));for(var o=[];n.length;){if(n.length<=3){o.unshift(n);break}var s=n.length-3;o.unshift(n.substring(s)),n=n.substring(0,s)}return r+o.join(",")+i},n.formatUnits=h,n.parseUnits=f,n.formatEther=function(t){return h(t,18)},n.parseEther=function(t){return f(t,18)}},{"../constants":3,"../errors":5,"./bignumber":63}],85:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i,o=t("../constants"),a=t("../errors"),s=t("./bytes");function u(t,e){void 0===e&&(e=r.current),e!=r.current&&(a.checkNormalize(),t=t.normalize(e));for(var n=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o<128)n.push(o);else if(o<2048)n.push(o>>6|192),n.push(63&o|128);else if(55296==(64512&o)){i++;var u=t.charCodeAt(i);if(i>=t.length||56320!=(64512&u))throw new Error("invalid utf-8 string");o=65536+((1023&o)<<10)+(1023&u),n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)}else n.push(o>>12|224),n.push(o>>6&63|128),n.push(63&o|128)}return s.arrayify(n)}function c(t,e){t=s.arrayify(t);for(var n="",r=0;r<t.length;){var i=t[r++];if(i>>7!=0){var o=null,a=null;if(192==(224&i))o=1,a=127;else if(224==(240&i))o=2,a=2047;else{if(240!=(248&i)){if(e)continue;if(128==(192&i))throw new Error("invalid utf8 byte sequence; unexpected continuation byte");throw new Error("invalid utf8 byte sequence; invalid prefix")}o=3,a=65535}if(r+o>t.length){if(!e)throw new Error("invalid utf8 byte sequence; too short");for(;r<t.length&&t[r]>>6==2;r++);}else{for(var u=i&(1<<8-o-1)-1,c=0;c<o;c++){var l=t[r];if(128!=(192&l)){u=null;break}u=u<<6|63&l,r++}if(null!==u)if(u<=a){if(!e)throw new Error("invalid utf8 byte sequence; overlong")}else if(1114111<u){if(!e)throw new Error("invalid utf8 byte sequence; out-of-range")}else if(55296<=u&&u<=57343){if(!e)throw new Error("invalid utf8 byte sequence; utf-16 surrogate")}else u<=65535?n+=String.fromCharCode(u):(u-=65536,n+=String.fromCharCode(55296+(u>>10&1023),56320+(1023&u)));else if(!e)throw new Error("invalid utf8 byte sequence; invalid continuation byte")}}else n+=String.fromCharCode(i)}return n}(i=r=n.UnicodeNormalizationForm||(n.UnicodeNormalizationForm={})).current="",i.NFC="NFC",i.NFD="NFD",i.NFKC="NFKC",i.NFKD="NFKD",n.toUtf8Bytes=u,n.toUtf8String=c,n.formatBytes32String=function(t){var e=u(t);if(31<e.length)throw new Error("bytes32 string must be less than 32 bytes");return s.hexlify(s.concat([e,o.HashZero]).slice(0,32))},n.parseBytes32String=function(t){var e=s.arrayify(t);if(32!==e.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==e[31])throw new Error("invalid bytes32 string - no null terminator");for(var n=31;0===e[n-1];)n--;return c(e.slice(0,n))}},{"../constants":3,"../errors":5,"./bytes":64}],86:[function(t,e,n){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var i=t("xmlhttprequest"),o=t("./base64"),a=t("./properties"),s=t("./utf8"),u=r(t("../errors"));n.fetchJson=function(t,e,n){var r,a={},c=null,l=12e4;if("string"==typeof t)c=t;else if("object"==typeof t){if(null==t.url&&u.throwError("missing URL",u.MISSING_ARGUMENT,{arg:"url"}),c=t.url,"number"==typeof t.timeout&&0<t.timeout&&(l=t.timeout),t.headers)for(var h in t.headers)a[h.toLowerCase()]={key:h,value:String(t.headers[h])};null!=t.user&&null!=t.password&&("https:"!==c.substring(0,6)&&!0!==t.allowInsecure&&u.throwError("basic authentication requires a secure https url",u.INVALID_ARGUMENT,{arg:"url",url:c,user:t.user,password:"[REDACTED]"}),r=t.user+":"+t.password,a.authorization={key:"Authorization",value:"Basic "+o.encode(s.toUtf8Bytes(r))})}return new Promise((function(t,r){function o(){null!=u&&(clearTimeout(u),u=null)}var s=new i.XMLHttpRequest,u=null;u=setTimeout((function(){null!=u&&(u=null,r(new Error("timeout")),setTimeout((function(){s.abort()}),0))}),l),e?(s.open("POST",c,!0),a["content-type"]={key:"Content-Type",value:"application/json"}):s.open("GET",c,!0),Object.keys(a).forEach((function(t){var e=a[t];s.setRequestHeader(e.key,e.value)})),s.onreadystatechange=function(){if(4===s.readyState){if(200!=s.status){o();var i=new Error("invalid response - "+s.status);return i.statusCode=s.status,s.responseText&&(i.responseText=s.responseText),void r(i)}var a=null;try{a=JSON.parse(s.responseText)}catch(i){o();var u=new Error("invalid json response");return u.orginialError=i,u.responseText=s.responseText,null!=e&&(u.requestBody=e),u.url=c,void r(u)}if(n)try{a=n(a)}catch(i){return o(),i.url=c,i.body=e,i.responseText=s.responseText,void r(i)}o(),t(a)}},s.onerror=function(t){o(),r(t)};try{null!=e?s.send(e):s.send()}catch(u){o();var h=new Error("connection error");h.error=u,r(h)}}))},n.poll=function(t,e){return e=e||{},null==(e=a.shallowCopy(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(n,r){var i=null,o=!1,a=function(){return!o&&(o=!0,i&&clearTimeout(i),!0)};e.timeout&&(i=setTimeout((function(){a()&&r(new Error("timeout"))}),e.timeout));var s=e.fastRetry||null,u=0;!function i(){return t().then((function(t){var r;return void 0!==t?a()&&n(t):e.onceBlock?e.onceBlock.once("block",i):o||(u++,(r=e.interval*parseInt(String(Math.random()*Math.pow(2,u))))<e.floor&&(r=e.floor),r>e.ceiling&&(r=e.ceiling),s&&(u--,r=s,s=null),setTimeout(i,r)),null}),(function(t){a()&&r(t)}))}()}))}},{"../errors":5,"./base64":61,"./properties":74,"./utf8":85,xmlhttprequest:49}],87:[function(t,e,n){(function(e){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/hash"),i=t("../utils/properties");n.check=function(t){for(var e=[],n=0;n<2048;n++){var i=t.getWord(n);if(n!==t.getWordIndex(i))return"0x";e.push(i)}return r.id(e.join("\n")+"\n")};var o=(a.prototype.split=function(t){return t.toLowerCase().split(/ +/g)},a.prototype.join=function(t){return t.join(" ")},a);function a(t){i.defineReadOnly(this,"locale",t)}n.Wordlist=o,n.register=function(t,e){e=e||t.locale}}).call(this,void 0!==It?It:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/hash":65,"../utils/properties":74}],88:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("./utils/bytes"),u=t("./utils/hash"),c=t("./utils/hdnode"),l=t("./utils/json-wallet"),h=t("./utils/keccak256"),f=t("./utils/properties"),d=t("./utils/random-bytes"),p=o(t("./utils/secret-storage")),m=t("./utils/signing-key"),v=t("./utils/transaction"),g=t("./abstract-signer"),y=t("./providers/abstract-provider"),b=o(t("./errors")),w=(i(_,a=g.Signer),Object.defineProperty(_.prototype,"address",{get:function(){return this.signingKey.address},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"mnemonic",{get:function(){return this.signingKey.mnemonic},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"path",{get:function(){return this.signingKey.path},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"privateKey",{get:function(){return this.signingKey.privateKey},enumerable:!0,configurable:!0}),_.prototype.connect=function(t){return y.Provider.isProvider(t)||b.throwError("invalid provider",b.INVALID_ARGUMENT,{argument:"provider",value:t}),new _(this.signingKey,t)},_.prototype.getAddress=function(){return Promise.resolve(this.address)},_.prototype.sign=function(t){var e=this;return f.resolveProperties(t).then((function(t){var n=v.serialize(t),r=e.signingKey.signDigest(h.keccak256(n));return v.serialize(t,r)}))},_.prototype.signMessage=function(t){return Promise.resolve(s.joinSignature(this.signingKey.signDigest(u.hashMessage(t))))},_.prototype.getBalance=function(t){if(!this.provider)throw new Error("missing provider");return this.provider.getBalance(this.address,t)},_.prototype.getTransactionCount=function(t){if(!this.provider)throw new Error("missing provider");return this.provider.getTransactionCount(this.address,t)},_.prototype.sendTransaction=function(t){var e=this;if(!this.provider)throw new Error("missing provider");return null==t.nonce&&((t=f.shallowCopy(t)).nonce=this.getTransactionCount("pending")),v.populateTransaction(t,this.provider,this.address).then((function(t){return e.sign(t).then((function(t){return e.provider.sendTransaction(t)}))}))},_.prototype.encrypt=function(t,e,n){if("function"!=typeof e||n||(n=e,e={}),n&&"function"!=typeof n)throw new Error("invalid callback");return e=e||{},this.mnemonic&&((e=f.shallowCopy(e)).mnemonic=this.mnemonic,e.path=this.path),p.encrypt(this.privateKey,t,e,n)},_.createRandom=function(t){var e=d.randomBytes(16);(t=t||{}).extraEntropy&&(e=s.arrayify(h.keccak256(s.concat([e,t.extraEntropy])).substring(0,34)));var n=c.entropyToMnemonic(e,t.locale);return _.fromMnemonic(n,t.path,t.locale)},_.fromEncryptedJson=function(t,e,n){if(l.isCrowdsaleWallet(t))try{n&&n(0);var r=p.decryptCrowdsale(t,e);return n&&n(1),Promise.resolve(new _(r))}catch(t){return Promise.reject(t)}else if(l.isSecretStorageWallet(t))return p.decrypt(t,e,n).then((function(t){return new _(t)}));return Promise.reject("invalid wallet JSON")},_.fromMnemonic=function(t,e,n){return e=e||c.defaultPath,new _(c.fromMnemonic(t,n).derivePath(e))},_);function _(t,e){var n=a.call(this)||this;return b.checkNew(n,_),m.SigningKey.isSigningKey(t)?f.defineReadOnly(n,"signingKey",t):f.defineReadOnly(n,"signingKey",new m.SigningKey(t)),f.defineReadOnly(n,"provider",e),n}n.Wallet=w},{"./abstract-signer":2,"./errors":5,"./providers/abstract-provider":50,"./utils/bytes":64,"./utils/hash":65,"./utils/hdnode":66,"./utils/json-wallet":70,"./utils/keccak256":71,"./utils/properties":74,"./utils/random-bytes":75,"./utils/secret-storage":78,"./utils/signing-key":81,"./utils/transaction":83}],89:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../wordlists/lang-en").langEn;n.en=r},{"../wordlists/lang-en":90}],90:[function(t,e,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o,a=t("../utils/wordlist"),s=null;function u(t){if(null==s&&(s="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==a.check(t)))throw s=null,new Error("BIP39 Wordlist for en (English) FAILED")}function c(){return o.call(this,"en")||this}var l=new(i(c,o=a.Wordlist),c.prototype.getWord=function(t){return u(this),s[t]},c.prototype.getWordIndex=function(t){return u(this),s.indexOf(t)},c);n.langEn=l,a.register(l)},{"../utils/wordlist":87}]},{},[7])(7)}))),rm=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],im=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"_rate",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"userData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"TokReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"userData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"TokSent",type:"event"},{inputs:[],name:"TOKENS_SENDER_INTERFACE_HASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"interfaceHash",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"canImplementInterfaceForAddress",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"changeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"crate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"senderFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"tokensToSend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],om=St((function(t,e){!function(){function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){a(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof It&&It.global===It?It:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,a){var s=i.URL||i.webkitURL,u=document.createElement("a");o=o||t.name||"download",u.download=o,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):n(u.href)?e(t,o,a):r(u,u.target="_blank")):(u.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){r(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(n(t))e(t,i,o);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){r(a)}))}}:function(t,n,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var s="application/octet-stream"===t.type,u=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&u||o)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},l.readAsDataURL(t)}else{var h=i.URL||i.webkitURL,f=h.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout((function(){h.revokeObjectURL(f)}),4e4)}});i.saveAs=a.saveAs=a,t.exports=a}()}));function am(e){let n,r,i,o,a,s,u,c,l;return{c(){n=x("div"),r=x("div"),r.innerHTML="<p>Это QR-Code (кью ар код) адрес вашего кошелька.</p> \n        <p>Покажите отправителю для сканирования кода.</p>",i=I(),o=x("div"),a=I(),s=x("div"),u=x("button"),u.textContent="Закрыть",C(r,"class","mt-4 text-center text-sm"),C(o,"id","qrcode"),C(o,"class","px-10 mx-auto mt-6 text-center"),C(u,"class","btn-gray"),C(s,"class","mt-8 text-center"),C(n,"class","pt-16 px-2 min-h-screen w-full bg-white")},m(t,h){w(t,n,h),b(n,r),b(n,i),b(n,o),b(n,a),b(n,s),b(s,u),c||(l=S(u,"click",e[3]),c=!0)},p:t,i:t,o:t,d(t){t&&_(n),c=!1,l()}}}function sm(t,e,n){let{codeValue:r}=e,{squareSize:i}=e;const o=H();let a;V(()=>{let t=document.createElement("script");t.src="/js/qrcode.js",document.head.append(t),t.onload=function(){a=new QRCode("qrcode",{text:r,width:i,height:i,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}});return t.$$set=t=>{"codeValue"in t&&n(1,r=t.codeValue),"squareSize"in t&&n(2,i=t.squareSize)},[o,r,i,()=>o("close")]}class um extends xt{constructor(t){super(),kt(this,t,sm,am,s,{codeValue:1,squareSize:2})}}var cm=Tt(St((function(t,e){!function(e,n){t.exports=n()}("undefined"!=typeof self&&self,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.width=e,this.height=t.length/e,this.data=t}return t.createEmpty=function(e,n){return new t(new Uint8ClampedArray(e*n),e)},t.prototype.get=function(t,e){return!(t<0||t>=this.width||e<0||e>=this.height)&&!!this.data[e*this.width+t]},t.prototype.set=function(t,e,n){this.data[e*this.width+t]=n?1:0},t.prototype.setRegion=function(t,e,n,r,i){for(var o=e;o<e+r;o++)for(var a=t;a<t+n;a++)this.set(a,o,!!i)},t}();e.BitMatrix=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.addOrSubtractGF=function(t,e){return t^e};var i=function(){function t(t,e,n){this.primitive=t,this.size=e,this.generatorBase=n,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var i=1,o=0;o<this.size;o++)this.expTable[o]=i,(i*=2)>=this.size&&(i=(i^this.primitive)&this.size-1);for(o=0;o<this.size-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new r.default(this,Uint8ClampedArray.from([0])),this.one=new r.default(this,Uint8ClampedArray.from([1]))}return t.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]},t.prototype.inverse=function(t){if(0===t)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[t]-1]},t.prototype.buildMonomial=function(t,e){if(t<0)throw new Error("Invalid monomial degree less than 0");if(0===e)return this.zero;var n=new Uint8ClampedArray(t+1);return n[0]=e,new r.default(this,n)},t.prototype.log=function(t){if(0===t)throw new Error("Can't take log(0)");return this.logTable[t]},t.prototype.exp=function(t){return this.expTable[t]},t}();e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(t,e){if(0===e.length)throw new Error("No coefficients.");this.field=t;var n=e.length;if(n>1&&0===e[0]){for(var r=1;r<n&&0===e[r];)r++;if(r===n)this.coefficients=t.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=e[r+i]}}else this.coefficients=e}return t.prototype.degree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.addOrSubtract=function(e){var n;if(this.isZero())return e;if(e.isZero())return this;var i=this.coefficients,o=e.coefficients;i.length>o.length&&(i=(n=[o,i])[0],o=n[1]);for(var a=new Uint8ClampedArray(o.length),s=o.length-i.length,u=0;u<s;u++)a[u]=o[u];for(u=s;u<o.length;u++)a[u]=r.addOrSubtractGF(i[u-s],o[u]);return new t(this.field,a)},t.prototype.multiply=function(e){if(0===e)return this.field.zero;if(1===e)return this;for(var n=this.coefficients.length,r=new Uint8ClampedArray(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyPoly=function(e){if(this.isZero()||e.isZero())return this.field.zero;for(var n=this.coefficients,i=n.length,o=e.coefficients,a=o.length,s=new Uint8ClampedArray(i+a-1),u=0;u<i;u++)for(var c=n[u],l=0;l<a;l++)s[u+l]=r.addOrSubtractGF(s[u+l],this.field.multiply(c,o[l]));return new t(this.field,s)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Error("Invalid degree less than 0");if(0===n)return this.field.zero;for(var r=this.coefficients.length,i=new Uint8ClampedArray(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new t(this.field,i)},t.prototype.evaluateAt=function(t){var e=0;if(0===t)return this.getCoefficient(0);var n=this.coefficients.length;if(1===t)return this.coefficients.forEach((function(t){e=r.addOrSubtractGF(e,t)})),e;e=this.coefficients[0];for(var i=1;i<n;i++)e=r.addOrSubtractGF(this.field.multiply(t,e),this.coefficients[i]);return e},t}();e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(5),o=n(11),a=n(12);function s(t){var e=a.locate(t);if(!e)return null;for(var n=0,r=e;n<r.length;n++){var s=r[n],u=o.extract(t,s),c=i.decode(u.matrix);if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,location:{topRightCorner:u.mappingFunction(s.dimension,0),topLeftCorner:u.mappingFunction(0,0),bottomRightCorner:u.mappingFunction(s.dimension,s.dimension),bottomLeftCorner:u.mappingFunction(0,s.dimension),topRightFinderPattern:s.topRight,topLeftFinderPattern:s.topLeft,bottomLeftFinderPattern:s.bottomLeft,bottomRightAlignmentPattern:s.alignmentPattern}}}return null}var u={inversionAttempts:"attemptBoth"};function c(t,e,n,i){void 0===i&&(i={});var o=u;Object.keys(o||{}).forEach((function(t){o[t]=i[t]||o[t]}));var a="attemptBoth"===o.inversionAttempts||"invertFirst"===o.inversionAttempts,c="onlyInvert"===o.inversionAttempts||"invertFirst"===o.inversionAttempts,l=r.binarize(t,e,n,a),h=l.binarized,f=l.inverted,d=s(c?f:h);return d||"attemptBoth"!==o.inversionAttempts&&"invertFirst"!==o.inversionAttempts||(d=s(c?h:f)),d}c.default=c,e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);function i(t,e,n){return t<e?e:t>n?n:t}var o=function(){function t(t,e){this.width=t,this.data=new Uint8ClampedArray(t*e)}return t.prototype.get=function(t,e){return this.data[e*this.width+t]},t.prototype.set=function(t,e,n){this.data[e*this.width+t]=n},t}();e.binarize=function(t,e,n,a){if(t.length!==e*n*4)throw new Error("Malformed data passed to binarizer.");for(var s=new o(e,n),u=0;u<e;u++)for(var c=0;c<n;c++){var l=t[4*(c*e+u)+0],h=t[4*(c*e+u)+1],f=t[4*(c*e+u)+2];s.set(u,c,.2126*l+.7152*h+.0722*f)}for(var d=Math.ceil(e/8),p=Math.ceil(n/8),m=new o(d,p),v=0;v<p;v++)for(var g=0;g<d;g++){var y=0,b=1/0,w=0;for(c=0;c<8;c++)for(u=0;u<8;u++){var _=s.get(8*g+u,8*v+c);y+=_,b=Math.min(b,_),w=Math.max(w,_)}var k=y/Math.pow(8,2);if(w-b<=24&&(k=b/2,v>0&&g>0)){var x=(m.get(g,v-1)+2*m.get(g-1,v)+m.get(g-1,v-1))/4;b<x&&(k=x)}m.set(g,v,k)}var E=r.BitMatrix.createEmpty(e,n),I=null;for(a&&(I=r.BitMatrix.createEmpty(e,n)),v=0;v<p;v++)for(g=0;g<d;g++){for(var T=i(g,2,d-3),S=i(v,2,p-3),C=(y=0,-2);C<=2;C++)for(var A=-2;A<=2;A++)y+=m.get(T+C,S+A);var P=y/25;for(C=0;C<8;C++)for(A=0;A<8;A++){u=8*g+C,c=8*v+A;var M=s.get(u,c);E.set(u,c,M<=P),a&&I.set(u,c,!(M<=P))}}return a?{binarized:E,inverted:I}:{binarized:E}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(6),o=n(9),a=n(10);function s(t,e){for(var n=t^e,r=0;n;)r++,n&=n-1;return r}function u(t,e){return e<<1|t}var c=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],l=[function(t){return(t.y+t.x)%2==0},function(t){return t.y%2==0},function(t){return t.x%3==0},function(t){return(t.y+t.x)%3==0},function(t){return(Math.floor(t.y/2)+Math.floor(t.x/3))%2==0},function(t){return t.x*t.y%2+t.x*t.y%3==0},function(t){return(t.y*t.x%2+t.y*t.x%3)%2==0},function(t){return((t.y+t.x)%2+t.y*t.x%3)%2==0}];function h(t,e,n){for(var i=l[n.dataMask],o=t.height,a=function(t){var e=17+4*t.versionNumber,n=r.BitMatrix.createEmpty(e,e);n.setRegion(0,0,9,9,!0),n.setRegion(e-8,0,8,9,!0),n.setRegion(0,e-8,9,8,!0);for(var i=0,o=t.alignmentPatternCenters;i<o.length;i++)for(var a=o[i],s=0,u=t.alignmentPatternCenters;s<u.length;s++){var c=u[s];6===a&&6===c||6===a&&c===e-7||a===e-7&&6===c||n.setRegion(a-2,c-2,5,5,!0)}return n.setRegion(6,9,1,e-17,!0),n.setRegion(9,6,e-17,1,!0),t.versionNumber>6&&(n.setRegion(e-11,0,3,6,!0),n.setRegion(0,e-11,6,3,!0)),n}(e),s=[],c=0,h=0,f=!0,d=o-1;d>0;d-=2){6===d&&d--;for(var p=0;p<o;p++)for(var m=f?o-1-p:p,v=0;v<2;v++){var g=d-v;if(!a.get(g,m)){h++;var y=t.get(g,m);i({y:m,x:g})&&(y=!y),c=u(y,c),8===h&&(s.push(c),h=0,c=0)}}f=!f}return s}function f(t){var e=function(t){var e=t.height,n=Math.floor((e-17)/4);if(n<=6)return a.VERSIONS[n-1];for(var r=0,i=5;i>=0;i--)for(var o=e-9;o>=e-11;o--)r=u(t.get(o,i),r);var c=0;for(o=5;o>=0;o--)for(i=e-9;i>=e-11;i--)c=u(t.get(o,i),c);for(var l,h=1/0,f=0,d=a.VERSIONS;f<d.length;f++){var p=d[f];if(p.infoBits===r||p.infoBits===c)return p;var m=s(r,p.infoBits);m<h&&(l=p,h=m),(m=s(c,p.infoBits))<h&&(l=p,h=m)}return h<=3?l:void 0}(t);if(!e)return null;var n=function(t){for(var e=0,n=0;n<=8;n++)6!==n&&(e=u(t.get(n,8),e));for(var r=7;r>=0;r--)6!==r&&(e=u(t.get(8,r),e));var i=t.height,o=0;for(r=i-1;r>=i-7;r--)o=u(t.get(8,r),o);for(n=i-8;n<i;n++)o=u(t.get(n,8),o);for(var a=1/0,l=null,h=0,f=c;h<f.length;h++){var d=f[h],p=d.bits,m=d.formatInfo;if(p===e||p===o)return m;var v=s(e,p);v<a&&(l=m,a=v),e!==o&&(v=s(o,p))<a&&(l=m,a=v)}return a<=3?l:null}(t);if(!n)return null;var r=function(t,e,n){var r=e.errorCorrectionLevels[n],i=[],o=0;if(r.ecBlocks.forEach((function(t){for(var e=0;e<t.numBlocks;e++)i.push({numDataCodewords:t.dataCodewordsPerBlock,codewords:[]}),o+=t.dataCodewordsPerBlock+r.ecCodewordsPerBlock})),t.length<o)return null;t=t.slice(0,o);for(var a=r.ecBlocks[0].dataCodewordsPerBlock,s=0;s<a;s++)for(var u=0,c=i;u<c.length;u++){c[u].codewords.push(t.shift())}if(r.ecBlocks.length>1){var l=r.ecBlocks[0].numBlocks,h=r.ecBlocks[1].numBlocks;for(s=0;s<h;s++)i[l+s].codewords.push(t.shift())}for(;t.length>0;)for(var f=0,d=i;f<d.length;f++){d[f].codewords.push(t.shift())}return i}(h(t,e,n),e,n.errorCorrectionLevel);if(!r)return null;for(var l=r.reduce((function(t,e){return t+e.numDataCodewords}),0),f=new Uint8ClampedArray(l),d=0,p=0,m=r;p<m.length;p++){var v=m[p],g=o.decode(v.codewords,v.codewords.length-v.numDataCodewords);if(!g)return null;for(var y=0;y<v.numDataCodewords;y++)f[d++]=g[y]}try{return i.decode(f,e.versionNumber)}catch(t){return null}}e.decode=function(t){if(null==t)return null;var e=f(t);if(e)return e;for(var n=0;n<t.width;n++)for(var r=n+1;r<t.height;r++)t.get(n,r)!==t.get(r,n)&&(t.set(n,r,!t.get(n,r)),t.set(r,n,!t.get(r,n)));return f(t)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(7),a=n(8);function s(t,e){for(var n=[],r="",i=[10,12,14][e],o=t.readBits(i);o>=3;){if((c=t.readBits(10))>=1e3)throw new Error("Invalid numeric value above 999");var a=Math.floor(c/100),s=Math.floor(c/10)%10,u=c%10;n.push(48+a,48+s,48+u),r+=a.toString()+s.toString()+u.toString(),o-=3}if(2===o){if((c=t.readBits(7))>=100)throw new Error("Invalid numeric value above 99");a=Math.floor(c/10),s=c%10;n.push(48+a,48+s),r+=a.toString()+s.toString()}else if(1===o){var c;if((c=t.readBits(4))>=10)throw new Error("Invalid numeric value above 9");n.push(48+c),r+=c.toString()}return{bytes:n,text:r}}!function(t){t.Numeric="numeric",t.Alphanumeric="alphanumeric",t.Byte="byte",t.Kanji="kanji",t.ECI="eci"}(r=e.Mode||(e.Mode={})),function(t){t[t.Terminator=0]="Terminator",t[t.Numeric=1]="Numeric",t[t.Alphanumeric=2]="Alphanumeric",t[t.Byte=4]="Byte",t[t.Kanji=8]="Kanji",t[t.ECI=7]="ECI"}(i||(i={}));var u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function c(t,e){for(var n=[],r="",i=[9,11,13][e],o=t.readBits(i);o>=2;){var a=t.readBits(11),s=Math.floor(a/45),c=a%45;n.push(u[s].charCodeAt(0),u[c].charCodeAt(0)),r+=u[s]+u[c],o-=2}if(1===o){s=t.readBits(6);n.push(u[s].charCodeAt(0)),r+=u[s]}return{bytes:n,text:r}}function l(t,e){for(var n=[],r="",i=[8,16,16][e],o=t.readBits(i),a=0;a<o;a++){var s=t.readBits(8);n.push(s)}try{r+=decodeURIComponent(n.map((function(t){return"%"+("0"+t.toString(16)).substr(-2)})).join(""))}catch(t){}return{bytes:n,text:r}}function h(t,e){for(var n=[],r="",i=[8,10,12][e],o=t.readBits(i),s=0;s<o;s++){var u=t.readBits(13),c=Math.floor(u/192)<<8|u%192;c+=c<7936?33088:49472,n.push(c>>8,255&c),r+=String.fromCharCode(a.shiftJISTable[c])}return{bytes:n,text:r}}e.decode=function(t,e){for(var n,a,u,f,d=new o.BitStream(t),p=e<=9?0:e<=26?1:2,m={text:"",bytes:[],chunks:[]};d.available()>=4;){var v=d.readBits(4);if(v===i.Terminator)return m;if(v===i.ECI)0===d.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:d.readBits(7)}):0===d.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:d.readBits(14)}):0===d.readBits(1)?m.chunks.push({type:r.ECI,assignmentNumber:d.readBits(21)}):m.chunks.push({type:r.ECI,assignmentNumber:-1});else if(v===i.Numeric){var g=s(d,p);m.text+=g.text,(n=m.bytes).push.apply(n,g.bytes),m.chunks.push({type:r.Numeric,text:g.text})}else if(v===i.Alphanumeric){var y=c(d,p);m.text+=y.text,(a=m.bytes).push.apply(a,y.bytes),m.chunks.push({type:r.Alphanumeric,text:y.text})}else if(v===i.Byte){var b=l(d,p);m.text+=b.text,(u=m.bytes).push.apply(u,b.bytes),m.chunks.push({type:r.Byte,bytes:b.bytes,text:b.text})}else if(v===i.Kanji){var w=h(d,p);m.text+=w.text,(f=m.bytes).push.apply(f,w.bytes),m.chunks.push({type:r.Kanji,bytes:w.bytes,text:w.text})}}if(0===d.available()||0===d.readBits(d.available()))return m}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.byteOffset=0,this.bitOffset=0,this.bytes=t}return t.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Error("Cannot read "+t.toString()+" bits");var e=0;if(this.bitOffset>0){var n=8-this.bitOffset,r=t<n?t:n,i=255>>8-r<<(o=n-r);e=(this.bytes[this.byteOffset]&i)>>o,t-=r,this.bitOffset+=r,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(t>0){for(;t>=8;)e=e<<8|255&this.bytes[this.byteOffset],this.byteOffset++,t-=8;if(t>0){var o;i=255>>(o=8-t)<<o;e=e<<t|(this.bytes[this.byteOffset]&i)>>o,this.bitOffset+=t}}return e},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();e.BitStream=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(2);e.decode=function(t,e){var n=new Uint8ClampedArray(t.length);n.set(t);for(var o=new r.default(285,256,0),a=new i.default(o,n),s=new Uint8ClampedArray(e),u=!1,c=0;c<e;c++){var l=a.evaluateAt(o.exp(c+o.generatorBase));s[s.length-1-c]=l,0!==l&&(u=!0)}if(!u)return n;var h=new i.default(o,s),f=function(t,e,n,r){var i;e.degree()<n.degree()&&(e=(i=[n,e])[0],n=i[1]);for(var o=e,a=n,s=t.zero,u=t.one;a.degree()>=r/2;){var c=o,l=s;if(s=u,(o=a).isZero())return null;a=c;for(var h=t.zero,f=o.getCoefficient(o.degree()),d=t.inverse(f);a.degree()>=o.degree()&&!a.isZero();){var p=a.degree()-o.degree(),m=t.multiply(a.getCoefficient(a.degree()),d);h=h.addOrSubtract(t.buildMonomial(p,m)),a=a.addOrSubtract(o.multiplyByMonomial(p,m))}if(u=h.multiplyPoly(s).addOrSubtract(l),a.degree()>=o.degree())return null}var v=u.getCoefficient(0);if(0===v)return null;var g=t.inverse(v);return[u.multiply(g),a.multiply(g)]}(o,o.buildMonomial(e,1),h,e);if(null===f)return null;var d=function(t,e){var n=e.degree();if(1===n)return[e.getCoefficient(1)];for(var r=new Array(n),i=0,o=1;o<t.size&&i<n;o++)0===e.evaluateAt(o)&&(r[i]=t.inverse(o),i++);return i!==n?null:r}(o,f[0]);if(null==d)return null;for(var p=function(t,e,n){for(var i=n.length,o=new Array(i),a=0;a<i;a++){for(var s=t.inverse(n[a]),u=1,c=0;c<i;c++)a!==c&&(u=t.multiply(u,r.addOrSubtractGF(1,t.multiply(n[c],s))));o[a]=t.multiply(e.evaluateAt(s),t.inverse(u)),0!==t.generatorBase&&(o[a]=t.multiply(o[a],s))}return o}(o,f[1],d),m=0;m<d.length;m++){var v=n.length-1-o.log(d[m]);if(v<0)return null;n[v]=r.addOrSubtractGF(n[v],p[m])}return n}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);function i(t,e,n,r){var i=t.x-e.x+n.x-r.x,o=t.y-e.y+n.y-r.y;if(0===i&&0===o)return{a11:e.x-t.x,a12:e.y-t.y,a13:0,a21:n.x-e.x,a22:n.y-e.y,a23:0,a31:t.x,a32:t.y,a33:1};var a=e.x-n.x,s=r.x-n.x,u=e.y-n.y,c=r.y-n.y,l=a*c-s*u,h=(i*c-s*o)/l,f=(a*o-i*u)/l;return{a11:e.x-t.x+h*e.x,a12:e.y-t.y+h*e.y,a13:h,a21:r.x-t.x+f*r.x,a22:r.y-t.y+f*r.y,a23:f,a31:t.x,a32:t.y,a33:1}}e.extract=function(t,e){for(var n=function(t,e,n,r){var o=i(t,e,n,r);return{a11:o.a22*o.a33-o.a23*o.a32,a12:o.a13*o.a32-o.a12*o.a33,a13:o.a12*o.a23-o.a13*o.a22,a21:o.a23*o.a31-o.a21*o.a33,a22:o.a11*o.a33-o.a13*o.a31,a23:o.a13*o.a21-o.a11*o.a23,a31:o.a21*o.a32-o.a22*o.a31,a32:o.a12*o.a31-o.a11*o.a32,a33:o.a11*o.a22-o.a12*o.a21}}({x:3.5,y:3.5},{x:e.dimension-3.5,y:3.5},{x:e.dimension-6.5,y:e.dimension-6.5},{x:3.5,y:e.dimension-3.5}),o=function(t,e){return{a11:t.a11*e.a11+t.a21*e.a12+t.a31*e.a13,a12:t.a12*e.a11+t.a22*e.a12+t.a32*e.a13,a13:t.a13*e.a11+t.a23*e.a12+t.a33*e.a13,a21:t.a11*e.a21+t.a21*e.a22+t.a31*e.a23,a22:t.a12*e.a21+t.a22*e.a22+t.a32*e.a23,a23:t.a13*e.a21+t.a23*e.a22+t.a33*e.a23,a31:t.a11*e.a31+t.a21*e.a32+t.a31*e.a33,a32:t.a12*e.a31+t.a22*e.a32+t.a32*e.a33,a33:t.a13*e.a31+t.a23*e.a32+t.a33*e.a33}}(i(e.topLeft,e.topRight,e.alignmentPattern,e.bottomLeft),n),a=r.BitMatrix.createEmpty(e.dimension,e.dimension),s=function(t,e){var n=o.a13*t+o.a23*e+o.a33;return{x:(o.a11*t+o.a21*e+o.a31)/n,y:(o.a12*t+o.a22*e+o.a32)/n}},u=0;u<e.dimension;u++)for(var c=0;c<e.dimension;c++){var l=s(c+.5,u+.5);a.set(c,u,t.get(Math.floor(l.x),Math.floor(l.y)))}return{matrix:a,mappingFunction:s}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};function i(t){return t.reduce((function(t,e){return t+e}))}function o(t,e,n,i){var o,a,s,u,c=[{x:Math.floor(t.x),y:Math.floor(t.y)}],l=Math.abs(e.y-t.y)>Math.abs(e.x-t.x);l?(o=Math.floor(t.y),a=Math.floor(t.x),s=Math.floor(e.y),u=Math.floor(e.x)):(o=Math.floor(t.x),a=Math.floor(t.y),s=Math.floor(e.x),u=Math.floor(e.y));for(var h=Math.abs(s-o),f=Math.abs(u-a),d=Math.floor(-h/2),p=o<s?1:-1,m=a<u?1:-1,v=!0,g=o,y=a;g!==s+p;g+=p){var b=l?y:g,w=l?g:y;if(n.get(b,w)!==v&&(v=!v,c.push({x:b,y:w}),c.length===i+1))break;if((d+=f)>0){if(y===u)break;y+=m,d-=h}}for(var _=[],k=0;k<i;k++)c[k]&&c[k+1]?_.push(r(c[k],c[k+1])):_.push(0);return _}function a(t,e,n,r){var i,a=e.y-t.y,s=e.x-t.x,u=o(t,e,n,Math.ceil(r/2)),c=o(t,{x:t.x-s,y:t.y-a},n,Math.ceil(r/2)),l=u.shift()+c.shift()-1;return(i=c.concat(l)).concat.apply(i,u)}function s(t,e){var n=i(t)/i(e),r=0;return e.forEach((function(e,i){r+=Math.pow(t[i]-e*n,2)})),{averageSize:n,error:r}}function u(t,e,n){try{var r=a(t,{x:-1,y:t.y},n,e.length),i=a(t,{x:t.x,y:-1},n,e.length),o=a(t,{x:Math.max(0,t.x-t.y)-1,y:Math.max(0,t.y-t.x)-1},n,e.length),u=a(t,{x:Math.min(n.width,t.x+t.y)+1,y:Math.min(n.height,t.y+t.x)+1},n,e.length),c=s(r,e),l=s(i,e),h=s(o,e),f=s(u,e),d=Math.sqrt(c.error*c.error+l.error*l.error+h.error*h.error+f.error*f.error),p=(c.averageSize+l.averageSize+h.averageSize+f.averageSize)/4;return d+(Math.pow(c.averageSize-p,2)+Math.pow(l.averageSize-p,2)+Math.pow(h.averageSize-p,2)+Math.pow(f.averageSize-p,2))/p}catch(t){return 1/0}}function c(t,e){for(var n=Math.round(e.x);t.get(n,Math.round(e.y));)n--;for(var r=Math.round(e.x);t.get(r,Math.round(e.y));)r++;for(var i=(n+r)/2,o=Math.round(e.y);t.get(Math.round(i),o);)o--;for(var a=Math.round(e.y);t.get(Math.round(i),a);)a++;return{x:i,y:(o+a)/2}}function l(t,e,n,o,s){var c,l,h;try{c=function(t,e,n,o){var s=(i(a(t,n,o,5))/7+i(a(t,e,o,5))/7+i(a(n,t,o,5))/7+i(a(e,t,o,5))/7)/4;if(s<1)throw new Error("Invalid module size");var u=Math.round(r(t,e)/s),c=Math.round(r(t,n)/s),l=Math.floor((u+c)/2)+7;switch(l%4){case 0:l++;break;case 2:l--}return{dimension:l,moduleSize:s}}(o,n,s,t),l=c.dimension,h=c.moduleSize}catch(t){return null}var f=n.x-o.x+s.x,d=n.y-o.y+s.y,p=(r(o,s)+r(o,n))/2/h,m=1-3/p,v={x:o.x+m*(f-o.x),y:o.y+m*(d-o.y)},g=e.map((function(e){var n=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,o=(e.top.y+e.bottom.y+1)/2;if(t.get(Math.floor(n),Math.floor(o))){var a=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1];i(a);return{x:n,y:o,score:u({x:Math.floor(n),y:Math.floor(o)},[1,1,1],t)+r({x:n,y:o},v)}}})).filter((function(t){return!!t})).sort((function(t,e){return t.score-e.score}));return{alignmentPattern:p>=15&&g.length?g[0]:v,dimension:l}}e.locate=function(t){for(var e=[],n=[],o=[],a=[],s=function(r){for(var s=0,u=!1,c=[0,0,0,0,0],l=function(e){var o=t.get(e,r);if(o===u)s++;else{c=[c[1],c[2],c[3],c[4],s],s=1,u=o;var l=i(c)/7,h=Math.abs(c[0]-l)<l&&Math.abs(c[1]-l)<l&&Math.abs(c[2]-3*l)<3*l&&Math.abs(c[3]-l)<l&&Math.abs(c[4]-l)<l&&!o,f=i(c.slice(-3))/3,d=Math.abs(c[2]-f)<f&&Math.abs(c[3]-f)<f&&Math.abs(c[4]-f)<f&&o;if(h){var p=e-c[3]-c[4],m=p-c[2],v={startX:m,endX:p,y:r};(g=n.filter((function(t){return m>=t.bottom.startX&&m<=t.bottom.endX||p>=t.bottom.startX&&m<=t.bottom.endX||m<=t.bottom.startX&&p>=t.bottom.endX&&c[2]/(t.bottom.endX-t.bottom.startX)<1.5&&c[2]/(t.bottom.endX-t.bottom.startX)>.5}))).length>0?g[0].bottom=v:n.push({top:v,bottom:v})}if(d){var g,y=e-c[4],b=y-c[3];v={startX:b,y:r,endX:y};(g=a.filter((function(t){return b>=t.bottom.startX&&b<=t.bottom.endX||y>=t.bottom.startX&&b<=t.bottom.endX||b<=t.bottom.startX&&y>=t.bottom.endX&&c[2]/(t.bottom.endX-t.bottom.startX)<1.5&&c[2]/(t.bottom.endX-t.bottom.startX)>.5}))).length>0?g[0].bottom=v:a.push({top:v,bottom:v})}}},h=-1;h<=t.width;h++)l(h);e.push.apply(e,n.filter((function(t){return t.bottom.y!==r&&t.bottom.y-t.top.y>=2}))),n=n.filter((function(t){return t.bottom.y===r})),o.push.apply(o,a.filter((function(t){return t.bottom.y!==r}))),a=a.filter((function(t){return t.bottom.y===r}))},h=0;h<=t.height;h++)s(h);e.push.apply(e,n.filter((function(t){return t.bottom.y-t.top.y>=2}))),o.push.apply(o,a);var f=e.filter((function(t){return t.bottom.y-t.top.y>=2})).map((function(e){var n=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,r=(e.top.y+e.bottom.y+1)/2;if(t.get(Math.round(n),Math.round(r))){var o=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1],a=i(o)/o.length;return{score:u({x:Math.round(n),y:Math.round(r)},[1,1,3,1,1],t),x:n,y:r,size:a}}})).filter((function(t){return!!t})).sort((function(t,e){return t.score-e.score})).map((function(t,e,n){if(e>4)return null;var r=n.filter((function(t,n){return e!==n})).map((function(e){return{x:e.x,y:e.y,score:e.score+Math.pow(e.size-t.size,2)/t.size,size:e.size}})).sort((function(t,e){return t.score-e.score}));if(r.length<2)return null;var i=t.score+r[0].score+r[1].score;return{points:[t].concat(r.slice(0,2)),score:i}})).filter((function(t){return!!t})).sort((function(t,e){return t.score-e.score}));if(0===f.length)return null;var d=function(t,e,n){var i,o,a,s,u,c,l,h=r(t,e),f=r(e,n),d=r(t,n);return f>=h&&f>=d?(u=(i=[e,t,n])[0],c=i[1],l=i[2]):d>=f&&d>=h?(u=(o=[t,e,n])[0],c=o[1],l=o[2]):(u=(a=[t,n,e])[0],c=a[1],l=a[2]),(l.x-c.x)*(u.y-c.y)-(l.y-c.y)*(u.x-c.x)<0&&(u=(s=[l,u])[0],l=s[1]),{bottomLeft:u,topLeft:c,topRight:l}}(f[0].points[0],f[0].points[1],f[0].points[2]),p=d.topRight,m=d.topLeft,v=d.bottomLeft,g=l(t,o,p,m,v),y=[];g&&y.push({alignmentPattern:{x:g.alignmentPattern.x,y:g.alignmentPattern.y},bottomLeft:{x:v.x,y:v.y},dimension:g.dimension,topLeft:{x:m.x,y:m.y},topRight:{x:p.x,y:p.y}});var b=c(t,p),w=c(t,m),_=c(t,v),k=l(t,o,b,w,_);return k&&y.push({alignmentPattern:{x:k.alignmentPattern.x,y:k.alignmentPattern.y},bottomLeft:{x:_.x,y:_.y},topLeft:{x:w.x,y:w.y},topRight:{x:b.x,y:b.y},dimension:k.dimension}),0===y.length?null:y}}]).default}))})));function lm(t){let e,n,r;return{c(){e=x("div"),n=x("p"),r=E(t[1]),C(e,"class","mt-2 text-sm text-white text-center")},m(t,i){w(t,e,i),b(e,n),b(n,r)},p(t,e){2&e&&P(r,t[1])},d(t){t&&_(e)}}}function hm(e){let n,r,i,a,s,u,c,l,h,f,d,p,m,v=e[1]&&lm(e);return{c(){n=x("div"),r=x("div"),i=x("canvas"),u=I(),v&&v.c(),c=I(),l=x("div"),h=x("button"),h.textContent="Отмена",f=I(),d=x("button"),d.textContent="Сканировать",C(i,"width",a=320),C(i,"height",s=320),C(r,"id","canvas-container"),C(r,"class","mx-auto"),C(h,"class","btn-gray"),C(d,"class","btn-green"),C(l,"class","mt-10 text-center"),C(n,"class","mt-16 min-h-screen w-full bg-black")},m(t,o){w(t,n,o),b(n,r),b(r,i),e[4](i),b(n,u),v&&v.m(n,null),b(n,c),b(n,l),b(l,h),b(l,f),b(l,d),p||(m=[S(h,"click",e[5]),S(d,"click",e[3])],p=!0)},p(t,[e]){t[1]?v?v.p(t,e):(v=lm(t),v.c(),v.m(n,c)):v&&(v.d(1),v=null)},i:t,o:t,d(t){t&&_(n),e[4](null),v&&v.d(),p=!1,o(m)}}}function fm(t,e,n){const r=H();let i,o,a,s,u;function c(){a.drawImage(i,0,0,o.width,o.height),requestAnimationFrame(c)}function l(){s=a.getImageData(0,0,o.width,o.height);let t=cm(s.data,s.width,s.height,{inversionAttempts:"dontInvert"});t?(new Audio("./sounds/notification.mp3").play(),n(1,u=t.data),r("result",{result:u}),r("close")):setTimeout(l,300)}V(()=>{a=o.getContext("2d"),i=document.createElement("video")});return[o,u,r,function(){navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(t){i.setAttribute("playsinline",!0),i.srcObject=t,i.play(),c(),l()}))},function(t){K[t?"unshift":"push"](()=>{o=t,n(0,o)})},()=>r("close")]}class dm extends xt{constructor(t){super(),kt(this,t,fm,hm,s,{})}}function pm(t,e,n){const r=t.slice();return r[146]=e[n],r}function mm(t,e,n){const r=t.slice();return r[149]=e[n],r}function vm(t,e,n){const r=t.slice();return r[143]=e[n],r}function gm(t){let e;return{c(){e=x("div"),e.textContent="Загрузка...",C(e,"slot","loading"),C(e,"class","mt-16 text-white text-center")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function ym(t){let e;return{c(){e=x("progress"),C(e,"class","mt-2 w-full rounded-full overflow-hidden"),C(e,"max","100"),e.value=t[5]},m(t,n){w(t,e,n)},p(t,n){32&n[0]&&(e.value=t[5])},d(t){t&&_(e)}}}function bm(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v=null!=t[5]?ym(t):null;function g(){return t[59](t[36])}return{c(){e=x("div"),n=x("div"),r=x("div"),i=x("div"),i.innerHTML='<p class=" font-semibold text-center text-base">Добро пожаловать!</p> \n                                <p class=" mt-2">На данный момент у вас нет крипто-кошелька привязанного к аккаунту.\n                                    Создайте его прямо сейчас! Придумайте пароль для кошелька и нажмите кнопку &quot;Создать&quot;.</p> \n                                <p class="mt-1 text-red-600"><b>Внимание!</b> Кошелёк будет зашифрован с помощью этого пароля, если вы его забудете, то все средства\n                                    останутся там навсегда, так как нет другого способа его расшифровать. Рекомендуем записать пароль на бумаге\n                                    и хранить в надёжном месте.</p> \n                                <p class="mt-1 text-teal-600">После создания кошельки сохраняются в зашифрованном виде, и каждый раз при открытии необходимо вводить пароль.\n                                    Даже если злоумышленники получат доступ к вашему аккаунту, средства на кошельках останутся в сохранности.\n                                    Рекомендуем скачать копию кошелька в зашифрованном виде (файл JSON) или приватный ключ кошелька, для доступа к кошельку\n                                    из других источников. Кнопки появятся под адресом после создания: &quot;Показать приватный ключ&quot;, &quot;Скачать JSON-кошелёк&quot;.</p>',a=I(),s=x("div"),v&&v.c(),u=I(),c=x("div"),l=x("input"),h=I(),f=x("div"),d=x("button"),d.textContent="Создать",C(i,"class","text-justify leading-tight text-sm"),C(l,"class","input-password svelte-1gf1a8j"),C(l,"type","password"),C(l,"placeholder","Пароль"),C(c,"class","mt-3 text-center"),C(d,"class","btn-orange svelte-1gf1a8j"),C(f,"class","mt-3 text-center"),C(r,"class","welcome-block p-2 bg-gray-100 rounded-lg"),C(n,"class","welcome-container p-2 bg-gray-900 h-auto"),C(e,"slot","fallback")},m(o,y){w(o,e,y),b(e,n),b(n,r),b(r,i),b(r,a),b(r,s),v&&v.m(s,null),b(r,u),b(r,c),b(c,l),M(l,t[11]),b(r,h),b(r,f),b(f,d),p||(m=[S(l,"input",t[58]),S(d,"click",g,{once:!0})],p=!0)},p(e,n){null!=(t=e)[5]?v?v.p(t,n):(v=ym(t),v.c(),v.m(s,null)):v&&(v.d(1),v=null),2048&n[0]&&l.value!==t[11]&&M(l,t[11])},d(t){t&&_(e),v&&v.d(),p=!1,o(m)}}}function wm(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,A,M,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,et,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,dt,pt,mt,vt,gt,yt,bt,wt,_t,kt,xt,Et,It,Tt,St,Ct,At,Pt,Mt,Nt,Lt,Ot,Rt,Bt,Dt,jt,Ut,Ft,$t,zt,Vt,qt,Ht,Gt,Wt,Kt=t[23]&&km(t),Zt=t[31]&&Em(t);function Xt(t,e){return t[29]?Im:Tm}let Jt=Xt(t),Yt=Jt(t),Qt=t[29]&&Sm(t);function te(t,e){return t[30]?Cm:Am}let ee=te(t),ne=ee(t),re=t[30]&&Pm(t),ie=t[1]&&Mm(t),oe=t[16]&&Nm(t),ae=t[17]&&Om(t),se=t[27]&&Rm(t);function ue(t,e){return t[20]&&t[20].length>0?jm:Dm}let ce=ue(t),le=ce(t);return{c(){e=x("div"),n=x("div"),r=I(),i=x("div"),a=x("div"),s=x("div"),s.innerHTML='<span class="text-sm text-gray-700 font-semibold">Текущая сеть:</span> \n\n                                    \n                                    <span class="help svelte-1gf1a8j"><img src="./icons/help.svg" alt="help" class="w-4 h-4"/> \n                                        <span class="svelte-1gf1a8j">&quot;Homestead&quot; - главная сеть эфириума (Ethereum mainnet).\n                                            &quot;Ropsten&quot; - тестовая сеть эфириума (Ropsten testnet).\n                                            &quot;Rinkeby&quot; - тестовая сеть эфириума (Rinkeby mainnet).</span></span>',u=I(),c=x("div"),l=x("span"),h=x("select"),f=x("option"),f.textContent="homestead",d=x("option"),d.textContent="rinkeby",p=x("option"),p.textContent="ropsten",m=I(),Kt&&Kt.c(),v=I(),g=x("div"),y=x("div"),k=x("div"),k.innerHTML='<span class="text-sm text-gray-700 font-semibold">Текущий кошелёк:</span>',T=I(),A=x("div"),M=x("div"),N=x("div"),L=E(t[10]),O=I(),R=x("div"),B=x("img"),j=I(),U=x("div"),F=x("img"),z=I(),V=x("div"),q=x("button"),q.textContent="добавить +",H=I(),G=x("div"),W=x("div"),K=x("input"),Z=I(),X=x("div"),J=x("img"),Q=I(),tt=x("div"),et=x("span"),et.textContent="Показать приватный ключ",nt=I(),rt=x("span"),rt.textContent="JSON-кошелёк",it=I(),Zt&&Zt.c(),ot=I(),at=x("div"),st=x("div"),ut=x("div"),ut.innerHTML='<p class=" text-center font-semibold text-green-500">Баланс</p>',ct=I(),lt=x("div"),ht=x("div"),ft=x("div"),dt=x("div"),dt.textContent="ETH:",pt=I(),mt=x("div"),vt=E(t[32]),gt=I(),yt=x("div"),Yt.c(),bt=I(),Qt&&Qt.c(),wt=I(),_t=x("div"),kt=x("div"),xt=x("div"),xt.textContent="TAK:",Et=I(),It=x("div"),Tt=E(t[35]),St=I(),Ct=x("div"),ne.c(),At=I(),re&&re.c(),Pt=I(),Mt=x("div"),Nt=x("p"),Nt.textContent="Купить токены ТАК",Lt=I(),ie&&ie.c(),Ot=I(),Rt=x("div"),Bt=x("button"),Bt.textContent="Показать токены",Dt=I(),jt=x("button"),jt.textContent="Добавить токен",Ut=I(),oe&&oe.c(),Ft=I(),ae&&ae.c(),$t=I(),se&&se.c(),zt=I(),Vt=x("div"),qt=x("p"),qt.textContent="Транзакции",Ht=I(),le.c(),C(n,"class","wallet-header"),f.__value="homestead",f.value=f.__value,d.__value="rinkeby",d.value=d.__value,p.__value="ropsten",p.value=p.__value,C(h,"id","select-network"),C(h,"class","svelte-1gf1a8j"),C(a,"class"," flex flex-row justify-between items-center"),C(i,"class","wallet-block svelte-1gf1a8j"),C(N,"class","p-1 w-full border border-gray-400 bg-white rounded-lg"),B.src!==(D="./icons/unfold_more.svg")&&C(B,"src","./icons/unfold_more.svg"),C(B,"alt","copy"),C(B,"class","w-6 h-6 cursor-pointer"),C(R,"class","ml-1 p-1 rounded-full bg-teal-500 shadow-md"),C(M,"class"," flex flex-row"),F.src!==($="./icons/qr_code.svg")&&C(F,"src","./icons/qr_code.svg"),C(F,"alt","QR"),C(F,"class","w-8 h-8 cursor-pointer"),C(q,"class","btn-opt mb-2 svelte-1gf1a8j"),C(A,"class","flex flex-row justify-between items-center"),C(K,"id","wallet-address"),C(K,"type","text"),K.value=t[12],C(K,"class","svelte-1gf1a8j"),C(W,"class"," w-11/12"),J.src!==(Y="./icons/file-copy.svg")&&C(J,"src","./icons/file-copy.svg"),C(J,"alt","copy"),C(J,"class"," w-6 h-6 cursor-pointer"),C(X,"class","px-1"),C(G,"class","mt-1 flex flex-row justify-between items-center"),C(et,"class","link-wallet-secret svelte-1gf1a8j"),C(rt,"class","link-wallet-secret svelte-1gf1a8j"),C(g,"class","wallet-block svelte-1gf1a8j"),C(dt,"class","ml-1 font-semibold text-blue-500"),C(mt,"class"," text-orange-500"),C(ft,"class"," flex flex-row justify-between items-center"),C(ht,"class","token svelte-1gf1a8j"),C(xt,"class","ml-1 font-semibold text-blue-500"),C(It,"class"," text-orange-500"),C(kt,"class"," flex flex-row justify-between items-center"),C(_t,"class","token svelte-1gf1a8j"),C(Nt,"class","text-sm font-medium underline text-teal-500 cursor-pointer"),C(Mt,"class"," text-center"),C(lt,"class","mt-2 flex flex-col"),C(Bt,"class","btn-opt svelte-1gf1a8j"),C(jt,"class","btn-opt svelte-1gf1a8j"),C(Rt,"class","mt-2 text-center"),C(st,"class"," flex flex-col"),C(at,"class","wallet-block svelte-1gf1a8j"),C(qt,"class"," font-semibold text-teal-500 text-center"),C(Vt,"class","wallet-block svelte-1gf1a8j"),C(e,"class","wallet svelte-1gf1a8j")},m(o,_){w(o,e,_),b(e,n),b(e,r),b(e,i),b(i,a),b(a,s),b(a,u),b(a,c),b(c,l),b(l,h),b(h,f),b(h,d),b(h,p),b(e,m),Kt&&Kt.m(e,null),b(e,v),b(e,g),b(g,y),b(y,k),b(y,T),b(y,A),b(A,M),b(M,N),b(N,L),b(M,O),b(M,R),b(R,B),b(A,j),b(A,U),b(U,F),b(A,z),b(A,V),b(V,q),b(y,H),b(y,G),b(G,W),b(W,K),b(G,Z),b(G,X),b(X,J),b(y,Q),b(y,tt),b(tt,et),b(tt,nt),b(tt,rt),b(g,it),Zt&&Zt.m(g,null),b(e,ot),b(e,at),b(at,st),b(st,ut),b(st,ct),b(st,lt),b(lt,ht),b(ht,ft),b(ft,dt),b(ft,pt),b(ft,mt),b(mt,vt),b(ft,gt),b(ft,yt),Yt.m(yt,null),b(ht,bt),Qt&&Qt.m(ht,null),b(lt,wt),b(lt,_t),b(_t,kt),b(kt,xt),b(kt,Et),b(kt,It),b(It,Tt),b(kt,St),b(kt,Ct),ne.m(Ct,null),b(_t,At),re&&re.m(_t,null),b(lt,Pt),b(lt,Mt),b(Mt,Nt),b(Mt,Lt),ie&&ie.m(Mt,null),b(st,Ot),b(st,Rt),b(Rt,Bt),b(Rt,Dt),b(Rt,jt),b(at,Ut),oe&&oe.m(at,null),b(e,Ft),ae&&ae.m(e,null),b(e,$t),se&&se.m(e,null),b(e,zt),b(e,Vt),b(Vt,qt),b(Vt,Ht),le.m(Vt,null),Gt||(Wt=[S(h,"input",t[38]),S(B,"click",t[74]),S(F,"click",t[75]),S(q,"click",t[76]),S(J,"click",t[77]),S(et,"click",t[78]),S(rt,"click",t[79]),S(Nt,"click",t[91]),S(Bt,"click",t[48]),S(jt,"click",t[93])],Gt=!0)},p(t,n){t[23]?Kt?Kt.p(t,n):(Kt=km(t),Kt.c(),Kt.m(e,v)):Kt&&(Kt.d(1),Kt=null),1024&n[0]&&P(L,t[10]),4096&n[0]&&K.value!==t[12]&&(K.value=t[12]),t[31]?Zt?Zt.p(t,n):(Zt=Em(t),Zt.c(),Zt.m(g,null)):Zt&&(Zt.d(1),Zt=null),2&n[1]&&P(vt,t[32]),Jt===(Jt=Xt(t))&&Yt?Yt.p(t,n):(Yt.d(1),Yt=Jt(t),Yt&&(Yt.c(),Yt.m(yt,null))),t[29]?Qt?Qt.p(t,n):(Qt=Sm(t),Qt.c(),Qt.m(ht,null)):Qt&&(Qt.d(1),Qt=null),16&n[1]&&P(Tt,t[35]),ee===(ee=te(t))&&ne?ne.p(t,n):(ne.d(1),ne=ee(t),ne&&(ne.c(),ne.m(Ct,null))),t[30]?re?re.p(t,n):(re=Pm(t),re.c(),re.m(_t,null)):re&&(re.d(1),re=null),t[1]?ie?ie.p(t,n):(ie=Mm(t),ie.c(),ie.m(Mt,null)):ie&&(ie.d(1),ie=null),t[16]?oe?oe.p(t,n):(oe=Nm(t),oe.c(),oe.m(at,null)):oe&&(oe.d(1),oe=null),t[17]?ae?ae.p(t,n):(ae=Om(t),ae.c(),ae.m(e,$t)):ae&&(ae.d(1),ae=null),t[27]?se?se.p(t,n):(se=Rm(t),se.c(),se.m(e,zt)):se&&(se.d(1),se=null),ce===(ce=ue(t))&&le?le.p(t,n):(le.d(1),le=ce(t),le&&(le.c(),le.m(Vt,null)))},d(t){t&&_(e),Kt&&Kt.d(),Zt&&Zt.d(),Yt.d(),Qt&&Qt.d(),ne.d(),re&&re.d(),ie&&ie.d(),oe&&oe.d(),ae&&ae.d(),se&&se.d(),le.d(),Gt=!1,o(Wt)}}}function _m(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v;let g=function(t,e){return t[37].length>1?Hm:qm}(t)(t),y=null!=t[6]?Wm(t):null;return{c(){e=x("div"),n=x("p"),n.textContent="Выберите кошелёк:",r=I(),g.c(),i=I(),a=x("div"),a.innerHTML='<p class=" text-center font-semibold text-gray-700">Введите пароль кошелька:</p>',s=I(),u=x("div"),y&&y.c(),c=I(),l=x("div"),h=x("input"),f=I(),d=x("div"),p=x("button"),p.textContent="Открыть",C(n,"class","mb-2 font-semibold text-center text-gray-800"),C(a,"class","mt-3"),C(u,"class"," mx-auto text-center"),C(h,"class","input-password svelte-1gf1a8j"),C(h,"type","password"),C(l,"class","mt-2 text-center"),C(p,"class","btn-orange svelte-1gf1a8j"),C(d,"class","mt-4 text-center"),C(e,"class","auth-block p-4 bg-gray-100 rounded-lg")},m(o,_){w(o,e,_),b(e,n),b(e,r),g.m(e,null),b(e,i),b(e,a),b(e,s),b(e,u),y&&y.m(u,null),b(e,c),b(e,l),b(l,h),M(h,t[11]),b(e,f),b(e,d),b(d,p),m||(v=[S(h,"input",t[65]),S(p,"click",t[66])],m=!0)},p(t,e){g.p(t,e),null!=t[6]?y?y.p(t,e):(y=Wm(t),y.c(),y.m(u,null)):y&&(y.d(1),y=null),2048&e[0]&&h.value!==t[11]&&M(h,t[11])},d(t){t&&_(e),g.d(),y&&y.d(),m=!1,o(v)}}}function km(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T,A,P,N,L,O,R,B,D,j,U,F,$,z,V=null!=t[5]?xm(t):null;function q(){return t[70](t[36])}function H(){return t[72](t[36])}return{c(){e=x("div"),n=x("div"),r=x("div"),i=x("p"),i.textContent="Создать новый кошелёк:",a=I(),V&&V.c(),s=I(),u=x("p"),c=x("input"),l=I(),h=x("button"),h.textContent="Отмена",f=I(),d=x("p"),p=x("input"),m=I(),v=x("button"),v.textContent="Создать",g=I(),y=x("div"),k=x("p"),k.textContent="Импортировать существующий кошелёк и сохранить:",E=I(),T=x("p"),A=x("input"),P=I(),N=x("button"),N.textContent="Импорт",L=I(),O=x("div"),R=x("p"),R.textContent="Временный импорт:",B=I(),D=x("p"),j=x("input"),U=I(),F=x("button"),F.textContent="Импорт",C(i,"class"," text-sm text-center text-orange-600 font-semibold"),C(c,"class","input-field svelte-1gf1a8j"),C(c,"type","text"),C(c,"placeholder","Название кошелька"),C(h,"class","btn-gray ml-1 svelte-1gf1a8j"),C(u,"class","mt-2"),C(p,"class","input-field svelte-1gf1a8j"),C(p,"type","text"),C(p,"placeholder","Пароль кошелька"),C(v,"class","btn-orange svelte-1gf1a8j"),C(d,"class","mt-1"),C(k,"class"," text-sm text-center text-orange-600 font-semibold"),C(A,"class","input-field svelte-1gf1a8j"),C(A,"type","text"),C(A,"placeholder","Приватный ключ"),C(N,"class","btn-green svelte-1gf1a8j"),C(y,"class","mt-2"),C(R,"class"," text-sm text-center text-orange-600 font-semibold"),C(j,"class","input-field svelte-1gf1a8j"),C(j,"type","text"),C(j,"placeholder","Приватный ключ"),C(F,"class","btn-green svelte-1gf1a8j"),C(O,"class","mt-2"),C(n,"class"," flex flex-col"),C(e,"class","wallet-block svelte-1gf1a8j")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(r,i),b(r,a),V&&V.m(r,null),b(r,s),b(r,u),b(u,c),M(c,t[21]),b(u,l),b(u,h),b(r,f),b(r,d),b(d,p),M(p,t[22]),b(d,m),b(d,v),b(n,g),b(n,y),b(y,k),b(y,E),b(y,T),b(T,A),M(A,t[33]),b(T,P),b(T,N),b(n,L),b(n,O),b(O,R),b(O,B),b(O,D),b(D,j),M(j,t[33]),b(D,U),b(D,F),$||(z=[S(c,"input",t[67]),S(h,"click",t[68]),S(p,"input",t[69]),S(v,"click",q),S(A,"input",t[71]),S(N,"click",H),S(j,"input",t[73]),S(F,"click",t[42])],$=!0)},p(e,n){null!=(t=e)[5]?V?V.p(t,n):(V=xm(t),V.c(),V.m(r,s)):V&&(V.d(1),V=null),2097152&n[0]&&c.value!==t[21]&&M(c,t[21]),4194304&n[0]&&p.value!==t[22]&&M(p,t[22]),4&n[1]&&A.value!==t[33]&&M(A,t[33]),4&n[1]&&j.value!==t[33]&&M(j,t[33])},d(t){t&&_(e),V&&V.d(),$=!1,o(z)}}}function xm(t){let e,n,r;return{c(){e=x("progress"),n=I(),r=x("p"),r.textContent="Подождите, идёт шифрование...",C(e,"max","100"),C(e,"class"," mt-2 w-full rounded-full overflow-hidden"),e.value=t[5],C(r,"class"," text-sm italic text-orange-600 text-center")},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i)},p(t,n){32&n[0]&&(e.value=t[5])},d(t){t&&_(e),t&&_(n),t&&_(r)}}}function Em(t){let e,n,r,i,a,s,u,c;return{c(){e=x("div"),n=x("div"),r=x("input"),i=I(),a=x("div"),s=x("button"),s.textContent="Закрыть",C(r,"id","private-key"),C(r,"class","view-private-key svelte-1gf1a8j"),C(r,"type","text"),r.value=t[13],C(n,"class","mt-2"),C(s,"class","btn-gray svelte-1gf1a8j"),C(a,"class","mt-2"),C(e,"class","wallet-secret svelte-1gf1a8j")},m(o,l){w(o,e,l),b(e,n),b(n,r),b(e,i),b(e,a),b(a,s),u||(c=[S(r,"click",t[39]),S(s,"click",t[80])],u=!0)},p(t,e){8192&e[0]&&r.value!==t[13]&&(r.value=t[13])},d(t){t&&_(e),u=!1,o(c)}}}function Im(e){let n,r,i,o;return{c(){n=x("img"),C(n,"class","w-8 h-8 cursor-pointer"),n.src!==(r="./icons/expand_less.svg")&&C(n,"src","./icons/expand_less.svg"),C(n,"alt","less")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[82]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Tm(e){let n,r,i,o;return{c(){n=x("img"),C(n,"class","w-8 h-8 cursor-pointer"),n.src!==(r="./icons/expand_more.svg")&&C(n,"src","./icons/expand_more.svg"),C(n,"alt","more")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[81]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Sm(t){let e,n,r,i,a,s,u,c,l,h,f;return{c(){e=x("div"),n=x("input"),r=I(),i=x("input"),a=I(),s=x("div"),u=x("button"),u.innerHTML='<img src="./icons/scan.svg" alt="QR" class="w-6 h-6"/>',c=I(),l=x("button"),l.textContent="Отправить",C(n,"class","input-field svelte-1gf1a8j"),C(n,"type","text"),C(n,"placeholder","Адрес получателя"),C(i,"class","input-field svelte-1gf1a8j"),C(i,"type","text"),C(i,"placeholder","Количество"),C(e,"class","text-center"),C(u,"class","btn-scan svelte-1gf1a8j"),C(l,"class","btn-send svelte-1gf1a8j"),C(s,"class","text-center")},m(o,d){w(o,e,d),b(e,n),M(n,t[26]),b(e,r),b(e,i),M(i,t[25]),w(o,a,d),w(o,s,d),b(s,u),b(s,c),b(s,l),h||(f=[S(n,"input",t[83]),S(i,"input",t[84]),S(u,"click",t[85]),S(l,"click",t[52])],h=!0)},p(t,e){67108864&e[0]&&n.value!==t[26]&&M(n,t[26]),33554432&e[0]&&i.value!==t[25]&&M(i,t[25])},d(t){t&&_(e),t&&_(a),t&&_(s),h=!1,o(f)}}}function Cm(e){let n,r,i,o;return{c(){n=x("img"),C(n,"class","w-8 h-8 cursor-pointer"),n.src!==(r="./icons/expand_less.svg")&&C(n,"src","./icons/expand_less.svg"),C(n,"alt","less")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[87]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Am(e){let n,r,i,o;return{c(){n=x("img"),C(n,"class","w-8 h-8 cursor-pointer"),n.src!==(r="./icons/expand_more.svg")&&C(n,"src","./icons/expand_more.svg"),C(n,"alt","more")},m(t,r){w(t,n,r),i||(o=S(n,"click",e[86]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Pm(t){let e,n,r,i,a,s,u,c,l,h,f;return{c(){e=x("div"),n=x("input"),r=I(),i=x("input"),a=I(),s=x("div"),u=x("button"),u.innerHTML='<img src="./icons/scan.svg" alt="QR" class="w-6 h-6"/>',c=I(),l=x("button"),l.textContent="Отправить",C(n,"class","input-field svelte-1gf1a8j"),C(n,"type","text"),C(n,"placeholder","Адрес получателя"),C(i,"class","input-field svelte-1gf1a8j"),C(i,"type","text"),C(i,"placeholder","Количество"),C(e,"class","text-center"),C(u,"class","btn-scan svelte-1gf1a8j"),C(l,"class","btn-send svelte-1gf1a8j"),C(s,"class","text-center")},m(o,d){w(o,e,d),b(e,n),M(n,t[26]),b(e,r),b(e,i),M(i,t[25]),w(o,a,d),w(o,s,d),b(s,u),b(s,c),b(s,l),h||(f=[S(n,"input",t[88]),S(i,"input",t[89]),S(u,"click",t[90]),S(l,"click",t[51])],h=!0)},p(t,e){67108864&e[0]&&n.value!==t[26]&&M(n,t[26]),33554432&e[0]&&i.value!==t[25]&&M(i,t[25])},d(t){t&&_(e),t&&_(a),t&&_(s),h=!1,o(f)}}}function Mm(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m;return{c(){e=x("div"),n=x("div"),r=x("input"),i=I(),a=x("div"),s=x("span"),u=E("= "),c=E(t[34]),l=E(" Eth."),h=I(),f=x("div"),d=x("button"),d.textContent="Купить",C(r,"class"," border bg-gray-200"),C(r,"type","number"),C(r,"step","1000"),C(r,"min","1000"),C(r,"max",t[2]),C(s,"class"," text-sm text-teal-500"),C(a,"class"," text-center"),C(d,"class","btn-green svelte-1gf1a8j"),C(e,"class","mt-2")},m(o,v){w(o,e,v),b(e,n),b(n,r),M(r,t[0]),b(e,i),b(e,a),b(a,s),b(s,u),b(s,c),b(s,l),b(e,h),b(e,f),b(f,d),p||(m=[S(r,"input",t[92]),S(d,"click",t[53])],p=!0)},p(t,e){4&e[0]&&C(r,"max",t[2]),1&e[0]&&A(r.value)!==t[0]&&M(r,t[0]),8&e[1]&&P(c,t[34])},d(t){t&&_(e),p=!1,o(m)}}}function Nm(t){let e,n=t[18],r=[];for(let e=0;e<n.length;e+=1)r[e]=Lm(mm(t,n,e));return{c(){e=x("div");for(let t=0;t<r.length;t+=1)r[t].c();C(e,"class","mt-3 flex flex-col")},m(t,n){w(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(134479872&i[0]){let o;for(n=t[18],o=0;o<n.length;o+=1){const a=mm(t,n,o);r[o]?r[o].p(a,i):(r[o]=Lm(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&_(e),k(r,t)}}}function Lm(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k=t[149].name+"",T=+t[149].balance/1e18+"";return{c(){e=x("div"),n=x("div"),r=x("div"),i=x("span"),o=E(k),a=E(":"),s=I(),u=x("div"),c=x("span"),l=E(T),h=I(),f=x("div"),d=x("label"),p=x("input"),v=I(),C(i,"class"," text-blue-500"),C(c,"class"," text-orange-500"),C(p,"type","radio"),p.__value=m=t[149].address,p.value=p.__value,t[61][1].push(p),C(n,"class"," flex flex-row justify-between items-center"),C(e,"class","token svelte-1gf1a8j")},m(m,_){w(m,e,_),b(e,n),b(n,r),b(r,i),b(i,o),b(i,a),b(n,s),b(n,u),b(u,c),b(c,l),b(n,h),b(n,f),b(f,d),b(d,p),p.checked=p.__value===t[27],b(e,v),g||(y=S(p,"change",t[94]),g=!0)},p(t,e){262144&e[0]&&k!==(k=t[149].name+"")&&P(o,k),262144&e[0]&&T!==(T=+t[149].balance/1e18+"")&&P(l,T),262144&e[0]&&m!==(m=t[149].address)&&(p.__value=m,p.value=p.__value),134217728&e[0]&&(p.checked=p.__value===t[27])},d(n){n&&_(e),t[61][1].splice(t[61][1].indexOf(p),1),g=!1,y()}}}function Om(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m;return{c(){e=x("div"),n=x("div"),n.innerHTML='<p class=" text-center font-semibold text-teal-500">Добавить токен:</p>',r=I(),i=x("div"),a=x("input"),s=I(),u=x("input"),c=I(),l=x("div"),h=x("button"),h.textContent="Добавить",f=I(),d=x("button"),d.textContent="Отмена",C(a,"class","input-field svelte-1gf1a8j"),C(a,"type","text"),C(a,"placeholder","Название токена"),C(u,"class","input-field svelte-1gf1a8j"),C(u,"type","text"),C(u,"placeholder","Адрес смарт-контракта токена"),C(i,"class"," text-center"),C(h,"class","btn-orange svelte-1gf1a8j"),C(d,"class","btn-gray svelte-1gf1a8j"),C(l,"class"," text-center"),C(e,"class","wallet-block svelte-1gf1a8j")},m(o,v){w(o,e,v),b(e,n),b(e,r),b(e,i),b(i,a),M(a,t[14]),b(i,s),b(i,u),M(u,t[15]),b(e,c),b(e,l),b(l,h),b(l,f),b(l,d),p||(m=[S(a,"input",t[95]),S(u,"input",t[96]),S(h,"click",t[47]),S(d,"click",t[97])],p=!0)},p(t,e){16384&e[0]&&a.value!==t[14]&&M(a,t[14]),32768&e[0]&&u.value!==t[15]&&M(u,t[15])},d(t){t&&_(e),p=!1,o(m)}}}function Rm(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y=t[28]&&Bm(t);return{c(){e=x("div"),n=x("div"),r=x("p"),r.textContent="Отправить токены",i=I(),a=x("div"),s=x("input"),u=I(),c=x("input"),l=I(),h=x("div"),f=x("button"),f.innerHTML='<img src="./icons/scan.svg" alt="QR" class="w-6 h-6"/>',d=I(),p=x("button"),p.textContent="Отправить",m=I(),y&&y.c(),C(r,"class"," text-center font-semibold text-teal-500"),C(s,"class","input-field svelte-1gf1a8j"),C(s,"type","text"),C(s,"placeholder","Адрес получателя"),C(c,"class","input-field svelte-1gf1a8j"),C(c,"type","text"),C(c,"placeholder","Количество"),C(a,"class"," text-center"),C(f,"class","btn-white svelte-1gf1a8j"),C(p,"class","btn-green svelte-1gf1a8j"),C(h,"class"," text-center"),C(e,"class","wallet-block svelte-1gf1a8j")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(n,i),b(n,a),b(a,s),M(s,t[26]),b(a,u),b(a,c),M(c,t[25]),b(n,l),b(n,h),b(h,f),b(h,d),b(h,p),b(n,m),y&&y.m(n,null),v||(g=[S(s,"input",t[98]),S(c,"input",t[99]),S(f,"click",t[100]),S(p,"click",t[50])],v=!0)},p(t,e){67108864&e[0]&&s.value!==t[26]&&M(s,t[26]),33554432&e[0]&&c.value!==t[25]&&M(c,t[25]),t[28]?y?y.p(t,e):(y=Bm(t),y.c(),y.m(n,null)):y&&(y.d(1),y=null)},d(t){t&&_(e),y&&y.d(),v=!1,o(g)}}}function Bm(t){let e,n,r,i;return{c(){e=x("div"),n=x("a"),r=E(t[28]),C(n,"class","link-hash svelte-1gf1a8j"),C(n,"href",i=`https://${t[24].network.name}.etherscan.io/tx/${t[28]}`),C(e,"class","mt-1 p-1 w-full bg-white rounded-lg truncate")},m(t,i){w(t,e,i),b(e,n),b(n,r)},p(t,e){268435456&e[0]&&P(r,t[28]),285212672&e[0]&&i!==(i=`https://${t[24].network.name}.etherscan.io/tx/${t[28]}`)&&C(n,"href",i)},d(t){t&&_(e)}}}function Dm(e){let n;return{c(){n=x("p"),n.textContent="Нет транзакций",C(n,"class","mt-4 p-2 text-sm italic text-center")},m(t,e){w(t,n,e)},p:t,d(t){t&&_(n)}}}function jm(t){let e,n=t[20],r=[];for(let e=0;e<n.length;e+=1)r[e]=Vm(pm(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(17825792&i[0]){let o;for(n=t[20],o=0;o<n.length;o+=1){const a=pm(t,n,o);r[o]?r[o].p(a,i):(r[o]=Vm(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&_(e)}}}function Um(t){let e;return{c(){e=x("span"),e.textContent="Не подтверждена",C(e,"class"," text-sm font-semibold text-orange-500")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Fm(t){let e;return{c(){e=x("span"),e.textContent="Подтверждена",C(e,"class"," text-sm font-semibold text-green-500")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function $m(t){let e,n,r,i=t[146].hash+"";return{c(){e=x("a"),n=E(i),C(e,"class","link-hash svelte-1gf1a8j"),C(e,"href",r=`https://${t[24].network.name}.etherscan.io/tx/${t[146].hash}`),C(e,"target","_blank")},m(t,r){w(t,e,r),b(e,n)},p(t,o){1048576&o[0]&&i!==(i=t[146].hash+"")&&P(n,i),17825792&o[0]&&r!==(r=`https://${t[24].network.name}.etherscan.io/tx/${t[146].hash}`)&&C(e,"href",r)},d(t){t&&_(e)}}}function zm(t){let e,n,r,i=t[146].hash+"";return{c(){e=x("a"),n=E(i),C(e,"class","link-hash svelte-1gf1a8j"),C(e,"href",r="https://etherscan.io/tx/"+t[146].hash),C(e,"target","_blank")},m(t,r){w(t,e,r),b(e,n)},p(t,o){1048576&o[0]&&i!==(i=t[146].hash+"")&&P(n,i),1048576&o[0]&&r!==(r="https://etherscan.io/tx/"+t[146].hash)&&C(e,"href",r)},d(t){t&&_(e)}}}function Vm(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v=new Date(1e3*t[146].timestamp).toLocaleDateString("ru-RU",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"long",year:"numeric"})+"",g=nm.utils.formatEther(t[146].value.toString())+"";function y(t,e){return t[146].confirmations>0?Fm:Um}let k=y(t),T=k(t);function S(t,e){return"homestead"===t[24].network.name?zm:$m}let A=S(t),M=A(t);return{c(){e=x("div"),n=x("div"),r=x("div"),i=E(v),o=I(),a=x("div"),T.c(),s=I(),u=x("div"),c=x("p"),l=x("span"),h=E(g),f=E(" eth."),d=I(),p=x("div"),M.c(),m=I(),C(n,"class","px-1 flex flex-row justify-between text-gray-600"),C(l,"class"," text-base font-medium text-orange-500"),C(u,"class","mt-2 text-center"),C(p,"class","mt-3 px-1 truncate text-center"),C(e,"class","mt-1 p-1 bg-white border rounded-lg text-sm")},m(t,v){w(t,e,v),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),T.m(a,null),b(e,s),b(e,u),b(u,c),b(c,l),b(l,h),b(l,f),b(e,d),b(e,p),M.m(p,null),b(e,m)},p(t,e){1048576&e[0]&&v!==(v=new Date(1e3*t[146].timestamp).toLocaleDateString("ru-RU",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"long",year:"numeric"})+"")&&P(i,v),k!==(k=y(t))&&(T.d(1),T=k(t),T&&(T.c(),T.m(a,null))),1048576&e[0]&&g!==(g=nm.utils.formatEther(t[146].value.toString())+"")&&P(h,g),A===(A=S(t))&&M?M.p(t,e):(M.d(1),M=A(t),M&&(M.c(),M.m(p,null)))},d(t){t&&_(e),T.d(),M.d()}}}function qm(t){let e,n,r,i,o,a,s,u,c,l;return{c(){e=x("div"),n=x("label"),r=x("span"),r.textContent=""+t[37][0].name,i=I(),o=x("input"),s=I(),u=x("span"),u.textContent=""+t[37][0].address,C(o,"type","radio"),o.__value=a=0,o.value=o.__value,t[61][0].push(o),C(n,"for",""),C(u,"class"," text-teal-600 text-xs tracking-tight"),C(e,"class","mt-1 p-1 text-orange-600 bg-white border rounded-lg")},m(a,h){w(a,e,h),b(e,n),b(n,r),b(n,i),b(n,o),o.checked=o.__value===t[19],b(e,s),b(e,u),c||(l=S(o,"change",t[64]),c=!0)},p(t,e){524288&e[0]&&(o.checked=o.__value===t[19])},d(n){n&&_(e),t[61][0].splice(t[61][0].indexOf(o),1),c=!1,l()}}}function Hm(t){let e,n=t[37],r=[];for(let e=0;e<n.length;e+=1)r[e]=Gm(vm(t,n,e));return{c(){e=x("div");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,n){w(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(524288&i[0]|16448&i[1]){let o;for(n=t[37],o=0;o<n.length;o+=1){const a=vm(t,n,o);r[o]?r[o].p(a,i):(r[o]=Gm(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&_(e),k(r,t)}}}function Gm(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v=t[143].name+"",g=t[143].address+"";function y(){return t[62](t[143])}let k="default"!==t[143].name&&function(t){let e,n,r;function i(){return t[63](t[36],t[143])}return{c(){e=x("span"),e.textContent="удалить",C(e,"class","mr-3 text-sm cursor-pointer text-gray-600 float-right")},m(t,o){w(t,e,o),n||(r=S(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}(t);return{c(){e=x("div"),n=x("label"),r=x("span"),i=E(v),a=I(),s=x("input"),c=I(),l=x("span"),h=E(g),f=I(),k&&k.c(),d=I(),C(s,"type","radio"),s.__value=u=t[143].id,s.value=s.__value,t[61][0].push(s),C(n,"for",""),C(l,"class"," text-teal-600 text-xs tracking-tight"),C(e,"class","mt-1 p-1 text-orange-600 bg-white border rounded-lg")},m(o,u){w(o,e,u),b(e,n),b(n,r),b(r,i),b(n,a),b(n,s),s.checked=s.__value===t[19],b(e,c),b(e,l),b(l,h),b(e,f),k&&k.m(e,null),b(e,d),p||(m=[S(s,"change",t[60]),S(s,"input",y)],p=!0)},p(e,n){t=e,524288&n[0]&&(s.checked=s.__value===t[19]),"default"!==t[143].name&&k.p(t,n)},d(n){n&&_(e),t[61][0].splice(t[61][0].indexOf(s),1),k&&k.d(),p=!1,o(m)}}}function Wm(t){let e,n,r;return{c(){e=x("progress"),n=I(),r=x("span"),r.textContent="Расшифровка кошелька...",C(e,"class","mt-4 w-full rounded-full overflow-hidden"),C(e,"max","100"),e.value=t[6],C(r,"class"," text-sm italic text-orange-600")},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i)},p(t,n){64&n[0]&&(e.value=t[6])},d(t){t&&_(e),t&&_(n),t&&_(r)}}}function Km(t){let e,n,r;function i(t,e){return t[7]?wm:_m}let o=i(t),a=o(t);return{c(){e=I(),n=I(),r=x("div"),a.c(),C(r,"class","mx-auto px-2 w-full lg:w-1/2 bg-gray-900 h-auto")},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i),a.m(r,null)},p(t,e){o===(o=i(t))&&a?a.p(t,e):(a.d(1),a=o(t),a&&(a.c(),a.m(r,null)))},d(t){t&&_(e),t&&_(n),t&&_(r),a.d()}}}function Zm(t){let e,n;return e=new Pu({props:{path:`users/${t[36].uid}/wallets/default`,$$slots:{default:[Km,({data:t,ref:e})=>({112:t,142:e}),({data:t,ref:e})=>[0,0,0,t?524288:0,e?262144:0]],fallback:[bm,({data:t,ref:e})=>({112:t,142:e}),({data:t,ref:e})=>[0,0,0,t?524288:0,e?262144:0]],loading:[gm,({data:t,ref:e})=>({112:t,142:e}),({data:t,ref:e})=>[0,0,0,t?524288:0,e?262144:0]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};32&n[1]&&(r.path=`users/${t[36].uid}/wallets/default`),2147483623&n[0]|31&n[1]|268435456&n[4]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Xm(t){let e,n;return e=new lu({props:{$$slots:{default:[Zm,({user:t})=>({36:t}),({user:t})=>[0,t?32:0]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};2147483623&n[0]|63&n[1]|268435456&n[4]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Jm(t){let e,n,r,i,o,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(t[4]),o=I(),a=x("p"),s=x("button"),s.textContent="Ок",C(r,"class","text-center"),C(s,"class","btn-orange svelte-1gf1a8j"),C(a,"class","mt-2 text-center"),C(n,"class","p-3 border bg-white rounded-lg shadow-lg"),C(e,"id","alertBox"),C(e,"class"," fixed top-0 svelte-1gf1a8j")},m(u,f){w(u,e,f),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),c=!0,l||(h=S(s,"click",t[101]),l=!0)},p(t,e){(!c||16&e[0])&&P(i,t[4])},i(t){c||(et(()=>{u||(u=gt(n,nc,{duration:500},!0)),u.run(1)}),c=!0)},o(t){u||(u=gt(n,nc,{duration:500},!1)),u.run(0),c=!1},d(t){t&&_(e),t&&u&&u.end(),l=!1,h()}}}function Ym(t){let e,n,r;return n=new um({props:{codeValue:t[12],squareSize:"250"}}),n.$on("close",t[102]),{c(){e=x("div"),bt(n.$$.fragment),C(e,"class"," fixed top-0")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,e){const r={};4096&e[0]&&(r.codeValue=t[12]),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Qm(e){let n,r,i;return r=new dm({}),r.$on("result",e[103]),r.$on("close",e[104]),{c(){n=x("div"),bt(r.$$.fragment),C(n,"class"," fixed top-0 w-full")},m(t,e){w(t,n,e),wt(r,n,null),i=!0},p:t,i(t){i||(dt(r.$$.fragment,t),i=!0)},o(t){pt(r.$$.fragment,t),i=!1},d(t){t&&_(n),_t(r)}}}function tv(t){let e,n,r,i,o,a,s;n=new Hs({props:{firebase:le,$$slots:{default:[Xm]},$$scope:{ctx:t}}});let u=t[3]&&Jm(t),c=t[8]&&Ym(t),l=t[9]&&Qm(t);return{c(){e=x("div"),bt(n.$$.fragment),r=I(),u&&u.c(),i=I(),c&&c.c(),o=I(),l&&l.c(),a=T(),C(e,"class","pt-16 bg-gray-900 w-full min-h-screen")},m(t,h){w(t,e,h),wt(n,e,null),w(t,r,h),u&&u.m(t,h),w(t,i,h),c&&c.m(t,h),w(t,o,h),l&&l.m(t,h),w(t,a,h),s=!0},p(t,e){const r={};2147483623&e[0]|63&e[1]|268435456&e[4]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[3]?u?(u.p(t,e),8&e[0]&&dt(u,1)):(u=Jm(t),u.c(),dt(u,1),u.m(i.parentNode,i)):u&&(ht(),pt(u,1,1,()=>{u=null}),ft()),t[8]?c?(c.p(t,e),256&e[0]&&dt(c,1)):(c=Ym(t),c.c(),dt(c,1),c.m(o.parentNode,o)):c&&(ht(),pt(c,1,1,()=>{c=null}),ft()),t[9]?l?(l.p(t,e),512&e[0]&&dt(l,1)):(l=Qm(t),l.c(),dt(l,1),l.m(a.parentNode,a)):l&&(ht(),pt(l,1,1,()=>{l=null}),ft())},i(t){s||(dt(n.$$.fragment,t),dt(u),dt(c),dt(l),s=!0)},o(t){pt(n.$$.fragment,t),pt(u),pt(c),pt(l),s=!1},d(t){t&&_(e),_t(n),t&&_(r),u&&u.d(t),t&&_(i),c&&c.d(t),t&&_(o),l&&l.d(t),t&&_(a)}}}const ev="0x943b8cc219a5fb3ba70adb173774987c63c3080b",nv="0xa3979422e803432b0670ceec8c53c25ed2576a4e";function rv(t,e,n){let r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,b,w,_,k,x,E,I,T,S,C=new nm.providers.EtherscanProvider,P=0,M=!1,N=!1,L=!1,O=[],R=[],B=0,D=nm.getDefaultProvider();D.network.name;const j=new nm.Contract(ev,rm,D),U=new nm.Contract(nv,im,D);let F,$,z,q,H,G,W,K,Z,X,J,Y,Q,tt,et;function nt(t){n(12,g=t.address),n(13,y=t.privateKey),b=t.mnemonic,n(24,D=nm.getDefaultProvider()),d=new nm.Wallet(y,D),rt(),it(),async function(){const t=new nm.Contract(ev,rm,D);n(55,P=await t.balanceOf(d.address))}(),ot(d.address)}function rt(){d.getBalance().then(t=>{let e=nm.utils.formatEther(t);n(32,K=e)})}function it(){D.getGasPrice().then(t=>{Z=t.toString()})}function ot(t){let e=t;C.getHistory(e,0,"latest").then((function(t){n(20,E=[]),n(20,E=t.reverse()),console.log(E)}))}function at(t,e){c||(n(4,l=t),n(3,c=!0)),setTimeout(()=>{n(3,c=!1)},e)}function st(t){let e=document.getElementById(t);e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),at("Скопировано.",2e3)}function ut(){let t=R.filter(t=>t.address===d.address),e=t[0].wjson,n=t[0].name+".json",r=new Blob([e],{type:"application/json",name:n});om(r,n)}function ct(t){if(null==I)at("Введите название кошелька!",5e3);else if(null==T)at("Введите пароль для кошелька!",5e3);else if(null==X)at("Введите приватный ключ кошелька!",5e3);else{nt(new nm.Wallet(X)),n(10,m=I);const e=T;d.encrypt(e,(function(t){n(5,h=parseInt(100*t))})).then((function(e){p=e,Fs.collection(`users/${t}/wallets`).doc(I).set({name:I,address:g,owner:t,wjson:p}).then((function(t){n(23,S=!1),at("Кошелёк создан.",2e3)})).catch((function(t){console.error("Error adding document: ",t),at("Ошибка, возможно кошелёк с таким именем уже существует.",2e3)})),n(5,h=null)}))}}function lt(){const t=R[B];n(10,m=t.name);new nm.Wallet.fromEncryptedJson(t.wjson,v,(function(t){n(6,f=parseInt(100*t))})).then(t=>{nt(t),n(7,M=!0)}).catch(t=>{n(6,f=null),n(11,v=""),"invalid password"==t.message?at("Ошибка: неправильный пароль!",5e3):at("Ошибка: "+t.message,5e3)})}function ht(t,e){window.confirm("Данная операция удалит зашифрованный кошелёк с сервера, но доступ к нему можно получить через любой другой эфириум кошелёк импортировав JSON файл. Удалить?")&&Fs.collection(`users/${t}/wallets`).doc(e).delete().then((function(){at("Кошелёк удален.",3e3),document.location.reload(!0)})).catch((function(t){at("Ошибка: "+t,3e3)}))}function ft(t){null==v&&alert("Введите пароль!");nt(nm.Wallet.createRandom());const e=v;d.encrypt(e,(function(t){n(5,h=parseInt(100*t))})).then((function(e){p=e,Fs.collection(`users/${t}/wallets`).doc("default").set({name:"default",address:g,owner:t,wjson:p}).then((function(t){at("Кошелёк создан.",2e3),document.location.reload(!0)})).catch((function(t){console.error("Error adding document: ",t)})),n(5,h=null)}))}function dt(t){if(null==I)at("Введите название кошелька!",2e3);else if(null==T)at("Введите пароль для кошелька!",2e3);else{nt(nm.Wallet.createRandom());const e=v;d.encrypt(e,(function(t){n(5,h=parseInt(100*t))})).then((function(e){p=e,Fs.collection(`users/${t}/wallets`).doc(I).set({name:I,address:g,owner:t,wjson:p}).then((function(t){at("Кошелёк создан.",2e3)})).catch((function(t){at("Ошибка: "+t.message,5e3)})),n(5,h=null)})).catch((function(t){at("Ошибка: "+t.message,5e3)}))}}V((function(){le.auth().onAuthStateChanged((function(t){t?(n(36,i=t),Fs.collection(`users/${i.uid}/wallets`).get().then((function(t){t.forEach((function(t){const e=t.data();R.push({id:R.length,name:e.name,address:e.address,wjson:e.wjson})}))}))):console.log("no user")}))})),async function(){const t=await j.balanceOf(nv);n(2,a=nm.utils.formatEther(t))}(),async function(){let t=await U.getRate();n(54,u=t),s=t.toString()}();return t.$$.update=()=>{if(16777216&t.$$.dirty[1]&&n(35,r=nm.utils.formatUnits(P,18)),1&t.$$.dirty[0]|109051904&t.$$.dirty[1]&&J>0){let t=nm.constants.WeiPerEther;n(56,Y=nm.utils.bigNumberify(J)),n(57,Q=t.mul(Y).div(u).add(8)),tt=Q.toHexString(),n(34,et=nm.utils.formatEther(Q))}},[J,o,a,c,l,h,f,M,N,L,m,v,g,y,w,_,k,x,O,B,E,I,T,S,D,F,$,z,q,H,G,W,K,X,et,r,i,R,function(t){n(24,D=nm.getDefaultProvider(t.target.value)),d=new nm.Wallet(y,D),rt(),it(),ot(d.address)},function(){let t=document.getElementById("private-key");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),at("Скопировано.",2e3)},st,ut,function(){nt(new nm.Wallet(X)),at("Готово",2e3)},ct,lt,ht,ft,function(){_&&null==w?at("Заполните все необходимые поля.",3e3):Fs.collection(`users/${i.uid}/wallets/${m}/tokens`).add({network:D.network.name,name:w,address:_}).then((function(t){at("Токен добавлен.",3e3),n(17,x=!1)})).catch((function(t){console.error("Error adding document: ",t)}))},function(){n(16,k=!1),n(18,O.length=0,O),Fs.collection(`users/${i.uid}/wallets/${m}/tokens`).where("network","==",D.network.name).get().then((function(t){t.forEach((function(t){const e=t.data();O.push({name:e.name,address:e.address,balance:0,id:t.id})})),O.forEach(async t=>{const e=new nm.Contract(t.address,rm,D),r=await e.balanceOf(d.address);t.balance=await r.toString(),n(16,k=!0)}),console.log("tokenList",O)}))},dt,function(){const t=new nm.Contract(z,rm,d),e=nm.utils.parseUnits(F,18);t.transfer($,e).then((function(t){console.log(t),n(28,q=t.hash),at("Отправлено",3e3)})).catch(t=>{at("Ошибка: "+t.message,3e3)})},function(){const t=new nm.Contract(ev,rm,d),e=nm.utils.parseUnits(F,18);t.transfer($,e).then((function(t){console.log(t),n(28,q=t.hash),at("Отправлено",3e3)})).catch(t=>{at("Ошибка: "+t.message,3e3)})},function(){let t=nm.utils.parseEther(F),e={to:$,value:t};d.sendTransaction(e).then(t=>{console.log(t),at("Отправлено",3e3)}).catch(t=>{at("Ошибка: "+t.message,3e3)})},function(){let t={to:nv,value:Q};d.sendTransaction(t).then(t=>{console.log(t),at("Отправлено",3e3)}).catch(t=>{at("Ошибка: "+t.message,5e3)})},u,P,Y,Q,function(){v=this.value,n(11,v)},t=>ft(t.uid),function(){B=this.__value,n(19,B)},[[],[]],t=>n(19,B=t.id),(t,e)=>ht(t.uid,e.name),function(){B=this.__value,n(19,B)},function(){v=this.value,n(11,v)},()=>lt(),function(){I=this.value,n(21,I)},()=>n(23,S=!1),function(){T=this.value,n(22,T)},t=>dt(t.uid),function(){X=this.value,n(33,X)},t=>ct(t.uid),function(){X=this.value,n(33,X)},()=>n(7,M=!1),()=>n(8,N=!0),()=>n(23,S=!0),()=>st("wallet-address"),()=>n(31,W=!0),()=>ut(),()=>n(31,W=!1),()=>n(29,H=!0),()=>n(29,H=!1),function(){$=this.value,n(26,$)},function(){F=this.value,n(25,F)},()=>n(9,L=!0),()=>n(30,G=!0),()=>n(30,G=!1),function(){$=this.value,n(26,$)},function(){F=this.value,n(25,F)},()=>n(9,L=!0),()=>n(1,o=!0),function(){J=A(this.value),n(0,J)},()=>n(17,x=!0),function(){z=this.__value,n(27,z)},function(){w=this.value,n(14,w)},function(){_=this.value,n(15,_)},()=>n(17,x=!1),function(){$=this.value,n(26,$)},function(){F=this.value,n(25,F)},()=>n(9,L=!0),()=>n(3,c=!1),()=>n(8,N=!1),t=>n(26,$=t.detail.result),()=>n(9,L=!1)]}function iv(e){let n,r;return{c(){n=x("img"),n.src!==(r="./icons/check.svg")&&C(n,"src","./icons/check.svg"),C(n,"alt","confirmed"),C(n,"class"," inline-block")},m(t,e){w(t,n,e)},p:t,d(t){t&&_(n)}}}function ov(t){let e,n,r;function i(){return t[12](t[17])}return{c(){e=x("button"),e.textContent="Подтвердить",C(e,"class","btn-orange")},m(t,o){w(t,e,o),n||(r=S(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function av(t){let e,n,r,i,o,a,s,u,c=t[18].balance+"",l=t[17].uid+"";return{c(){e=x("div"),n=E("Баланс:\r\n                        "),r=E(c),i=E(" руб."),o=I(),a=x("div"),s=E("Промокод:\r\n                        "),u=E(l),C(e,"class","mt-4"),C(a,"class","mt-2")},m(t,c){w(t,e,c),b(e,n),b(e,r),b(e,i),w(t,o,c),w(t,a,c),b(a,s),b(a,u)},p(t,e){262144&e&&c!==(c=t[18].balance+"")&&P(r,c),131072&e&&l!==(l=t[17].uid+"")&&P(u,l)},d(t){t&&_(e),t&&_(o),t&&_(a)}}}function sv(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,A,P,N,L,O,R,B,D,j,U,F,$,z,V,q;function H(...e){return t[8](t[17],...e)}function G(t,e){return t[17].emailVerified?iv:ov}let W=G(t),K=W(t);return $=new Pu({props:{path:"users/"+t[17].uid,$$slots:{default:[av,({data:t})=>({18:t}),({data:t})=>t?262144:0]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("div"),r=E("Отображаемое имя: \r\n                    "),i=x("input"),s=I(),u=x("div"),c=x("p"),l=E("Номер телефона: \r\n                        "),h=x("input"),d=I(),p=x("button"),p.textContent="Изменить",m=I(),v=x("div"),g=E("Эл. почта: \r\n                    "),y=x("input"),T=I(),A=x("button"),A.textContent="Изменить",P=I(),K.c(),N=I(),L=x("div"),O=E("Новый пароль:\r\n                    "),R=x("input"),B=I(),D=x("button"),D.textContent="Изменить",j=I(),U=x("hr"),F=I(),bt($.$$.fragment),C(i,"type","text"),i.value=a=t[17].displayName,C(i,"class","svelte-1cggohk"),C(n,"class","mt-2"),C(h,"type","text"),h.value=f=t[17].phoneNumber,C(h,"class","svelte-1cggohk"),C(p,"class","btn-orange"),C(u,"class","mt-2"),C(y,"type","text"),y.value=k=t[17].email,C(y,"class","svelte-1cggohk"),C(A,"class","btn-orange"),C(v,"class","mt-2"),C(R,"type","text"),C(R,"placeholder","Новый пароль"),C(R,"class","svelte-1cggohk"),C(D,"class","btn-orange"),C(L,"class","mt-2"),C(e,"class","mx-auto p-2 bg-white rounded-lg shadow-md lg:w-2/3")},m(o,a){w(o,e,a),b(e,n),b(n,r),b(n,i),b(e,s),b(e,u),b(u,c),b(c,l),b(c,h),b(c,d),b(c,p),b(e,m),b(e,v),b(v,g),b(v,y),b(v,T),b(v,A),b(v,P),K.m(v,null),b(e,N),b(e,L),b(L,O),b(L,R),M(R,t[0]),b(L,B),b(L,D),b(e,j),b(e,U),b(e,F),wt($,e,null),z=!0,V||(q=[S(i,"input",H),S(h,"input",t[9]),S(p,"click",t[10],{once:!0}),S(y,"change",t[11]),S(R,"input",t[13]),S(D,"click",t[5])],V=!0)},p(e,n){t=e,(!z||131072&n&&a!==(a=t[17].displayName)&&i.value!==a)&&(i.value=a),(!z||131072&n&&f!==(f=t[17].phoneNumber)&&h.value!==f)&&(h.value=f),(!z||131072&n&&k!==(k=t[17].email)&&y.value!==k)&&(y.value=k),W===(W=G(t))&&K?K.p(t,n):(K.d(1),K=W(t),K&&(K.c(),K.m(v,null))),1&n&&R.value!==t[0]&&M(R,t[0]);const r={};131072&n&&(r.path="users/"+t[17].uid),917504&n&&(r.$$scope={dirty:n,ctx:t}),$.$set(r)},i(t){z||(dt($.$$.fragment,t),z=!0)},o(t){pt($.$$.fragment,t),z=!1},d(t){t&&_(e),K.d(),_t($),V=!1,o(q)}}}function uv(t){let e,n;return e=new lu({props:{$$slots:{default:[sv,({user:t})=>({17:t}),({user:t})=>t?131072:0]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};655363&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function cv(t){let e,n,r,i,o,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(t[3]),o=I(),a=x("p"),s=x("button"),s.textContent="Ок",C(r,"class","text-center"),C(s,"class","btn-orange"),C(a,"class","mt-2 text-center"),C(n,"class","p-3 border bg-white rounded-lg shadow-lg"),C(e,"id","alertBox"),C(e,"class"," fixed top-0")},m(u,f){w(u,e,f),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),c=!0,l||(h=S(s,"click",t[14]),l=!0)},p(t,e){(!c||8&e)&&P(i,t[3])},i(t){c||(et(()=>{u||(u=gt(n,nc,{duration:500},!0)),u.run(1)}),c=!0)},o(t){u||(u=gt(n,nc,{duration:500},!1)),u.run(0),c=!1},d(t){t&&_(e),t&&u&&u.end(),l=!1,h()}}}function lv(t){let e,n,r,i,o;n=new Hs({props:{firebase:le,$$slots:{default:[uv]},$$scope:{ctx:t}}});let a=t[2]&&cv(t);return{c(){e=x("div"),bt(n.$$.fragment),r=I(),a&&a.c(),i=T(),C(e,"class","p-2 min-h-screen bg-gray-200")},m(t,s){w(t,e,s),wt(n,e,null),w(t,r,s),a&&a.m(t,s),w(t,i,s),o=!0},p(t,[e]){const r={};524291&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[2]?a?(a.p(t,e),4&e&&dt(a,1)):(a=cv(t),a.c(),dt(a,1),a.m(i.parentNode,i)):a&&(ht(),pt(a,1,1,()=>{a=null}),ft())},i(t){o||(dt(n.$$.fragment,t),dt(a),o=!0)},o(t){pt(n.$$.fragment,t),pt(a),o=!1},d(t){t&&_(e),_t(n),t&&_(r),a&&a.d(t),t&&_(i)}}}function hv(t,e,n){let r,i,o,a;function s(t){le.auth().currentUser.updateEmail(t).then((function(){u("Эл. почта обновлена, нажмите кнопку подтвердить.")})).catch((function(t){u("Сессия устарела, перезайдите в аккаунт и повторите попытку.")}))}function u(t){o||(n(3,a=t),n(2,o=!0)),setTimeout(()=>{n(2,o=!1)},5e3)}le.auth().onAuthStateChanged((function(t){}));let c=le.functions().httpsCallable("updateUserPhoneNumber");function l(t){12===t.length?c({newPhoneNumber:t}).then((function(t){u("Новый номер сохранен."),console.log("updated",t)})).catch((function(t){console.log(t.code,t.message,t.details)})):u('Введите новый номер в формате "+71234567890"')}return[r,i,o,a,s,function(){le.auth().currentUser.updatePassword(r).then((function(){u("Пароль обновлен.")})).catch((function(t){u("Сессия устарела, перезайдите в аккаунт и повторите попытку.")}))},u,l,(t,e)=>t.updateProfile({displayName:e.target.value}).then(console.log("updated")),t=>n(1,i=t.target.value),()=>l(i),t=>s(t.target.value),t=>t.sendEmailVerification().then(u("Письмо отправлено, проверьте почту.")),function(){r=this.value,n(0,r)},()=>n(2,o=!1)]}class fv extends xt{constructor(t){super(),kt(this,t,hv,lv,s,{})}}function dv(t){let e,n,r,i,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T,A,P;return{c(){e=x("div"),n=x("h1"),n.textContent="Регистрация водителя такси",r=I(),i=x("p"),i.textContent="Заполните анкету",s=I(),u=x("div"),c=x("input"),l=I(),h=x("input"),f=I(),d=x("input"),p=I(),m=x("input"),v=I(),g=x("input"),y=I(),k=x("input"),E=I(),T=x("button"),T.textContent="Начать регистрацию",C(n,"class","svelte-skqkik"),C(i,"class","svelte-skqkik"),C(c,"type","text"),C(c,"placeholder","Имя"),C(c,"class","svelte-skqkik"),C(h,"type","text"),C(h,"placeholder","Фамилия"),C(h,"class","svelte-skqkik"),C(d,"type","text"),C(d,"placeholder","Отчество"),C(d,"class","svelte-skqkik"),C(m,"type","text"),C(m,"placeholder","Номер телефона"),C(m,"class","svelte-skqkik"),C(g,"type","text"),C(g,"placeholder","Марка автомобиля"),C(g,"class","svelte-skqkik"),C(k,"type","text"),C(k,"placeholder","Гос. номер"),C(k,"class","svelte-skqkik"),C(T,"class","btn bg-orange-500 block mt-2 svelte-skqkik"),C(u,"class","taxi-driver-registration svelte-skqkik"),C(e,"slot","fallback"),C(e,"class","profile-card svelte-skqkik")},m(o,_){w(o,e,_),b(e,n),b(e,r),b(e,i),b(e,s),b(e,u),b(u,c),M(c,t[0].name),b(u,l),b(u,h),M(h,t[0].secondName),b(u,f),b(u,d),M(d,t[0].lastName),b(u,p),b(u,m),M(m,t[0].phone),b(u,v),b(u,g),M(g,t[0].carBrand),b(u,y),b(u,k),M(k,t[0].carNumber),b(u,E),b(u,T),A||(P=[S(c,"input",t[4]),S(h,"input",t[5]),S(d,"input",t[6]),S(m,"input",t[7]),S(g,"input",t[8]),S(k,"input",t[9]),S(T,"click",(function(){a(t[1](t[15].uid))&&t[1](t[15].uid).apply(this,arguments)}))],A=!0)},p(e,n){t=e,1&n&&c.value!==t[0].name&&M(c,t[0].name),1&n&&h.value!==t[0].secondName&&M(h,t[0].secondName),1&n&&d.value!==t[0].lastName&&M(d,t[0].lastName),1&n&&m.value!==t[0].phone&&M(m,t[0].phone),1&n&&g.value!==t[0].carBrand&&M(g,t[0].carBrand),1&n&&k.value!==t[0].carNumber&&M(k,t[0].carNumber)},d(t){t&&_(e),A=!1,o(P)}}}function pv(t){let e,n,r,i,o;function a(...e){return t[10](t[15],...e)}return{c(){e=x("label"),e.innerHTML='<p class="mt-3 text-sm">Лицевая сторона</p> \n                                <img src="./icons/add_photo_teal.svg" alt="add_photo" class="img-icon svelte-skqkik"/>',n=I(),r=x("input"),C(e,"for","driver-license-frontside"),C(r,"type","file"),C(r,"id","driver-license-frontside"),C(r,"name","file"),C(r,"class","svelte-skqkik")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"change",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function mv(t){let e,n;return{c(){e=x("img"),C(e,"class","img-up svelte-skqkik"),e.src!==(n=t[16].driverLicense.frontside)&&C(e,"src",n),C(e,"alt","driverLicense")},m(t,n){w(t,e,n)},p(t,r){65536&r&&e.src!==(n=t[16].driverLicense.frontside)&&C(e,"src",n)},d(t){t&&_(e)}}}function vv(t){let e,n,r,i,o;function a(...e){return t[11](t[15],...e)}return{c(){e=x("label"),e.innerHTML='<p class="mt-3 text-sm">Обратная сторона</p> \n                                <img src="./icons/add_photo_teal.svg" alt="add_photo" class="img-icon svelte-skqkik"/>',n=I(),r=x("input"),C(e,"for","driver-license-reverseside"),C(r,"type","file"),C(r,"id","driver-license-reverseside"),C(r,"name","file"),C(r,"class","svelte-skqkik")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"change",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function gv(t){let e,n;return{c(){e=x("img"),C(e,"class","img-up svelte-skqkik"),e.src!==(n=t[16].driverLicense.reverseside)&&C(e,"src",n),C(e,"alt","driverLicense")},m(t,n){w(t,e,n)},p(t,r){65536&r&&e.src!==(n=t[16].driverLicense.reverseside)&&C(e,"src",n)},d(t){t&&_(e)}}}function yv(t){let e,n,r,i,o;function a(...e){return t[12](t[15],...e)}return{c(){e=x("label"),e.innerHTML='<p class="mt-3 text-sm">Фронтальная сторона с гос. номером</p> \n                                <img src="./icons/add_photo_teal.svg" alt="add_photo" class="img-icon svelte-skqkik"/>',n=I(),r=x("input"),C(e,"for","driver-auto-frontside"),C(r,"type","file"),C(r,"id","driver-auto-frontside"),C(r,"name","file"),C(r,"class","svelte-skqkik")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"change",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function bv(t){let e,n;return{c(){e=x("img"),C(e,"class","img-up svelte-skqkik"),e.src!==(n=t[16].driverAuto.frontside)&&C(e,"src",n),C(e,"alt","driverAuto")},m(t,n){w(t,e,n)},p(t,r){65536&r&&e.src!==(n=t[16].driverAuto.frontside)&&C(e,"src",n)},d(t){t&&_(e)}}}function wv(t){let e,n,r,i,o;function a(...e){return t[13](t[15],...e)}return{c(){e=x("label"),e.innerHTML='<p class="mt-3 text-sm">Фото с боковой стороны (любой)</p> \n                                <img src="./icons/add_photo_teal.svg" alt="add_photo" class="img-icon svelte-skqkik"/>',n=I(),r=x("input"),C(e,"for","driver-auto-reverseside"),C(r,"type","file"),C(r,"id","driver-auto-reverseside"),C(r,"name","file"),C(r,"class","svelte-skqkik")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"change",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function _v(t){let e,n;return{c(){e=x("img"),C(e,"class","img-up svelte-skqkik"),e.src!==(n=t[16].driverAuto.reverseside)&&C(e,"src",n),C(e,"alt","driverAuto")},m(t,n){w(t,e,n)},p(t,r){65536&r&&e.src!==(n=t[16].driverAuto.reverseside)&&C(e,"src",n)},d(t){t&&_(e)}}}function kv(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,S,A,M,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K=t[16].secondName+"",Z=t[16].name+"",X=t[16].lastName+"",J=t[16].phone+"",Y=t[16].carBrand+"",Q=t[16].carNumber+"",tt=t[16].rating+"";function et(t,e){return null!=t[16].driverLicense&&null!=t[16].driverLicense.frontside?mv:pv}let nt=et(t),rt=nt(t);function it(t,e){return null!=t[16].driverLicense&&null!=t[16].driverLicense.reverseside?gv:vv}let ot=it(t),at=ot(t);function st(t,e){return null!=t[16].driverAuto&&null!=t[16].driverAuto.frontside?bv:yv}let ut=st(t),ct=ut(t);function lt(t,e){return null!=t[16].driverAuto&&null!=t[16].driverAuto.reverseside?_v:wv}let ht=lt(t),ft=ht(t);return{c(){e=I(),n=x("div"),r=x("p"),r.textContent="Данные водителя такси",i=I(),o=x("p"),a=E("Ф.И.О.: "),s=E(K),u=I(),c=E(Z),l=I(),h=E(X),f=I(),d=x("p"),p=E("Номер телефона: "),m=E(J),v=I(),g=x("p"),y=E("Марка и номер автомобиля: "),k=E(Y),T=I(),S=E(Q),A=I(),M=x("p"),N=E("Рейтинг: "),L=E(tt),O=I(),R=x("br"),B=I(),D=x("p"),D.textContent="Фото водительского удостоверения:",j=I(),U=x("div"),rt.c(),F=I(),$=x("div"),at.c(),z=I(),V=x("p"),V.textContent="Фото автомобиля:",q=I(),H=x("div"),ct.c(),G=I(),W=x("div"),ft.c(),C(r,"class","mt-2 font-semibold text-center svelte-skqkik"),C(o,"class","mt-3 svelte-skqkik"),C(d,"class","svelte-skqkik"),C(g,"class","svelte-skqkik"),C(M,"class","svelte-skqkik"),C(D,"class","font-semibold text-center svelte-skqkik"),C(U,"class","image-upload svelte-skqkik"),C($,"class","image-upload svelte-skqkik"),C(V,"class","mt-2 font-semibold text-center svelte-skqkik"),C(H,"class","image-upload svelte-skqkik"),C(W,"class","image-upload svelte-skqkik"),C(n,"class","profile-card svelte-skqkik")},m(t,_){w(t,e,_),w(t,n,_),b(n,r),b(n,i),b(n,o),b(o,a),b(o,s),b(o,u),b(o,c),b(o,l),b(o,h),b(n,f),b(n,d),b(d,p),b(d,m),b(n,v),b(n,g),b(g,y),b(g,k),b(g,T),b(g,S),b(n,A),b(n,M),b(M,N),b(M,L),b(n,O),b(n,R),b(n,B),b(n,D),b(n,j),b(n,U),rt.m(U,null),b(n,F),b(n,$),at.m($,null),b(n,z),b(n,V),b(n,q),b(n,H),ct.m(H,null),b(n,G),b(n,W),ft.m(W,null)},p(t,e){65536&e&&K!==(K=t[16].secondName+"")&&P(s,K),65536&e&&Z!==(Z=t[16].name+"")&&P(c,Z),65536&e&&X!==(X=t[16].lastName+"")&&P(h,X),65536&e&&J!==(J=t[16].phone+"")&&P(m,J),65536&e&&Y!==(Y=t[16].carBrand+"")&&P(k,Y),65536&e&&Q!==(Q=t[16].carNumber+"")&&P(S,Q),65536&e&&tt!==(tt=t[16].rating+"")&&P(L,tt),nt===(nt=et(t))&&rt?rt.p(t,e):(rt.d(1),rt=nt(t),rt&&(rt.c(),rt.m(U,null))),ot===(ot=it(t))&&at?at.p(t,e):(at.d(1),at=ot(t),at&&(at.c(),at.m($,null))),ut===(ut=st(t))&&ct?ct.p(t,e):(ct.d(1),ct=ut(t),ct&&(ct.c(),ct.m(H,null))),ht===(ht=lt(t))&&ft?ft.p(t,e):(ft.d(1),ft=ht(t),ft&&(ft.c(),ft.m(W,null)))},d(t){t&&_(e),t&&_(n),rt.d(),at.d(),ct.d(),ft.d()}}}function xv(t){let e;return{c(){e=x("div"),e.innerHTML="<p>Для просмотра страницы необходима авторизация</p>",C(e,"slot","signed-out")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Ev(t){let e,n,r,i;return n=new Pu({props:{path:"taxiDrivers/"+t[15].uid,$$slots:{default:[kv,({data:t,ref:e})=>({16:t,17:e}),({data:t,ref:e})=>(t?65536:0)|(e?131072:0)],fallback:[dv,({data:t,ref:e})=>({16:t,17:e}),({data:t,ref:e})=>(t?65536:0)|(e?131072:0)]},$$scope:{ctx:t}}}),{c(){e=x("div"),bt(n.$$.fragment),r=I(),C(e,"class"," mx-auto w-full lg:w-2/3")},m(t,o){w(t,e,o),wt(n,e,null),w(t,r,o),i=!0},p(t,e){const r={};32768&e&&(r.path="taxiDrivers/"+t[15].uid),360449&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){i||(dt(n.$$.fragment,t),i=!0)},o(t){pt(n.$$.fragment,t),i=!1},d(t){t&&_(e),_t(n),t&&_(r)}}}function Iv(t){let e,n;return e=new lu({props:{$$slots:{default:[Ev,({user:t})=>({15:t}),({user:t})=>t?32768:0],"signed-out":[xv,({user:t})=>({15:t}),({user:t})=>t?32768:0]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};294913&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Tv(t){let e,n,r;return n=new Hs({props:{firebase:le,$$slots:{default:[Iv]},$$scope:{ctx:t}}}),{c(){e=x("div"),bt(n.$$.fragment),C(e,"class","p-2 min-h-screen bg-gray-200")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,[e]){const r={};262145&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Sv(t,e,n){let r=$s.ref(),i={registered:le.firestore.FieldValue.serverTimestamp(),rating:5};function o(t,e){let n;t.stopPropagation(),t.preventDefault(),"driver-license-frontside"==t.target.id&&(n="driverLicense.frontside"),"driver-license-reverseside"==t.target.id&&(n="driverLicense.reverseside");let i=t.target.files[0],o={contentType:i.type};r.child(`users/${e}/taxiDriver/driverLicense/${i.name}`).put(i,o).then((function(t){console.log("Uploaded",t.totalBytes,"bytes."),console.log("File metadata:",t.metadata),t.ref.getDownloadURL().then((function(t){console.log("File available at",t),Fs.collection("taxiDrivers").doc(e).update({[n]:t}).then((function(){console.log("Document successfully updated!")})).catch((function(t){console.error("Error updating document: ",t)}))}))})).catch((function(t){console.error("Upload failed:",t)}))}function a(t,e){let n;t.stopPropagation(),t.preventDefault(),"driver-auto-frontside"==t.target.id&&(n="driverAuto.frontside"),"driver-auto-reverseside"==t.target.id&&(n="driverAuto.reverseside");let i=t.target.files[0],o={contentType:i.type};r.child(`users/${e}/taxiDriver/driverAuto/${i.name}`).put(i,o).then((function(t){console.log("Uploaded",t.totalBytes,"bytes."),console.log("File metadata:",t.metadata),t.ref.getDownloadURL().then((function(t){console.log("File available at",t),Fs.collection("taxiDrivers").doc(e).update({[n]:t}).then((function(){console.log("Document successfully updated!")})).catch((function(t){console.error("Error updating document: ",t)}))}))})).catch((function(t){console.error("Upload failed:",t)}))}return[i,function(t){Fs.collection("taxiDrivers").doc(t).set(i).then((function(){console.log("Document successfully written!")})).catch((function(t){console.error("Error writing document: ",t)}))},o,a,function(){i.name=this.value,n(0,i)},function(){i.secondName=this.value,n(0,i)},function(){i.lastName=this.value,n(0,i)},function(){i.phone=this.value,n(0,i)},function(){i.carBrand=this.value,n(0,i)},function(){i.carNumber=this.value,n(0,i)},(t,e)=>o(e,t.uid),(t,e)=>o(e,t.uid),(t,e)=>a(e,t.uid),(t,e)=>a(e,t.uid)]}class Cv extends xt{constructor(t){super(),kt(this,t,Sv,Tv,s,{})}}function Av(t,e,n){const r=t.slice();return r[29]=e[n],r}function Pv(e){let n,r,i,o;return{c(){n=x("p"),r=x("button"),r.textContent="Добавить",C(r,"class","btn-green"),C(n,"class","mt-3 text-center")},m(t,a){w(t,n,a),b(n,r),i||(o=S(r,"click",e[14]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function Mv(t){let e,n,r,i,o,a=t[28],s=[];for(let e=0;e<a.length;e+=1)s[e]=Nv(Av(t,a,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=I(),n=x("p"),r=x("button"),r.textContent="Добавить",C(r,"class","btn-green"),C(n,"class","mt-3 text-center")},m(a,u){for(let t=0;t<s.length;t+=1)s[t].m(a,u);w(a,e,u),w(a,n,u),b(n,r),i||(o=S(r,"click",t[13]),i=!0)},p(t,n){if(268435456&n[0]){let r;for(a=t[28],r=0;r<a.length;r+=1){const i=Av(t,a,r);s[r]?s[r].p(i,n):(s[r]=Nv(i),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){k(s,t),t&&_(e),t&&_(n),i=!1,o()}}}function Nv(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p=t[29].model+"";function m(){return t[12](t[29])}return{c(){e=x("div"),n=x("div"),r=x("img"),o=I(),a=x("div"),s=x("span"),u=E(p),c=I(),l=x("div"),h=x("button"),h.textContent="Удалить",r.src!==(i=t[29].imgURL)&&C(r,"src",i),C(r,"alt","foto"),C(r,"class","w-20 h-20"),C(n,"class",""),C(s,"class"," text-teal-500"),C(h,"class","btn-orange"),C(e,"class","flex flex-row bg-white rounded-lg justify-between items-center overflow-hidden")},m(t,i){w(t,e,i),b(e,n),b(n,r),b(e,o),b(e,a),b(a,s),b(s,u),b(e,c),b(e,l),b(l,h),f||(d=S(h,"click",m),f=!0)},p(e,n){t=e,268435456&n[0]&&r.src!==(i=t[29].imgURL)&&C(r,"src",i),268435456&n[0]&&p!==(p=t[29].model+"")&&P(u,p)},d(t){t&&_(e),f=!1,d()}}}function Lv(t){let e;return{c(){e=x("span"),e.textContent="Не удалось загрузить...",C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Ov(t){let e;function n(t,e){return t[28].length>0?Mv:Pv}let r=n(t),i=r(t);return{c(){i.c(),e=I()},m(t,n){i.m(t,n),w(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&_(e)}}}function Rv(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,P,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,dt,pt="Другое"===t[1]&&Bv(t);function mt(t,e){return null!=t[3]?jv:Dv}let vt=mt(t),gt=vt(t);return{c(){e=x("div"),n=x("div"),n.innerHTML='<p class=" text-teal-500 text-center font-semibold">Регистрация спецтехники</p>',r=I(),i=x("div"),a=E("Вид спецтехники:\r\n                        "),s=x("select"),u=x("option"),c=x("option"),c.textContent="Строительная",l=x("option"),l.textContent="Дорожная",h=x("option"),h.textContent="Транспортная",f=x("option"),f.textContent="Коммунальная",d=x("option"),d.textContent="Грузовая",p=x("option"),p.textContent="Сельхозтехника",m=x("option"),m.textContent="Автоспецтехника",v=x("option"),v.textContent="Лесная",g=x("option"),g.textContent="Карьерная",y=x("option"),y.textContent="Производственная",k=I(),T=x("div"),P=E("Тип спецтехники:\r\n                        "),L=x("select"),O=x("option"),R=x("option"),R.textContent="Экскаватор",B=x("option"),B.textContent="Бульдозер",D=x("option"),D.textContent="Трактор",j=x("option"),j.textContent="Грейдер",U=x("option"),U.textContent="Самосвал",F=x("option"),F.textContent="Бетономешалка",$=x("option"),$.textContent="Бурильная техника",z=x("option"),z.textContent="Каток",V=x("option"),V.textContent="Ассенизатор",q=x("option"),q.textContent="Автокран",H=x("option"),H.textContent="Маннипулятор",G=x("option"),G.textContent="Автоподъемник",W=x("option"),W.textContent="Погрузчик",K=x("option"),K.textContent="Эвакуатор",Z=x("option"),Z.textContent="Другое",X=I(),pt&&pt.c(),J=I(),Y=x("div"),Q=x("input"),tt=I(),nt=x("div"),rt=x("input"),it=I(),ot=x("div"),at=x("input"),st=I(),ut=x("div"),gt.c(),ct=I(),lt=x("div"),ht=x("button"),ht.textContent="Зарегистрировать",u.__value="",u.value=u.__value,c.__value="Строительная",c.value=c.__value,l.__value="Дорожная",l.value=l.__value,h.__value="Транспортная",h.value=h.__value,f.__value="Коммунальная",f.value=f.__value,d.__value="Грузовая",d.value=d.__value,p.__value="Сельхозтехника",p.value=p.__value,m.__value="Автоспецтехника",m.value=m.__value,v.__value="Лесная",v.value=v.__value,g.__value="Карьерная",g.value=g.__value,y.__value="Производственная",y.value=y.__value,C(s,"class","svelte-db9c5f"),void 0===t[2]&&et(()=>t[16].call(s)),C(i,"class","mt-2"),O.__value="",O.value=O.__value,R.__value="Экскаватор",R.value=R.__value,B.__value="Бульдозер",B.value=B.__value,D.__value="Трактор",D.value=D.__value,j.__value="Грейдер",j.value=j.__value,U.__value="Самосвал",U.value=U.__value,F.__value="Бетономешалка",F.value=F.__value,$.__value="Бурильная",$.value=$.__value,z.__value="Каток",z.value=z.__value,V.__value="Ассенизатор",V.value=V.__value,q.__value="Автокран",q.value=q.__value,H.__value="Маннипулятор",H.value=H.__value,G.__value="Автоподъемник",G.value=G.__value,W.__value="Погрузчик",W.value=W.__value,K.__value="Эвакуатор",K.value=K.__value,Z.__value="Другое",Z.value=Z.__value,C(L,"class","svelte-db9c5f"),void 0===t[1]&&et(()=>t[17].call(L)),C(T,"class","mt-1"),C(Q,"type","text"),C(Q,"placeholder","Модель"),C(Q,"class","inputs svelte-db9c5f"),C(Y,"class","mt-2"),C(rt,"type","number"),C(rt,"placeholder","Стоимость аренды в час"),C(rt,"class","inputs svelte-db9c5f"),C(at,"type","text"),C(at,"placeholder","Номер телефона +7"),C(at,"class","inputs svelte-db9c5f"),C(ut,"class","image-upload svelte-db9c5f"),C(ht,"class","btn-orange"),C(lt,"class","mt-2 text-center"),C(e,"class","mt-2 p-1 bg-white rounded-lg")},m(o,_){w(o,e,_),b(e,n),b(e,r),b(e,i),b(i,a),b(i,s),b(s,u),b(s,c),b(s,l),b(s,h),b(s,f),b(s,d),b(s,p),b(s,m),b(s,v),b(s,g),b(s,y),N(s,t[2]),b(e,k),b(e,T),b(T,P),b(T,L),b(L,O),b(L,R),b(L,B),b(L,D),b(L,j),b(L,U),b(L,F),b(L,$),b(L,z),b(L,V),b(L,q),b(L,H),b(L,G),b(L,W),b(L,K),b(L,Z),N(L,t[1]),b(e,X),pt&&pt.m(e,null),b(e,J),b(e,Y),b(Y,Q),M(Q,t[0]),b(e,tt),b(e,nt),b(nt,rt),M(rt,t[5]),b(e,it),b(e,ot),b(ot,at),M(at,t[6]),b(e,st),b(e,ut),gt.m(ut,null),b(e,ct),b(e,lt),b(lt,ht),ft||(dt=[S(s,"change",t[16]),S(L,"change",t[17]),S(Q,"input",t[19]),S(rt,"input",t[20]),S(at,"input",t[21]),S(ht,"click",t[11])],ft=!0)},p(t,n){4&n[0]&&N(s,t[2]),2&n[0]&&N(L,t[1]),"Другое"===t[1]?pt?pt.p(t,n):(pt=Bv(t),pt.c(),pt.m(e,J)):pt&&(pt.d(1),pt=null),1&n[0]&&Q.value!==t[0]&&M(Q,t[0]),32&n[0]&&A(rt.value)!==t[5]&&M(rt,t[5]),64&n[0]&&at.value!==t[6]&&M(at,t[6]),vt===(vt=mt(t))&&gt?gt.p(t,n):(gt.d(1),gt=vt(t),gt&&(gt.c(),gt.m(ut,null)))},d(t){t&&_(e),pt&&pt.d(),gt.d(),ft=!1,o(dt)}}}function Bv(t){let e,n,r,i;return{c(){e=x("div"),n=x("input"),C(n,"type","text"),C(n,"placeholder","Тип спецтехники")},m(o,a){w(o,e,a),b(e,n),M(n,t[4]),r||(i=S(n,"input",t[18]),r=!0)},p(t,e){16&e[0]&&n.value!==t[4]&&M(n,t[4])},d(t){t&&_(e),r=!1,i()}}}function Dv(t){let e,n,r,i,o;function a(...e){return t[22](t[27],...e)}return{c(){e=x("label"),e.innerHTML='<p class="mt-3 text-sm text-teal-500">Сфотографируйте, а затем загрузите фото спецтехники</p> \n\n                            <img src="./icons/add_photo_teal.svg" alt="add_photo" class="img-icon svelte-db9c5f"/>',n=I(),r=x("input"),C(e,"for","carImage"),C(r,"type","file"),C(r,"id","carImage"),C(r,"name","file"),C(r,"class","svelte-db9c5f")},m(t,s){w(t,e,s),w(t,n,s),w(t,r,s),i||(o=S(r,"change",a),i=!0)},p(e,n){t=e},d(t){t&&_(e),t&&_(n),t&&_(r),i=!1,o()}}}function jv(t){let e,n;return{c(){e=x("img"),C(e,"class","img-up svelte-db9c5f"),e.src!==(n=t[3])&&C(e,"src",n),C(e,"alt","carImage")},m(t,n){w(t,e,n)},p(t,r){8&r[0]&&e.src!==(n=t[3])&&C(e,"src",n)},d(t){t&&_(e)}}}function Uv(t){let e,n,r,i,o,a,s;o=new Gu({props:{path:"rentalCars",query:function(...e){return t[15](t[27],...e)},$$slots:{default:[Ov,({data:t})=>({28:t}),({data:t})=>[t?268435456:0]],fallback:[Lv,({data:t})=>({28:t}),({data:t})=>[t?268435456:0]]},$$scope:{ctx:t}}});let u=t[9]&&Rv(t);return{c(){e=x("div"),n=x("div"),n.innerHTML='<p class=" text-teal-500 text-center font-semibold">Аренда и услуги спецтехники</p>',r=I(),i=x("div"),bt(o.$$.fragment),a=I(),u&&u.c(),C(i,"class","mt-3"),C(e,"class","mx-auto p-2 bg-white rounded-lg shadow-md lg:w-2/3")},m(t,c){w(t,e,c),b(e,n),b(e,r),b(e,i),wt(o,i,null),b(e,a),u&&u.m(e,null),s=!0},p(n,r){t=n;const i={};268435968&r[0]|2&r[1]&&(i.$$scope={dirty:r,ctx:t}),o.$set(i),t[9]?u?u.p(t,r):(u=Rv(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(t){s||(dt(o.$$.fragment,t),s=!0)},o(t){pt(o.$$.fragment,t),s=!1},d(t){t&&_(e),_t(o),u&&u.d()}}}function Fv(t){let e,n;return e=new lu({props:{$$slots:{default:[Uv,({user:t})=>({27:t}),({user:t})=>[t?134217728:0]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};639&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function $v(t){let e,n,r,i,o,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(t[8]),o=I(),a=x("p"),s=x("button"),s.textContent="Ок",C(r,"class","text-center"),C(s,"class","btn-orange"),C(a,"class","mt-2 text-center"),C(n,"class","p-3 border bg-white rounded-lg shadow-lg"),C(e,"id","alertBox"),C(e,"class"," fixed top-0")},m(u,f){w(u,e,f),b(e,n),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),c=!0,l||(h=S(s,"click",t[23]),l=!0)},p(t,e){(!c||256&e[0])&&P(i,t[8])},i(t){c||(et(()=>{u||(u=gt(n,nc,{duration:500},!0)),u.run(1)}),c=!0)},o(t){u||(u=gt(n,nc,{duration:500},!1)),u.run(0),c=!1},d(t){t&&_(e),t&&u&&u.end(),l=!1,h()}}}function zv(t){let e,n,r,i,o;n=new Hs({props:{firebase:le,$$slots:{default:[Fv]},$$scope:{ctx:t}}});let a=t[7]&&$v(t);return{c(){e=x("div"),bt(n.$$.fragment),r=I(),a&&a.c(),i=T(),C(e,"class","p-2 min-h-screen bg-gray-200")},m(t,s){w(t,e,s),wt(n,e,null),w(t,r,s),a&&a.m(t,s),w(t,i,s),o=!0},p(t,e){const r={};639&e[0]|2&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[7]?a?(a.p(t,e),128&e[0]&&dt(a,1)):(a=$v(t),a.c(),dt(a,1),a.m(i.parentNode,i)):a&&(ht(),pt(a,1,1,()=>{a=null}),ft())},i(t){o||(dt(n.$$.fragment,t),dt(a),o=!0)},o(t){pt(n.$$.fragment,t),pt(a),o=!1},d(t){t&&_(e),_t(n),t&&_(r),a&&a.d(t),t&&_(i)}}}function Vv(t,e,n){let r,i,o,a,s,u,c,l,h,f=$s.ref(),d="",p=!1;function m(t,e){t.stopPropagation(),t.preventDefault();let r=t.target.files[0],i={contentType:r.type};f.child(`users/${e}/rentalCar/${r.name}`).put(r,i).then((function(t){console.log("Uploaded",t.totalBytes,"bytes."),console.log("File metadata:",t.metadata),t.ref.getDownloadURL().then((function(t){console.log("File available at",t),n(3,s=t)}))})).catch((function(t){console.error("Upload failed:",t)}))}function v(t){l||(n(8,h=t),n(7,l=!0)),setTimeout(()=>{n(7,l=!1)},5e3)}le.auth().onAuthStateChanged((function(t){t&&(r=t)}));return[i,o,a,s,d,u,c,l,h,p,m,function(){if(a&&o&&i&&u&&c&&null!=s){let t={owner:r.uid,username:r.displayName,category:a,type:o,atype:d,model:i,price:u,phone:c,imgURL:s};Fs.collection("rentalCars").add(t).then((function(t){v("Спецтехника зарегистрирована.")})).catch((function(t){v("Ошибка: "+t)}))}else v("Заполните все поля и загрузите фото спецтехники.")},t=>t.ref.delete(),()=>n(9,p=!0),()=>n(9,p=!0),(t,e)=>e.where("owner","==",t.uid),function(){a=O(this),n(2,a)},function(){o=O(this),n(1,o)},function(){d=this.value,n(4,d)},function(){i=this.value,n(0,i)},function(){u=A(this.value),n(5,u)},function(){c=this.value,n(6,c)},(t,e)=>m(e,t.uid),()=>n(7,l=!1)]}class qv extends xt{constructor(t){super(),kt(this,t,Vv,zv,s,{},[-1,-1])}}function Hv(t){let e,n;return e=new qv({}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Gv(t){let e,n;return e=new Cv({}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Wv(t){let e,n;return e=new fv({}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Kv(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m;const v=[Wv,Gv,Hv],g=[];function y(t,e){return"ProfileMain"===t[0]?0:"TaxiDriverReg"===t[0]?1:"RentalCar"===t[0]?2:-1}return~(h=y(t))&&(f=g[h]=v[h](t)),{c(){e=x("div"),n=x("div"),r=x("div"),r.textContent="Настройки профиля",i=I(),a=x("div"),a.textContent="Такси",s=I(),u=x("div"),u.textContent="Спецтехника",c=I(),l=x("div"),f&&f.c(),C(r,"class","tab svelte-jwntai"),C(a,"class","tab ml-1 svelte-jwntai"),C(u,"class","tab ml-1 svelte-jwntai"),C(n,"class"," flex flex-row"),C(l,"class","bg-white"),C(e,"class","mt-16 bg-gray-800")},m(o,f){w(o,e,f),b(e,n),b(n,r),b(n,i),b(n,a),b(n,s),b(n,u),b(e,c),b(e,l),~h&&g[h].m(l,null),d=!0,p||(m=[S(r,"click",t[1]),S(a,"click",t[2]),S(u,"click",t[3])],p=!0)},p(t,[e]){let n=h;h=y(t),h!==n&&(f&&(ht(),pt(g[n],1,1,()=>{g[n]=null}),ft()),~h?(f=g[h],f||(f=g[h]=v[h](t),f.c()),dt(f,1),f.m(l,null)):f=null)},i(t){d||(dt(f),d=!0)},o(t){pt(f),d=!1},d(t){t&&_(e),~h&&g[h].d(),p=!1,o(m)}}}function Zv(t,e,n){let r="ProfileMain";return[r,()=>n(0,r="ProfileMain"),()=>n(0,r="TaxiDriverReg"),()=>n(0,r="RentalCar")]}function Xv(t,e,n){const r=t.slice();return r[16]=e[n],r}function Jv(t){let e,n,r=t[13].rating+"";return{c(){e=x("span"),n=E(r),C(e,"class","text-orange-500 font-semibold")},m(t,r){w(t,e,r),b(e,n)},p(t,e){8192&e&&r!==(r=t[13].rating+"")&&P(n,r)},d(t){t&&_(e)}}}function Yv(t){let e,n,r=t[13].rating+"";return{c(){e=x("span"),n=E(r),C(e,"class","text-green-500 font-semibold")},m(t,r){w(t,e,r),b(e,n)},p(t,e){8192&e&&r!==(r=t[13].rating+"")&&P(n,r)},d(t){t&&_(e)}}}function Qv(t){let e,n,r=t[13].rating+"";return{c(){e=x("span"),n=E(r),C(e,"class","text-red-500 font-semibold")},m(t,r){w(t,e,r),b(e,n)},p(t,e){8192&e&&r!==(r=t[13].rating+"")&&P(n,r)},d(t){t&&_(e)}}}function tg(e){let n;return{c(){n=x("i"),n.textContent="нет отзывов"},m(t,e){w(t,n,e)},p:t,d(t){t&&_(n)}}}function eg(t){let e,n=t[15],r=[];for(let e=0;e<n.length;e+=1)r[e]=ig(Xv(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(32768&i){let o;for(n=t[15],o=0;o<n.length;o+=1){const a=Xv(t,n,o);r[o]?r[o].p(a,i):(r[o]=ig(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&_(e)}}}function ng(e){let n;return{c(){n=x("i"),n.textContent="нет отзыва"},m(t,e){w(t,n,e)},p:t,d(t){t&&_(n)}}}function rg(t){let e,n=t[16].review+"";return{c(){e=E(n)},m(t,n){w(t,e,n)},p(t,r){32768&r&&n!==(n=t[16].review+"")&&P(e,n)},d(t){t&&_(e)}}}function ig(t){let e,n;function r(t,e){return null!=t[16].review?rg:ng}let i=r(t),o=i(t);return{c(){e=x("div"),o.c(),n=I(),C(e,"class","m-1 p-1 text-sm bg-gray-100 rounded-lg")},m(t,r){w(t,e,r),o.m(e,null),b(e,n)},p(t,a){i===(i=r(t))&&o?o.p(t,a):(o.d(1),o=i(t),o&&(o.c(),o.m(e,n)))},d(t){t&&_(e),o.d()}}}function og(t){let e;return{c(){e=x("div"),e.textContent="Не удалось загрузить",C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function ag(t){let e,n,r;function i(t,e){return t[15].length>=1?eg:tg}let o=i(t),a=o(t);return{c(){e=x("p"),e.textContent="Отзывы",n=I(),a.c(),r=I(),C(e,"class","text-lg text-center font-semibold")},m(t,i){w(t,e,i),w(t,n,i),a.m(t,i),w(t,r,i)},p(t,e){o===(o=i(t))&&a?a.p(t,e):(a.d(1),a=o(t),a&&(a.c(),a.m(r.parentNode,r)))},d(t){t&&_(e),t&&_(n),a.d(t),t&&_(r)}}}function sg(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,mt,vt,gt,yt,kt,xt,Et,It,Tt,St,Ct,At,Pt,Mt,Nt,Lt,Ot,Rt,Bt,Dt,jt,Ut=t[13].name+"",Ft=t[13].lastName+"";function $t(t,e){return t[13].rating<3?Qv:t[13].rating>4?Yv:Jv}let zt=$t(t),Vt=zt(t);function qt(){return t[11](t[12])}return Rt=new Gu({props:{path:t[14].collection("ratings"),$$slots:{default:[ag,({data:t})=>({15:t}),({data:t})=>t?32768:0],fallback:[og,({data:t})=>({15:t}),({data:t})=>t?32768:0]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("div"),r=x("img"),a=I(),s=x("div"),u=x("div"),c=x("span"),l=E(Ut),h=I(),f=E(Ft),d=I(),p=x("div"),m=x("img"),g=I(),Vt.c(),y=I(),k=x("div"),T=x("p"),T.textContent="Предложить поездку",L=I(),O=x("div"),R=x("label"),R.textContent="Откуда:",B=I(),D=x("input"),j=I(),U=x("div"),F=x("label"),F.textContent="Куда:",$=I(),z=x("input"),V=I(),q=x("div"),H=x("label"),H.textContent="Цена в рублях:",G=I(),W=x("input"),K=I(),Z=x("div"),X=x("label"),X.textContent="Способ оплаты:",J=I(),Y=x("select"),Q=x("option"),tt=x("option"),tt.textContent="Наличные",nt=x("option"),nt.textContent="Автокарта",rt=x("option"),rt.textContent="Сбербанк-онлайн",it=x("option"),it.textContent="Киви-кошелёк",ot=I(),at=x("div"),st=x("label"),st.textContent="Детское кресло:",ut=I(),ct=x("input"),lt=I(),ht=x("div"),ft=x("label"),ft.textContent="Животное:",mt=I(),vt=x("input"),gt=I(),yt=x("div"),kt=x("label"),kt.textContent="Номер мобильного:",xt=I(),Et=x("input"),It=I(),Tt=x("div"),St=x("label"),St.textContent="Примечание:",Ct=I(),At=x("input"),Pt=I(),Mt=x("div"),Nt=x("button"),Nt.textContent="Предложить",Lt=I(),Ot=x("div"),bt(Rt.$$.fragment),r.src!==(i=t[13].driverAuto.frontside)&&C(r,"src",i),C(r,"alt","auto"),C(c,"class"," font-semibold"),m.src!==(v="./icons/star.svg")&&C(m,"src","./icons/star.svg"),C(m,"alt","rating"),C(m,"class"," inline-block w-6 h-6"),C(s,"class","mt-1 px-1 flex flex-row justify-between items-center content-center"),C(e,"class","p-2 rounded-lg shadow-md"),C(T,"class","my-1 text-lg text-center font-semibold text-gray-900"),C(D,"type","text"),C(O,"class","mt-3"),C(z,"type","text"),C(U,"class","mt-2"),C(W,"type","number"),C(q,"class","mt-2"),Q.__value="false",Q.value=Q.__value,tt.__value="Наличные",tt.value=tt.__value,nt.__value="Автокарта",nt.value=nt.__value,rt.__value="Сбербанк-онлайн",rt.value=rt.__value,it.__value="Киви-кошелёк",it.value=it.__value,void 0===t[1].paymentMethod&&et(()=>t[6].call(Y)),C(Z,"class","mt-2"),C(ct,"type","checkbox"),C(at,"class","mt-3"),C(vt,"type","checkbox"),C(ht,"class","mt-3"),C(Et,"type","text"),C(Et,"placeholder","+71234567890"),C(yt,"class","mt-2"),C(At,"type","text"),C(Tt,"class","mt-2"),C(Nt,"class","btn-orange"),C(Mt,"class","mt-4 text-center"),C(k,"class","m-1 mt-1 p-2 rounded-lg border shadow-lg"),C(Ot,"class","m-1 mt-2 p-2 rounded-lg border shadow-lg")},m(i,o){w(i,e,o),b(e,n),b(n,r),b(e,a),b(e,s),b(s,u),b(u,c),b(c,l),b(c,h),b(c,f),b(s,d),b(s,p),b(p,m),b(p,g),Vt.m(p,null),w(i,y,o),w(i,k,o),b(k,T),b(k,L),b(k,O),b(O,R),b(O,B),b(O,D),M(D,t[1].addressFrom),b(k,j),b(k,U),b(U,F),b(U,$),b(U,z),M(z,t[1].addressTo),b(k,V),b(k,q),b(q,H),b(q,G),b(q,W),M(W,t[1].price),b(k,K),b(k,Z),b(Z,X),b(Z,J),b(Z,Y),b(Y,Q),b(Y,tt),b(Y,nt),b(Y,rt),b(Y,it),N(Y,t[1].paymentMethod),b(k,ot),b(k,at),b(at,st),b(at,ut),b(at,ct),ct.checked=t[1].childSeat,b(k,lt),b(k,ht),b(ht,ft),b(ht,mt),b(ht,vt),vt.checked=t[1].animal,b(k,gt),b(k,yt),b(yt,kt),b(yt,xt),b(yt,Et),M(Et,t[1].phone),b(k,It),b(k,Tt),b(Tt,St),b(Tt,Ct),b(Tt,At),M(At,t[1].desc),b(k,Pt),b(k,Mt),b(Mt,Nt),w(i,Lt,o),w(i,Ot,o),wt(Rt,Ot,null),Bt=!0,Dt||(jt=[S(D,"input",t[3]),S(z,"input",t[4]),S(W,"input",t[5]),S(Y,"change",t[6]),S(ct,"change",t[7]),S(vt,"change",t[8]),S(Et,"input",t[9]),S(At,"input",t[10]),S(Nt,"click",qt)],Dt=!0)},p(e,n){t=e,(!Bt||8192&n&&r.src!==(i=t[13].driverAuto.frontside))&&C(r,"src",i),(!Bt||8192&n)&&Ut!==(Ut=t[13].name+"")&&P(l,Ut),(!Bt||8192&n)&&Ft!==(Ft=t[13].lastName+"")&&P(f,Ft),zt===(zt=$t(t))&&Vt?Vt.p(t,n):(Vt.d(1),Vt=zt(t),Vt&&(Vt.c(),Vt.m(p,null))),2&n&&D.value!==t[1].addressFrom&&M(D,t[1].addressFrom),2&n&&z.value!==t[1].addressTo&&M(z,t[1].addressTo),2&n&&A(W.value)!==t[1].price&&M(W,t[1].price),2&n&&N(Y,t[1].paymentMethod),2&n&&(ct.checked=t[1].childSeat),2&n&&(vt.checked=t[1].animal),2&n&&Et.value!==t[1].phone&&M(Et,t[1].phone),2&n&&At.value!==t[1].desc&&M(At,t[1].desc);const o={};16384&n&&(o.path=t[14].collection("ratings")),557056&n&&(o.$$scope={dirty:n,ctx:t}),Rt.$set(o)},i(t){Bt||(dt(Rt.$$.fragment,t),Bt=!0)},o(t){pt(Rt.$$.fragment,t),Bt=!1},d(t){t&&_(e),Vt.d(),t&&_(y),t&&_(k),t&&_(Lt),t&&_(Ot),_t(Rt),Dt=!1,o(jt)}}}function ug(t){let e,n;return e=new Pu({props:{path:"taxiDrivers/"+t[0].id,$$slots:{default:[sg,({data:t,ref:e})=>({13:t,14:e}),({data:t,ref:e})=>(t?8192:0)|(e?16384:0)]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.path="taxiDrivers/"+t[0].id),548866&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function cg(t){let e,n;return e=new lu({props:{$$slots:{default:[ug,({user:t})=>({12:t}),({user:t})=>t?4096:0]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};524291&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function lg(t){let e,n,r;return n=new Hs({props:{firebase:le,$$slots:{default:[cg]},$$scope:{ctx:t}}}),{c(){e=x("div"),bt(n.$$.fragment),C(e,"class","mt-16")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,[e]){const r={};524291&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function hg(t,e,n){let{params:r={}}=e,i={date:le.firestore.FieldValue.serverTimestamp(),addressFrom:"",addressTo:"",childSeat:!1,animal:!1,phone:"+7",desc:"",price:0,paymentMethod:!1,active:!0};function o(t,e){Fs.collection(`taxiOrders/region/${region}/city/${city}`).add(i).then((function(t){console.log("Document written with ID: ",t.id),alert("Ваша заказ оформлен!")})).catch((function(t){console.error("Error adding document: ",t)}))}return t.$$set=t=>{"params"in t&&n(0,r=t.params)},[r,i,o,function(){i.addressFrom=this.value,n(1,i)},function(){i.addressTo=this.value,n(1,i)},function(){i.price=A(this.value),n(1,i)},function(){i.paymentMethod=O(this),n(1,i)},function(){i.childSeat=this.checked,n(1,i)},function(){i.animal=this.checked,n(1,i)},function(){i.phone=this.value,n(1,i)},function(){i.desc=this.value,n(1,i)},t=>o(t.uid,t.displayName)]}function fg(t,e,n){const r=t.slice();return r[31]=e[n],r}function dg(t){let e,n,r;return{c(){e=x("span"),e.textContent="удалить тему",C(e,"class"," float-right font-normal text-xs cursor-pointer text-teal-600")},m(i,o){w(i,e,o),n||(r=S(e,"click",(function(){a(t[28].delete().then(t[10]))&&t[28].delete().then(t[10]).apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function pg(t){let e,n;return{c(){e=x("span"),n=E(t[1]),C(e,"class","mx-2")},m(t,r){w(t,e,r),b(e,n)},p(t,e){2&e[0]&&P(n,t[1])},d(t){t&&_(e)}}}function mg(t){let e,n;return{c(){e=x("span"),n=E(t[1]),C(e,"class","mx-2 text-red-500")},m(t,r){w(t,e,r),b(e,n)},p(t,e){2&e[0]&&P(n,t[1])},d(t){t&&_(e)}}}function vg(t){let e,n;return{c(){e=x("span"),n=E(t[1]),C(e,"class","mx-2 text-green-500")},m(t,r){w(t,e,r),b(e,n)},p(t,e){2&e[0]&&P(n,t[1])},d(t){t&&_(e)}}}function gg(t){let e,n,r,i=t[31].date.toDate().toLocaleDateString("ru-RU",{day:"numeric",month:"long"})+"",o=t[31].date.toDate().toLocaleTimeString("ru-RU",{hour12:!1})+"";return{c(){e=E(i),n=I(),r=E(o)},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i)},p(t,n){536870912&n[0]&&i!==(i=t[31].date.toDate().toLocaleDateString("ru-RU",{day:"numeric",month:"long"})+"")&&P(e,i),536870912&n[0]&&o!==(o=t[31].date.toDate().toLocaleTimeString("ru-RU",{hour12:!1})+"")&&P(r,o)},d(t){t&&_(e),t&&_(n),t&&_(r)}}}function yg(t){let e,n,r,i,o,a,s,u,c,l,h,f,d=t[31].text+"",p=t[31].username+"",m=null!=t[31].date&&gg(t);return{c(){e=x("div"),n=x("div"),r=E(d),i=I(),o=x("div"),a=x("div"),s=x("span"),u=E(p),c=I(),l=x("div"),h=x("span"),m&&m.c(),f=I(),C(s,"class","text-xs text-gray-700 font-semibold"),C(h,"class"," text-gray-700 text-xs"),C(o,"class","flex flex-row justify-between"),C(e,"class","my-2 p-1 bg-white rounded-lg shadow-md")},m(t,d){w(t,e,d),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a),b(a,s),b(s,u),b(o,c),b(o,l),b(l,h),m&&m.m(h,null),b(e,f)},p(t,e){536870912&e[0]&&d!==(d=t[31].text+"")&&P(r,d),536870912&e[0]&&p!==(p=t[31].username+"")&&P(u,p),null!=t[31].date?m?m.p(t,e):(m=gg(t),m.c(),m.m(h,null)):m&&(m.d(1),m=null)},d(t){t&&_(e),m&&m.d()}}}function bg(t){let e,n,r=t[29].length<10&&wg(t),i=10===t[29].length&&_g(t);return{c(){e=x("div"),r&&r.c(),n=I(),i&&i.c(),C(e,"class","w-full text-center")},m(t,o){w(t,e,o),r&&r.m(e,null),b(e,n),i&&i.m(e,null)},p(t,o){t[29].length<10?r?r.p(t,o):(r=wg(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),10===t[29].length?i?i.p(t,o):(i=_g(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&_(e),r&&r.d(),i&&i.d()}}}function wg(t){let e,n,r;function i(){return t[14](t[30])}return{c(){e=x("button"),e.innerHTML='<img src="./icons/expand_less.svg" alt="prev"/>',C(e,"class","mr-4 p-2 border rounded-full bg-white")},m(t,o){w(t,e,o),n||(r=S(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function _g(t){let e,n,r;function i(){return t[15](t[30])}return{c(){e=x("button"),e.innerHTML='<img src="./icons/expand_more.svg" alt="next"/>',C(e,"class","mr-4 p-2 border rounded-full bg-white")},m(t,o){w(t,e,o),n||(r=S(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function kg(e){let n,r,i,o;return{c(){n=x("div"),r=x("button"),r.innerHTML='<img src="./icons/expand_less.svg" alt="prev"/>',C(r,"class","mr-4 p-2 border rounded-full bg-white"),C(n,"class","w-full text-center")},m(t,a){w(t,n,a),b(n,r),i||(o=S(r,"click",e[16]),i=!0)},p:t,d(t){t&&_(n),i=!1,o()}}}function xg(t){let e;return{c(){e=x("span"),e.textContent="Не удалось загрузить",C(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Eg(t){let e,n,r,i,o=t[29],a=[];for(let e=0;e<o.length;e+=1)a[e]=yg(fg(t,o,e));let s=0!=t[29].length&&bg(t),u=0==t[29].length&&kg(t);return{c(){e=x("div");for(let t=0;t<a.length;t+=1)a[t].c();n=I(),s&&s.c(),r=I(),u&&u.c(),i=I()},m(t,o){w(t,e,o);for(let t=0;t<a.length;t+=1)a[t].m(e,null);w(t,n,o),s&&s.m(t,o),w(t,r,o),u&&u.m(t,o),w(t,i,o)},p(t,n){if(536870912&n[0]){let r;for(o=t[29],r=0;r<o.length;r+=1){const i=fg(t,o,r);a[r]?a[r].p(i,n):(a[r]=yg(i),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}0!=t[29].length?s?s.p(t,n):(s=bg(t),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),0==t[29].length?u?u.p(t,n):(u=kg(t),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(t){t&&_(e),k(a,t),t&&_(n),s&&s.d(t),t&&_(r),u&&u.d(t),t&&_(i)}}}function Ig(t){let e,n,r,i,a,s,u,c,l,h;return{c(){e=x("div"),n=x("div"),r=x("textarea"),i=I(),a=x("div"),s=x("button"),s.textContent="Закрыть",u=I(),c=x("button"),c.textContent="Отправить",C(r,"class","mx-auto p-1 w-full border rounded-lg shadow"),C(r,"placeholder","Сообщение"),C(s,"class","btn-gray"),C(c,"class","btn-orange"),C(a,"class"," text-center"),C(e,"class","fixed bottom-0 border bg-gray-100 rounded-lg w-full p-2")},m(o,f){w(o,e,f),b(e,n),b(n,r),M(r,t[2]),b(e,i),b(e,a),b(a,s),b(a,u),b(a,c),l||(h=[S(r,"input",t[17]),S(s,"click",t[18]),S(c,"click",t[9])],l=!0)},p(t,e){4&e[0]&&M(r,t[2])},d(t){t&&_(e),l=!1,o(h)}}}function Tg(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,A,M,N,L,O,R,B,D,j,U,F,$,z,V,q,H,G,W,K,Z,X,J,Y,Q,tt,et=t[27].header+"",nt=t[27].text+"",rt=t[27].username+"",it=t[27].date.toDate().toLocaleDateString("ru-RU",{day:"numeric",month:"long"})+"",ot=t[27].date.toDate().toLocaleTimeString("ru-RU",{hour12:!1})+"",at=t[27].owner===t[26].uid&&dg(t);function st(t,e){return t[1]>0?vg:t[1]<0?mg:pg}let ut=st(t),ct=ut(t);Z=new Gu({props:{path:t[28].collection("replies"),query:t[4],$$slots:{default:[Eg,({data:t,last:e})=>({29:t,30:e}),({data:t,last:e})=>[(t?536870912:0)|(e?1073741824:0)]],fallback:[xg,({data:t,last:e})=>({29:t,30:e}),({data:t,last:e})=>[(t?536870912:0)|(e?1073741824:0)]]},$$scope:{ctx:t}}});let lt=t[3]&&Ig(t);return{c(){e=x("div"),n=x("div"),r=x("p"),i=E(et),a=I(),at&&at.c(),s=I(),u=x("div"),c=x("p"),l=E(nt),h=I(),f=x("div"),d=x("div"),p=x("span"),m=E(rt),v=I(),g=x("div"),y=x("div"),k=x("div"),A=x("img"),N=I(),L=x("div"),ct.c(),O=I(),R=x("div"),B=x("img"),j=I(),U=x("div"),F=x("span"),$=E(it),z=I(),V=E(ot),q=I(),H=x("div"),G=x("button"),G.textContent="Ответить",W=I(),K=x("div"),bt(Z.$$.fragment),X=I(),lt&&lt.c(),J=T(),C(r,"class"," text-lg font-semibold"),C(c,"class","text-justify leading-tight"),C(p,"class","text-xs text-gray-700 font-semibold"),C(A,"class"," cursor-pointer"),A.src!==(M="./icons/thumb_down_red.svg")&&C(A,"src","./icons/thumb_down_red.svg"),C(A,"alt","down"),C(B,"class"," cursor-pointer"),B.src!==(D="./icons/thumb_up_green.svg")&&C(B,"src","./icons/thumb_up_green.svg"),C(B,"alt","up"),C(y,"class","p-1 flex flex-row"),C(F,"class"," text-gray-700 text-xs"),C(f,"class","mt-2 flex flex-row justify-between"),C(G,"class","p-1 text-sm border bg-white text-green-600 rounded-md shadow-lg"),C(H,"class"," float-right"),C(e,"class","sticky top-0 mt-16 w-full p-2 bg-white rounded-lg shadow-md"),C(K,"class","mt-1 p-2")},m(o,_){w(o,e,_),b(e,n),b(n,r),b(r,i),b(r,a),at&&at.m(r,null),b(e,s),b(e,u),b(u,c),b(c,l),b(e,h),b(e,f),b(f,d),b(d,p),b(p,m),b(f,v),b(f,g),b(g,y),b(y,k),b(k,A),b(y,N),b(y,L),ct.m(L,null),b(y,O),b(y,R),b(R,B),b(f,j),b(f,U),b(U,F),b(F,$),b(F,z),b(F,V),b(e,q),b(e,H),b(H,G),w(o,W,_),w(o,K,_),wt(Z,K,null),w(o,X,_),lt&&lt.m(o,_),w(o,J,_),Y=!0,Q||(tt=[S(A,"click",t[11]),S(B,"click",t[12]),S(G,"click",t[13])],Q=!0)},p(t,e){(!Y||134217728&e[0])&&et!==(et=t[27].header+"")&&P(i,et),t[27].owner===t[26].uid?at?at.p(t,e):(at=dg(t),at.c(),at.m(r,null)):at&&(at.d(1),at=null),(!Y||134217728&e[0])&&nt!==(nt=t[27].text+"")&&P(l,nt),(!Y||134217728&e[0])&&rt!==(rt=t[27].username+"")&&P(m,rt),ut===(ut=st(t))&&ct?ct.p(t,e):(ct.d(1),ct=ut(t),ct&&(ct.c(),ct.m(L,null))),(!Y||134217728&e[0])&&it!==(it=t[27].date.toDate().toLocaleDateString("ru-RU",{day:"numeric",month:"long"})+"")&&P($,it),(!Y||134217728&e[0])&&ot!==(ot=t[27].date.toDate().toLocaleTimeString("ru-RU",{hour12:!1})+"")&&P(V,ot);const n={};268435456&e[0]&&(n.path=t[28].collection("replies")),16&e[0]&&(n.query=t[4]),536870912&e[0]|8&e[1]&&(n.$$scope={dirty:e,ctx:t}),Z.$set(n),t[3]?lt?lt.p(t,e):(lt=Ig(t),lt.c(),lt.m(J.parentNode,J)):lt&&(lt.d(1),lt=null)},i(t){Y||(dt(Z.$$.fragment,t),Y=!0)},o(t){pt(Z.$$.fragment,t),Y=!1},d(t){t&&_(e),at&&at.d(),ct.d(),t&&_(W),t&&_(K),_t(Z),t&&_(X),lt&&lt.d(t),t&&_(J),Q=!1,o(tt)}}}function Sg(t){let e,n;return e=new Pu({props:{path:"topics/"+t[0].id,$$slots:{default:[Tg,({data:t,ref:e})=>({27:t,28:e}),({data:t,ref:e})=>[(t?134217728:0)|(e?268435456:0)]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.path="topics/"+t[0].id),469762078&n[0]|8&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Cg(t){let e,n;return e=new lu({props:{$$slots:{default:[Sg,({user:t})=>({26:t}),({user:t})=>[t?67108864:0]]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const r={};67108895&n[0]|8&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Ag(t){let e,n,r;return n=new Hs({props:{firebase:le,$$slots:{default:[Cg]},$$scope:{ctx:t}}}),{c(){e=x("div"),bt(n.$$.fragment),C(e,"class","mt-16 h-full min-h-screen bg-gray-200")},m(t,i){w(t,e,i),wt(n,e,null),r=!0},p(t,e){const r={};31&e[0]|8&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(dt(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Pg(t,e,n){let r,{params:i={}}=e;$s.ref();le.auth().onAuthStateChanged((function(t){t?r=t:console.log("no user login")}));let o=0,a="",s=!1,u=t=>t.orderBy("date","desc").limit(10);function c(t){n(4,u=e=>e.orderBy("date","desc").startAfter(t.date).limit(10))}function l(t){n(4,u=e=>e.orderBy("date","desc").endAt(t.date).limit(10))}function h(){n(4,u=t=>t.orderBy("date","desc").limit(10))}function f(){n(1,o=0),Fs.collection(`topics/${i.id}/votes`).get().then((function(t){t.forEach((function(t){const e=t.data();"up"===e.vote?n(1,o++,o):"down"===e.vote&&n(1,o--,o)})),t.size%10==0&&(o>0?Fs.collection("topics").doc(i.id).get().then((function(t){!function(t){le.functions().httpsCallable("ratingIncrement")({author:t}).then((function(t){console.log("done")})).catch((function(t){console.log(t.code,t.message,t.details)}))}(t.data().owner)})).catch((function(t){console.log(t.code,t.message,t.details)})):Fs.collection("topics").doc(i.id).get().then((function(t){!function(t){le.functions().httpsCallable("ratingDecrement")({author:t}).then((function(t){console.log("done")})).catch((function(t){console.log(t.code,t.message,t.details)}))}(t.data().owner)})).catch((function(t){console.log(t.code,t.message,t.details)})))}))}function d(t){Fs.collection(`topics/${i.id}/votes`).where("owner","==",r.uid).get().then((function(e){if(e.empty)!function(t){Fs.collection(`topics/${i.id}/votes`).add({owner:r.uid,vote:t}).then(()=>{f(),console.log("voted")})}(t);else{let n=e.docs[0].ref.id;!function(e,n){console.log("update start"),Fs.collection(e).doc(n).update({vote:t}).then(()=>{f(),console.log("updated")})}(e.docs[0].ref.parent.path,n)}}))}f();return t.$$set=t=>{"params"in t&&n(0,i=t.params)},[i,o,a,s,u,c,l,h,d,function(){Fs.collection(`topics/${i.id}/replies`).add({date:le.firestore.FieldValue.serverTimestamp(),owner:r.uid,username:r.displayName,text:a}).then((function(t){n(2,a=""),console.log("Document written with ID: ",t.id)})).catch((function(t){console.error("Error adding document: ",t)}))},()=>function(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");return tt().then(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t})}("/"),()=>d("down"),()=>d("up"),()=>n(3,s=!0),t=>l(t),t=>c(t),()=>h(),function(){a=this.value,n(2,a)},()=>n(3,s=!1)]}function Mg(t){let e;return{c(){e=x("div"),e.innerHTML='<p class="svelte-1vh66x8">Бизнес-ангелы - это независимые инвесторы, которые способны вложить в проект деньги на самых ранних стадиях.</p> \n            <p class="svelte-1vh66x8">Avtokarta.club предлагает ангелам приобрести собственные токены \n                <a href="https://etherscan.io/token/0x943b8cc219a5fb3ba70adb173774987c63c3080b" class="svelte-1vh66x8">TAK</a> \n                стандарта  <a href="https://eips.ethereum.org/EIPS/eip-777" class="svelte-1vh66x8">ERC777</a> (новый стандарт токенов на блокчейне Ethereum).</p> \n            <p class="svelte-1vh66x8">1 токен ТАК = 1 российский рубль.</p> \n            <p class="svelte-1vh66x8">ICO (Initial Coin Offering) – первичное предложение токенов, которые дают право участвовать в выбранном проекте.</p> \n            <p class="svelte-1vh66x8">Pre-Sale - ранняя стадия ICO, на которой токены предлагаются со значительной скидкой. \n                Всего будет продано 5 млн. токенов со скидкой 50%.</p> \n            <p class="svelte-1vh66x8">Возврат инвестиций. После открытии биржи токенов, ангелы первыми получают доступ к продажам токенов. \n                Спрос токенов обеспечат инвесторы в регионах, которые хотят стать партнерами и пробрести франшизу платформы, \n                так как франшиза приобретается за токены. Следующими доступ к продажам токенов получают франчайзи, которые \n                обеспечат быстрый и выгодный обмен токенов в регонах для клиентов платформы. После окончания ICO доступ к бирже \n                будет открыт для всех.</p> \n            <p class="svelte-1vh66x8">Приобрести токены можно будет с 20 июня 2020 года на странице <a href="#/ico" class="svelte-1vh66x8">ICO</a>.</p>',C(e,"id","angels")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Ng(t){let e;return{c(){e=x("div"),e.innerHTML='<p class="svelte-1vh66x8">Для партнеров, которые хотят иметь долю в перспективной платформе, Avtokarta.club предлагает \n                взаимовыгодную, понятную и простую схему сотрудничества - франшиза.</p> \n            <p class="svelte-1vh66x8">Партнер приобретающий франшизу\n                (далее франчайзи), единожды оплачивает паушальный взнос и выбирает город, который будет закрепллён за франчайзи.</p> \n            <p class="svelte-1vh66x8">Далее вся прибыль полученная от комисси такси, комиссии аренды спецтехники, премиум аккаунтов пользователей, \n                платных услуг для сервисов, рекламных блоков на карте данного города, включая его административные границы,\n                делится 50/50, пока будет существовать платформа. Больше никаких платежей, взносов и прочего.</p>',C(e,"id","franchise")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Lg(t){let e;return{c(){e=x("div"),e.innerHTML='<p class="svelte-1vh66x8">На SMM (social media marketing) в Avtokarta.club выделено 100 млн. токенов ТАК. За каждого нового пользователя,\n                зарегистрированного по вашему промокоду, Avtokarta.club переводит вам 100 токенов ТАК.</p>',C(e,"id","smm")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Og(t){let e;return{c(){e=x("div"),e.innerHTML='<p class="svelte-1vh66x8">К концу 2020 года Avtokarta.club полностью перейдёт на децентрализованную систему взаимодействия между \n            пользователями, разработчиками и инвесторами. Таким образом, единственный способ воспользоваться всеми\n            преимуществами платформы, станет токен ТАК.</p> \n            <p class="svelte-1vh66x8">Все, пользователи платформы и держатели токена ТАК заинтересованы в его стабильности и ликвидности.\n            Для этого перед открытием биржи, все токены, за вычетом выделенных на маркетинг,\n            разработку и поддержку платформы, переводятся на специальный смарт-контракт, который не имеет владельца, \n            тем самым исключается возможность обмана со стороны разработчиков платформы.</p> \n            <p class="svelte-1vh66x8">Смарт-контракт позволит пользователям &quot;майнить&quot; токены ТАК. Например, держатель токена переводит токены\n            на смарт-контракт, если на счету контракта достаточно токенов, чтобы вернуть владельцу депозит плюс проценты,\n            тогда токены замораживаются контрактом на инвестиционный период, после истечения срока токены размораживаются\n            и становятся доступны для их владельца. Вот так просто и прозрачно &quot;майнятся&quot; токены ТАК.\n            Общее колличество токенов ТАК 21 трлн.</p>',C(e,"id","blockchain")},m(t,n){w(t,e,n)},d(t){t&&_(e)}}}function Rg(e){let n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,E,T=e[0]&&Mg(),A=e[1]&&Ng(),P=e[2]&&Lg(),M=e[3]&&Og();return{c(){n=x("div"),r=x("div"),i=x("div"),i.innerHTML='<span class="headers svelte-1vh66x8">АНГЕЛЫ ПРОЕКТА</span> \n            <img src="./img/angel.jpg" alt="angel" class="svelte-1vh66x8"/>',a=I(),T&&T.c(),s=I(),u=x("div"),c=x("div"),c.innerHTML='<span class="headers svelte-1vh66x8">ФРАНШИЗА</span> \n            <img src="./img/map-pin.jpg" alt="map" class="svelte-1vh66x8"/>',l=I(),A&&A.c(),h=I(),f=x("div"),d=x("div"),d.innerHTML='<span class="headers svelte-1vh66x8">SOCIAL MEDIA</span> \n            <img src="./img/social-media.jpg" alt="sm" class="svelte-1vh66x8"/>',p=I(),P&&P.c(),m=I(),v=x("div"),g=x("div"),g.innerHTML='<span class="headers svelte-1vh66x8">МАЙНИНГ</span> \n            <img src="./img/blockchain-world.jpg" alt="angel" class="svelte-1vh66x8"/>',y=I(),M&&M.c(),C(i,"class","title svelte-1vh66x8"),C(c,"class","title svelte-1vh66x8"),C(d,"class","title svelte-1vh66x8"),C(g,"class","title svelte-1vh66x8"),C(n,"class","mt-16")},m(t,o){w(t,n,o),b(n,r),b(r,i),b(r,a),T&&T.m(r,null),b(n,s),b(n,u),b(u,c),b(u,l),A&&A.m(u,null),b(n,h),b(n,f),b(f,d),b(f,p),P&&P.m(f,null),b(n,m),b(n,v),b(v,g),b(v,y),M&&M.m(v,null),k||(E=[S(i,"click",e[4]),S(i,"click",e[5]),S(c,"click",e[6]),S(c,"click",e[7]),S(d,"click",e[8]),S(d,"click",e[9]),S(g,"click",e[10]),S(g,"click",e[11])],k=!0)},p(t,[e]){t[0]?T||(T=Mg(),T.c(),T.m(r,null)):T&&(T.d(1),T=null),t[1]?A||(A=Ng(),A.c(),A.m(u,null)):A&&(A.d(1),A=null),t[2]?P||(P=Lg(),P.c(),P.m(f,null)):P&&(P.d(1),P=null),t[3]?M||(M=Og(),M.c(),M.m(v,null)):M&&(M.d(1),M=null)},i:t,o:t,d(t){t&&_(n),T&&T.d(),A&&A.d(),P&&P.d(),M&&M.d(),k=!1,o(E)}}}function Bg(t){document.querySelector(t).scrollIntoView({block:"start",behavior:"smooth"})}function Dg(t,e,n){let r=!1,i=!1,o=!1,a=!1;return[r,i,o,a,()=>n(0,r=!0),()=>Bg("#angels"),()=>n(1,i=!0),()=>Bg("#franchise"),()=>n(2,o=!0),()=>Bg("#smm"),()=>n(3,a=!0),()=>Bg("#blockchain")]}function jg(t){let e,n,r,i,o,a,s,u,c=Math.trunc(5e6-t[3])+"",l=Math.trunc(t[3])+"";return{c(){e=x("div"),n=x("span"),r=E("Продано: "),i=E(c),o=E("\r\n            /\r\n            "),a=x("span"),s=E("Доступно: "),u=E(l),C(e,"class"," text-xs italic text-center text-purple-900")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,i),b(e,o),b(e,a),b(a,s),b(a,u)},p(t,e){8&e[0]&&c!==(c=Math.trunc(5e6-t[3])+"")&&P(i,c),8&e[0]&&l!==(l=Math.trunc(t[3])+"")&&P(u,l)},d(t){t&&_(e)}}}function Ug(e){let n;return{c(){n=x("div"),n.innerHTML='<p class="p-2 mx-auto border bg-white rounded-lg shadow-lg">Для покупки токенов установите расширение для браузера \n            <a class=" underline text-orange-500 font-semibold" href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn">MetaMask</a>\n            или воспользуйтесь встроенным крипто-кошельком на сайте.</p>',C(n,"class","mx-auto mt-6 p-2 lg:w-1/2")},m(t,e){w(t,n,e)},p:t,d(t){t&&_(n)}}}function Fg(t){let e,n,r,i,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,N,L,O,R,B=null!=t[8]&&$g(t);return{c(){e=x("div"),B&&B.c(),n=I(),r=x("div"),i=x("button"),i.textContent="Подключить MetaMask",a=I(),s=x("button"),s.textContent="Добавить токены в кошелёк",u=I(),c=x("div"),l=x("div"),l.textContent="Купить токены",h=I(),f=x("div"),d=x("input"),p=I(),m=x("div"),v=x("span"),g=E("= "),y=E(t[2]),k=E(" Eth."),T=I(),N=x("div"),L=x("button"),L.textContent="Купить",C(i,"class","btn-red-pink"),C(s,"class","btn-purple-pink"),C(r,"class","mt-2 lg:mt-4 text-center"),C(l,"class"," text-lg lg:text-2xl font-semibold text-center text-white"),C(d,"class"," border bg-gray-200"),C(d,"type","number"),C(d,"step","1000"),C(d,"min","1000"),C(d,"max",t[3]),C(f,"class","mt-2 text-center"),C(v,"class"," text-sm text-white"),C(m,"class"," text-center"),C(L,"class","btn-blue-green"),C(N,"class","mt-2 text-center"),C(c,"class","mt-4"),C(e,"class","mt-3 p-2")},m(o,_){w(o,e,_),B&&B.m(e,null),b(e,n),b(e,r),b(r,i),b(r,a),b(r,s),b(e,u),b(e,c),b(c,l),b(c,h),b(c,f),b(f,d),M(d,t[0]),b(c,p),b(c,m),b(m,v),b(v,g),b(v,y),b(v,k),b(c,T),b(c,N),b(N,L),O||(R=[S(i,"click",t[10]),S(s,"click",Hg),S(d,"input",t[16]),S(L,"click",t[11])],O=!0)},p(t,r){null!=t[8]?B?B.p(t,r):(B=$g(t),B.c(),B.m(e,n)):B&&(B.d(1),B=null),8&r[0]&&C(d,"max",t[3]),1&r[0]&&A(d.value)!==t[0]&&M(d,t[0]),4&r[0]&&P(y,t[2])},d(t){t&&_(e),B&&B.d(),O=!1,o(R)}}}function $g(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p=Math.trunc(t[9])+"";return{c(){e=x("div"),n=x("div"),n.textContent="Ваш кошелёк:",r=I(),i=x("div"),o=x("input"),a=I(),s=x("div"),u=x("span"),u.textContent="Токены ТАК:",c=I(),l=x("span"),h=E(p),C(n,"class"," font-medium"),C(o,"type","text"),C(o,"class"," p-1 w-full border bg-gray-100 rounded-lg"),C(i,"class","mx-1"),C(u,"class"," font-medium"),C(l,"class","ml-1 px-1 border bg-gray-100 rounded-lg"),C(s,"class","mt-1"),C(e,"class","mx-auto p-2 bg-gray-200 border rounded-lg shadow-md text-sm lg:text-lg lg:w-1/2")},m(p,m){w(p,e,m),b(e,n),b(e,r),b(e,i),b(i,o),M(o,t[8]),b(e,a),b(e,s),b(s,u),b(s,c),b(s,l),b(l,h),f||(d=S(o,"input",t[15]),f=!0)},p(t,e){256&e[0]&&o.value!==t[8]&&M(o,t[8]),512&e[0]&&p!==(p=Math.trunc(t[9])+"")&&P(h,p)},d(t){t&&_(e),f=!1,d()}}}function zg(e){let n,r,i,o,a,s,u,c,l,h,f,d,p,m,v,g,y,k,T,S,A,M,N,L,O,R,B,D,j,U,F=Math.trunc(100*e[5])/100+"",$=Math.trunc(e[6]*e[5]*100)/100+"",z=null!=e[3]&&jg(e);function V(t,e){return t[7]?Fg:Ug}let q=V(e),H=q(e);return{c(){n=x("div"),r=x("div"),i=x("div"),o=E("USD: \r\n            "),a=E(F),s=E(" руб.\r\n\r\n            \r\n            "),u=x("span"),u.innerHTML='<img src="./icons/help.svg" alt="help" class="w-4 h-4"/> \n                <span class="svelte-1tx8jf2">Курс долара США от ЦБ РФ.</span>',c=I(),l=x("div"),h=E("ETH: \r\n            "),f=E(e[6]),d=E(" USD\r\n            \r\n            "),p=x("span"),p.innerHTML='<img src="./icons/help.svg" alt="help" class="w-4 h-4"/> \n                <span class="svelte-1tx8jf2">Курс эфириума от \n                    <a href="https://etherscan.io" class=" underline text-orange-500">Etherscan</a></span>',m=I(),v=x("div"),g=E("ETH/RUB: \r\n            "),y=E($),k=E(" руб."),T=I(),S=x("div"),A=E("ETH/ТАК: "),M=E(e[4]),N=E(" TAK\r\n            \r\n            "),L=x("span"),L.innerHTML='<img src="./icons/help.svg" alt="help" class="w-4 h-4"/> \n                <span class="svelte-1tx8jf2">Токен Avtokarta.club, цена указана со скидкой 50%</span>',O=I(),R=x("div"),B=x("div"),D=x("progress"),j=I(),z&&z.c(),U=I(),H.c(),C(u,"class","help svelte-1tx8jf2"),C(p,"class","help svelte-1tx8jf2"),C(L,"class","help svelte-1tx8jf2"),C(r,"class","p-1 lg:p-2 lg:mt-2 text-sm lg:text-lg font-medium flex flex-col lg:flex-row lg:justify-around"),D.value=e[1],C(D,"max","5000000"),C(D,"class","mt-2 w-full h-8"),C(n,"class","pt-16 min-h-screen bg-gradient-purple-pink-light")},m(t,e){w(t,n,e),b(n,r),b(r,i),b(i,o),b(i,a),b(i,s),b(i,u),b(r,c),b(r,l),b(l,h),b(l,f),b(l,d),b(l,p),b(r,m),b(r,v),b(v,g),b(v,y),b(v,k),b(r,T),b(r,S),b(S,A),b(S,M),b(S,N),b(S,L),b(n,O),b(n,R),b(R,B),b(B,D),b(R,j),z&&z.m(R,null),b(n,U),H.m(n,null)},p(t,e){32&e[0]&&F!==(F=Math.trunc(100*t[5])/100+"")&&P(a,F),64&e[0]&&P(f,t[6]),96&e[0]&&$!==($=Math.trunc(t[6]*t[5]*100)/100+"")&&P(y,$),16&e[0]&&P(M,t[4]),2&e[0]&&(D.value=t[1]),null!=t[3]?z?z.p(t,e):(z=jg(t),z.c(),z.m(R,null)):z&&(z.d(1),z=null),q===(q=V(t))&&H?H.p(t,e):(H.d(1),H=q(t),H&&(H.c(),H.m(n,null)))},i:t,o:t,d(t){t&&_(n),z&&z.d(),H.d()}}}const Vg="0x943B8cC219a5Fb3BA70AdB173774987c63c3080b",qg="0xa3979422e803432b0670ceec8c53c25ed2576a4e";function Hg(){ethereum.sendAsync({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:Vg,symbol:"TAK",decimals:18}},id:Math.round(1e5*Math.random())},(t,e)=>{e?console.log("Thanks for your interest!"):console.log("Your loss!")})}function Gg(t,e,n){let r,i,o,a,s,u,c,l,h,f,d,p,m=0,v=0,g=0,y=0,b=!1,w=nm.constants.WeiPerEther;window.web3?(r=new nm.providers.Web3Provider(web3.currentProvider),i=r.getSigner()):r=nm.getDefaultProvider();let _=new nm.Contract(qg,im,r),k=new nm.Contract(Vg,rm,r);return async function(){let t=await _.getRate();n(14,f=t),n(4,h=t.toString())}(),async function(){let t=await k.balanceOf(qg);n(3,c=nm.utils.formatEther(t)),n(1,m=5e6-c)}(),void 0!==window.ethereum?ethereum.isMetaMask&&n(7,b=!0):n(7,b=!1),fetch("https://www.cbr-xml-daily.ru/daily_json.js").then(t=>t.json()).then(t=>{l=t,n(5,g=l.Valute.USD.Value)}),(new nm.providers.EtherscanProvider).getEtherPrice().then((function(t){n(6,y=t)})),t.$$.update=()=>{28673&t.$$.dirty[0]&&o>0&&(n(12,a=nm.utils.bigNumberify(o)),n(13,u=w.mul(a).div(f).add(8)),s=u.toHexString(),n(2,v=nm.utils.formatEther(u)))},[o,m,v,c,h,g,y,b,d,p,function(){window.ethereum.enable(),n(8,d=ethereum.selectedAddress),async function(){let t=await k.balanceOf(d);n(9,p=nm.utils.formatEther(t))}()},function(){if(c>o){let t=s;console.log(t);const e={to:qg,from:ethereum.selectedAddress,value:t};ethereum.sendAsync({method:"eth_sendTransaction",params:[e],from:ethereum.selectedAddress},(t,e)=>{t?console.error(t):console.log(e)})}else alert("Доступное кол-во токенов для покупки: "+c)},a,u,f,function(){d=this.value,n(8,d)},function(){o=A(this.value),n(0,o)}]}function Wg(e){let n;return{c(){n=x("div"),n.innerHTML='<p class=" text-red-600 text-lg">Страница не найдена.</p>',C(n,"class","mt-40")},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}var Kg={routes:{"/":class extends xt{constructor(t){super(),kt(this,t,zp,Fp,s,{},[-1,-1,-1,-1,-1,-1])}},"/applogin":class extends xt{constructor(t){super(),kt(this,t,Hp,qp,s,{})}},"/about":class extends xt{constructor(t){super(),kt(this,t,null,Gp,s,{})}},"/help":class extends xt{constructor(t){super(),kt(this,t,Kp,Wp,s,{})}},"/ico":class extends xt{constructor(t){super(),kt(this,t,Gg,zg,s,{},[-1,-1])}},"/partners":class extends xt{constructor(t){super(),kt(this,t,Dg,Rg,s,{})}},"/addservice":class extends xt{constructor(t){super(),kt(this,t,em,Qp,s,{},[-1,-1])}},"/service/:id/:records?/:date?":Bl,"/cryptowallet":class extends xt{constructor(t){super(),kt(this,t,rv,tv,s,{},[-1,-1,-1,-1,-1])}},"/profile":class extends xt{constructor(t){super(),kt(this,t,Zv,Kv,s,{})}},"/taxidriverpage/:id":class extends xt{constructor(t){super(),kt(this,t,hg,lg,s,{params:0})}},"/topic/:id":class extends xt{constructor(t){super(),kt(this,t,Pg,Ag,s,{params:0},[-1,-1])}},"*":class extends xt{constructor(t){super(),kt(this,t,null,Wg,s,{})}}}};function Zg(t){let e,r,i,o,a,s,u;e=new Et({}),o=new wc({});const c=[Kg];let l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);return s=new Qu({props:l}),{c(){bt(e.$$.fragment),r=I(),i=x("main"),bt(o.$$.fragment),a=I(),bt(s.$$.fragment)},m(t,n){wt(e,t,n),w(t,r,n),w(t,i,n),wt(o,i,null),b(i,a),wt(s,i,null),u=!0},p(t,[e]){const n=0&e?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(c,[(r=Kg,"object"==typeof r&&null!==r?r:{})]):{};var r;s.$set(n)},i(t){u||(dt(e.$$.fragment,t),dt(o.$$.fragment,t),dt(s.$$.fragment,t),u=!0)},o(t){pt(e.$$.fragment,t),pt(o.$$.fragment,t),pt(s.$$.fragment,t),u=!1},d(t){_t(e,t),t&&_(r),t&&_(i),_t(o),_t(s)}}}return new class extends xt{constructor(t){super(),kt(this,t,null,Zg,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
