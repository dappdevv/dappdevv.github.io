{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\Chat.svelte",
    "..\\..\\ContextMenu.svelte",
    "..\\..\\Navbar.svelte",
    "..\\..\\ProfileMain.svelte",
    "..\\..\\RentalCarReg.svelte",
    "..\\..\\Sos.svelte",
    "..\\..\\TaxiClient.svelte",
    "..\\..\\TaxiDriverReg.svelte",
    "..\\..\\TaxiOrders.svelte",
    "..\\..\\Tailwindcss.svelte",
    "..\\..\\About.svelte",
    "..\\..\\AddService.svelte",
    "..\\..\\CryptoWallet.svelte",
    "..\\..\\Help.svelte",
    "..\\..\\Home.svelte",
    "..\\..\\ICO.svelte",
    "..\\..\\Partners.svelte",
    "..\\..\\Profile.svelte",
    "..\\..\\Service.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n    import { writable } from 'svelte/store';\r\n    import {firebase, db, googleProvider} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection} from 'sveltefire';\r\n    import { createEventDispatcher } from 'svelte';\r\n\r\n    export let region;\r\n    export let district;\r\n    export let city;\r\n\r\n    const dispatch = createEventDispatcher();\r\n\r\n    let message = {\r\n        date: firebase.firestore.FieldValue.serverTimestamp(),\r\n        from: null,\r\n        name: null,\r\n        to: 'all',\r\n        text: ' ',\r\n    }\r\n\r\n    let messageTo = 'all';\r\n\r\n    let mesLimit = 10000;\r\n\r\n    let nowMilli;\r\n    let lastMes = new Date().getTime() - mesLimit;\r\n\r\n    function sendMessage(user) {\r\n        nowMilli = new Date().getTime();\r\n\r\n        if ((nowMilli - lastMes) > mesLimit) {\r\n\r\n            message.from = user.uid;\r\n            message.name = user.displayName;\r\n            message.to = messageTo;\r\n    \r\n            db.collection(`chat/region/${region}/city/${city}`).add(message)\r\n            .then(function(docRef) {\r\n                lastMes = new Date().getTime();\r\n                messageTo = 'all'\r\n            })\r\n            .catch(function(error) {\r\n                console.error(\"Error adding document: \", error);\r\n            });\r\n        } else {\r\n            alert('Действует ограничение, 1 сообщение/10 секунд.')\r\n        }\r\n    }  \r\n\r\n</script>\r\n\r\n\r\n    <FirebaseApp {firebase}>\r\n        <User let:user>\r\n\r\n                <div class=\"z-0 fixed ml-12 mr-2\">\r\n\r\n                    <!-- MESSAGES -->\r\n                    <div id=\"messages\" class=\"mt-2 p-2 bg-white border rounded-lg shadow-lg h-80 w-full overflow-y-auto\">\r\n                    \r\n                        <div class=\" p-1 text-sm\">\r\n                            {city} \r\n                            {#if district != city}\r\n                                {district}\r\n                            {/if}\r\n                        </div>\r\n\r\n                        <hr>\r\n\r\n                        <Collection path={`chat/region/${region}/city/${city}`} \r\n                        query={ (ref) => ref.orderBy(\"date\", \"desc\").limit(30) }\r\n                        let:data={messages} \r\n                        let:ref>\r\n\r\n                            <ul>\r\n\r\n                            <!-- MESSAGE -->\r\n                            {#each messages as mes}\r\n                                {#if mes.date != null || undefined}\r\n                                <li>\r\n                                    <div class=\"mt-2\">\r\n                                        <p class=\"text-gray-500\">\r\n                                        <span class=\"text-sm font-semibold cursor-pointer\" on:click={() => messageTo = mes.name}>\r\n\r\n                                        {mes.name}:\r\n\r\n                                        </span>\r\n\r\n                                        <span class=\"text-xs float-right\">\r\n                                        \r\n                                        {mes.date.toDate().toLocaleString('ru', {day: 'numeric', month: 'long', hour: '2-digit', minute: '2-digit'})}</span>\r\n\r\n                                        </p>\r\n\r\n                                        <!-- Message Text -->\r\n                                        {#if mes.from == user.uid}\r\n\r\n                                            <p class=\"message my\">\r\n                                            {mes.text}\r\n                                            </p>\r\n                                        {:else if mes.to == user.displayName}\r\n                                            <p class=\"message to-me\">\r\n                                            {mes.text}\r\n                                            </p>\r\n                                        {:else}\r\n                                            <p class=\"message def\">\r\n                                            {mes.text}\r\n                                            </p>\r\n                                        {/if}\r\n                                    </div>\r\n                                </li>\r\n                                {/if}\r\n                            {/each}\r\n                            </ul>\r\n\r\n                        </Collection>\r\n                    </div>\r\n\r\n                    <!-- NEW MESSAGE -->\r\n                    <div class=\"mt-1 w-full\">\r\n                        \r\n                        <input class=\"p-1 border bg-white\" type=\"text\" bind:value={message.text}>\r\n                        \r\n                        <button class=\"btn-green\" on:click={() => sendMessage(user)}>Отправить</button>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n        </User>\r\n    </FirebaseApp>\r\n\r\n<style>.message {\n  padding: 0.25rem;\n  border-width: 1px;\n  border-radius: 0.375rem;\n}\n\n.def {\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n}\n\n.my {\n  --bg-opacity: 1;\n  background-color: #fbd38d;\n  background-color: rgba(251, 211, 141, var(--bg-opacity));\n}\n\n.to-me {\n  --bg-opacity: 1;\n  background-color: #9ae6b4;\n  background-color: rgba(154, 230, 180, var(--bg-opacity));\n}</style>",
    "<script>\r\n    import { createEventDispatcher, onMount } from 'svelte';\r\n    import { fade, fly, blur, slide, scale, draw } from 'svelte/transition';\r\n    import { quintOut, bounceInOut, elasticIn, sineInOut } from 'svelte/easing';\r\n\r\n    const dispatch = createEventDispatcher();\r\n\r\n    let road, police;\r\n\r\n    onMount(onLoad);\r\n\r\n    function onLoad() {\r\n        let items = document.querySelectorAll('.menu-item');\r\n\r\n        for(var i = 0, l = items.length; i < l; i++) {\r\n        items[i].style.left = (50 - 35*Math.cos(-0.5 * Math.PI - 2*(1/l)*i*Math.PI)).toFixed(4) + \"%\";\r\n        \r\n        items[i].style.top = (50 + 35*Math.sin(-0.5 * Math.PI - 2*(1/l)*i*Math.PI)).toFixed(4) + \"%\";\r\n        }\r\n    }\r\n\r\n    function closeMenu() {\r\n        dispatch('closeMenu')\r\n    }\r\n\r\n</script>\r\n\r\n\r\n<div class=\"container\" transition:scale={{duration: 500, easing: sineInOut}}>\r\n\r\n    <div class=\"close\">\r\n        <button on:click={()=> dispatch('closeMenu')}>\r\n        \r\n            <img src=\"./icons/button-cancel.png\" alt=\"close\">\r\n           \r\n        </button>\r\n    </div>\r\n    \r\n    <!-- POLICE -->\r\n\r\n    <div class=\"menu-item\">\r\n        <button on:click={()=> police = true}>\r\n            \r\n            <img src=\"./icons/police-car.png\" alt=\"police\">\r\n            \r\n        </button>\r\n        {#if police}\r\n            <div class=\"fixed -mt-32\">\r\n                <button on:click={()=> dispatch('police')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n                    <img src=\"./icons/police-car.png\" alt=\"police\">\r\n                    \r\n                </button>\r\n            </div>\r\n            <div class=\"fixed -ml-16 -mt-32\">\r\n                <button on:click={()=> dispatch('mCamera')} on:click={()=> dispatch('closeMenu')}>\r\n\r\n                    <img src=\"./icons/speed-camera.png\" alt=\"camera\">\r\n\r\n                </button>\r\n            </div>\r\n            <div class=\"fixed ml-16 -mt-32\">\r\n                <button on:click={()=> dispatch('sCamera')} on:click={()=> dispatch('closeMenu')}>\r\n                    \r\n                    <img src=\"./icons/road-camera.png\" alt=\"rcamera\">\r\n                    \r\n                </button>\r\n            </div>\r\n        {/if}\r\n    </div>\r\n\r\n\r\n    <!-- ROAD -->\r\n\r\n    <div class=\"menu-item\">\r\n        <button on:click={()=> road = true}>\r\n            \r\n            <img src=\"./icons/road-1.png\" alt=\"road\">\r\n            \r\n        </button>\r\n        {#if road}\r\n            <div class=\"fixed ml-16\">\r\n                <button on:click={()=> dispatch('rConstruction')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n                    <img src=\"./icons/road-construction.png\" alt=\"rc\">\r\n                    \r\n                </button>\r\n            </div>\r\n            <div class=\"fixed ml-16 -mt-16\">\r\n                <button on:click={()=> dispatch('rClosed')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n                    <img src=\"./icons/road-closed.png\" alt=\"closed\">\r\n            \r\n                </button>\r\n            </div>\r\n            <div class=\"fixed ml-16 -mt-32\">\r\n                <button on:click={()=> dispatch('dtp')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n                    <img src=\"./icons/car-crash.png\" alt=\"dtp\">\r\n            \r\n                </button>\r\n            </div>\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- ADD -->\r\n\r\n    <div class=\"menu-item\">\r\n        <button on:click={()=> dispatch('add')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n            <img src=\"./icons/chat-3.png\" alt=\"add\">\r\n            \r\n        </button>\r\n    </div>\r\n\r\n    <!-- TAXI -->\r\n\r\n    <div class=\"menu-item\">\r\n        <button on:click={()=> dispatch('taxiCall')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n            <img src=\"./icons/taxi-24.png\" alt=\"taxiCall\">\r\n            \r\n        </button>\r\n    </div>\r\n\r\n    <!-- ADDRESS -->\r\n\r\n    <div class=\"menu-item\">\r\n        <button on:click={()=> dispatch('getAddress')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n            <img src=\"./icons/location-info.png\" alt=\"address\">\r\n            \r\n        </button>\r\n    </div>\r\n\r\n    <!-- SOS -->\r\n\r\n    <div class=\"menu-item\">\r\n        <button on:click={()=> dispatch('sos')} on:click={()=> dispatch('closeMenu')}>\r\n            \r\n            <img src=\"./icons/sos-button.png\" alt=\"sos\">\r\n            \r\n        </button>\r\n    </div>\r\n    \r\n           \r\n</div>\r\n\r\n<style>.container {\n  position: relative;\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  margin-top: -50%;\n  margin-left: -50%;\n}\n\n.menu-item {\n  position: absolute;\n  margin-left: -30px;\n  margin-top: -30px;\n}\n\nbutton {\n  padding: 0.5rem;\n  width: 4rem;\n  height: 4rem;\n  border-width: 1px;\n  --border-opacity: 1;\n  border-color: #4a5568;\n  border-color: rgba(74, 85, 104, var(--border-opacity));\n  border-radius: 9999px;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;\n  transition-duration: 500ms;\n  --transform-translate-x: 0;\n  --transform-translate-y: 0;\n  --transform-rotate: 0;\n  --transform-skew-x: 0;\n  --transform-skew-y: 0;\n  --transform-scale-x: 1;\n  --transform-scale-y: 1;\n  transform: translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\nbutton:hover {\n  --transform-scale-x: 1.25;\n  --transform-scale-y: 1.25;\n}\n\nimg {\n  -o-object-fit: cover;\n     object-fit: cover;\n}</style>",
    "<script>\r\n    import {firebase} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc} from 'sveltefire';\r\n    import {push} from 'svelte-spa-router';\r\n    import { fade } from 'svelte/transition';\r\n\r\n    let isOpen = false;\r\n    let getUser;\r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n            getUser = user;\r\n        } else {\r\n            getUser = undefined;\r\n        }\r\n    });\r\n\r\n</script>\r\n\r\n<div class=\"header fixed z-40 h-16 top-0 w-full bg-gray-900\">\r\n\r\n    <!-- Logo -->\r\n    <div class=\"justify-center flex flex-row items-center\">\r\n        <div class=\"mt-2 -ml-6\">    \r\n            <img class=\"w-10 h-10 cursor-pointer\" src=\"./icons/main-logo.png\" alt=\"logo\" on:click=\"{()=> location.reload()}\">\r\n        </div>\r\n        <div class=\"ml-3 mt-2 pt-1 text-2xl font-semibold cursor-pointer\" on:click={()=> push('#/')}>\r\n            <span class=\" text-red-600\">Авто</span><span class=\" text-green-600\">карта</span>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- BURGER BUTTON -->\r\n    <div class=\"header-menu absolute top-0 right-0 p-2 text-center\">\r\n        {#if !isOpen}\r\n            <img src=\"./icons/menu.svg\" alt=\"menu\" on:click={() => isOpen = true} class=\"mt-1 mr-1 w-10 h-10 cursor-pointer\">\r\n        {:else}\r\n            <img src=\"./icons/close.svg\" alt=\"menu\" on:click={() => isOpen = false} class=\"mt-1 mr-1 w-10 h-10 cursor-pointer\">\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- MENU -->\r\n    {#if isOpen}\r\n        <div transition:fade=\"{{ duration: 500 }}\" class=\"menu-container\">\r\n            \r\n            <div class=\"user-auth\">\r\n                <FirebaseApp {firebase}>\r\n                    <User let:user let:auth>\r\n\r\n                        <!-- User info -->\r\n                        <div class=\"user-info\">\r\n                            <span class=\" font-semibold text-green-500\">\r\n                            {#if user.displayName != null}\r\n                                {user.displayName}\r\n                            {/if}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <!-- Account info -->\r\n                        <div class=\"account-info\">\r\n                            <Doc path={`users/${user.uid}`} let:data>\r\n\r\n                                <div slot=\"loading\">\r\n                                    <p class=\" text-white\">\r\n                                        загрузка...\r\n                                    </p>\r\n                                </div>\r\n\r\n                                {#if data != undefined}\r\n                                <div>\r\n                                    <span class=\" font-semibold text-orange-500\">\r\n\r\n                                        Баланс: \r\n                                        {#if data.balance}\r\n                                            {data.balance}\r\n                                        {/if}\r\n                                    </span>\r\n                                </div>\r\n                                {/if}\r\n                                <div slot=\"fallback\">\r\n                                    \r\n                                </div>\r\n                                \r\n                            </Doc>\r\n                        </div>\r\n                        <div>\r\n                            <button class=\"p-1 px-3 mt-4 bg-gray-800 text-gray-200 rounded\" on:click={()=> auth.signOut()}>Выйти</button>\r\n                        </div>\r\n\r\n\r\n                        <!-- Signed out -->\r\n                        <div slot=\"signed-out\">\r\n                            \r\n                            <div class=\"mt-2\">\r\n                                <span class=\"text-orange-500\">\r\n                                \r\n                                    Для правильной работы приложения необходимо зарегистрироваться\r\n                                \r\n                                </span>\r\n                            </div>\r\n                            <div class=\"mt-2\">\r\n                                <span>\r\n                                    <a href=\"/\" class=\" no-underline text-teal-500\">Войти</a>\r\n                                </span>\r\n                            </div>\r\n                            \r\n                        </div>\r\n\r\n                    </User>\r\n                </FirebaseApp>\r\n            </div>\r\n            <br>\r\n            <hr>\r\n\r\n            <!-- MENU LIST -->\r\n            <ul class=\"menu-list mt-4\" on:click={ () => isOpen = false }>\r\n                <li><a href=\"#/exchange\">Биржа</a></li>\r\n                <li><a href=\"#/help\">?</a></li>\r\n                <li><a href=\"#/\">Карта</a></li>\r\n                <li><a href={\"#/profile\"}>Профиль</a></li>\r\n                <li><a href=\"#/about\">Информация</a></li>\r\n                {#if getUser}\r\n                <li><a href=\"#/addservice\">Добавить сервис</a></li>\r\n                {/if}\r\n                <li><a href=\"#/cryptowallet\">Крипто-кошелёк</a></li>\r\n                <!-- <li><a href=\"#/partners\">Партнерам</a></li> -->\r\n                <!-- <li><a href=\"#/ico\">ICO</a></li> -->\r\n                \r\n            </ul>\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n<style>.menu-container {\n  z-index: 40;\n  padding: 0.5rem;\n  width: 100%;\n  height: 100vh;\n  --bg-opacity: 1;\n  background-color: #1a202c;\n  background-color: rgba(26, 32, 44, var(--bg-opacity));\n  text-align: center;\n}\n\n.menu-list li {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-weight: 500;\n  --text-opacity: 1;\n  color: #a0aec0;\n  color: rgba(160, 174, 192, var(--text-opacity));\n}\n\n.menu-list li:hover {\n  --bg-opacity: 1;\n  background-color: #2d3748;\n  background-color: rgba(45, 55, 72, var(--bg-opacity));\n}\n\n@media (min-width: 1024px) {\n  .menu-container {\n    width: 25%;\n    position: absolute;\n    right: 0;\n  }\n\n  .menu-list li {\n    font-size: 1.125rem;\n  }\n}</style>",
    "<script>\r\n    import {fade} from 'svelte/transition';\r\n    import {firebase, db} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection, StorageRef} from 'sveltefire';\r\n\r\n    let getUser;\r\n    let newPassword, newPhoneNumber;\r\n    let alertBox, alertBoxContent;\r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n            getUser = user;\r\n        } else {\r\n            // No user is signed in.\r\n        }\r\n    });\r\n\r\n    function setNewEmail(email) {\r\n\r\n        let user = firebase.auth().currentUser;\r\n\r\n        user.updateEmail(email).then(function() {\r\n\r\n            alertBoxCall('Эл. почта обновлена, нажмите кнопку подтвердить.')\r\n\r\n        }).catch(function(error) {\r\n            alertBoxCall('Сессия устарела, перезайдите в аккаунт и повторите попытку.')\r\n        });\r\n    }\r\n\r\n    function setNewPassword() {\r\n\r\n        let user = firebase.auth().currentUser;\r\n\r\n        user.updatePassword(newPassword).then(function() {\r\n\r\n            alertBoxCall('Пароль обновлен.')\r\n\r\n        }).catch(function(error) {\r\n            alertBoxCall('Сессия устарела, перезайдите в аккаунт и повторите попытку.')\r\n        });\r\n    }\r\n\r\n    // ALERT BOX\r\n    function alertBoxCall(mes) {\r\n\r\n        if (!alertBox) {\r\n\r\n            alertBoxContent = mes;\r\n            alertBox = true;\r\n        }\r\n        setTimeout(()=>{\r\n            alertBox = false;\r\n        }, 5000)\r\n    }\r\n\r\n    // Cloud Functions\r\n    let updateUserPhoneNumber = firebase.functions().httpsCallable('updateUserPhoneNumber');\r\n\r\n    // Call cloud functions\r\n    function updatePhoneNumber(newPhoneNumber) {\r\n        \r\n        if (newPhoneNumber.length === 12) {\r\n\r\n            updateUserPhoneNumber({newPhoneNumber})\r\n            .then(function(result) {\r\n                alertBoxCall('Новый номер сохранен.');\r\n                console.log('updated', result)\r\n            }).catch(function(error) {\r\n                console.log(error.code, error.message, error.details)\r\n            });\r\n        } else {\r\n            alertBoxCall('Введите новый номер в формате \"+71234567890\"');\r\n        }\r\n    }\r\n</script>\r\n\r\n<div class=\"p-2 min-h-screen bg-gray-200\">\r\n    <FirebaseApp {firebase}>\r\n        <User let:user>\r\n\r\n            <div class=\"mx-auto p-2 bg-white rounded-lg shadow-md lg:w-2/3\">\r\n\r\n                <!-- User info -->\r\n                <div class=\"mt-2\">\r\n                    Отображаемое имя: \r\n                    <input type=\"text\" value={user.displayName} \r\n                    on:input={(e)=> user.updateProfile({displayName: e.target.value}).then(console.log('updated'))}>\r\n                </div>\r\n                <div class=\"mt-2\">\r\n                    <p>\r\n                        Номер телефона: \r\n                        <input type=\"text\" value={user.phoneNumber} \r\n                        on:input={(e)=> newPhoneNumber = e.target.value}>\r\n\r\n                        <button class=\"btn-orange\" on:click|once={()=> updatePhoneNumber(newPhoneNumber)}>Изменить</button>\r\n                    </p>\r\n                </div>\r\n                <div class=\"mt-2\">\r\n                    Эл. почта: \r\n                    <input type=\"text\" value={user.email} \r\n                    on:change={(e)=> setNewEmail(e.target.value)}>\r\n                    <button class=\"btn-orange\">Изменить</button>\r\n                    {#if !user.emailVerified}\r\n                        <button class=\"btn-orange\"\r\n                        on:click={()=> user.sendEmailVerification().then(alertBoxCall('Письмо отправлено, проверьте почту.'))}>\r\n                        Подтвердить\r\n                        </button>\r\n                    {:else}\r\n                        <img src=\"./icons/check.svg\" alt=\"confirmed\" class=\" inline-block\">\r\n                    {/if}\r\n                </div>\r\n                <div class=\"mt-2\">\r\n                    Новый пароль:\r\n                    <input type=\"text\" placeholder=\"Новый пароль\" bind:value={newPassword}>\r\n                    <button class=\"btn-orange\" on:click={setNewPassword}>Изменить</button>\r\n                </div>\r\n\r\n                <hr>\r\n\r\n                <!-- Account info -->\r\n                <Doc path={`users/${user.uid}`} let:data={acc}>\r\n\r\n                    <div class=\"mt-4\">\r\n                        Баланс:\r\n                        {acc.balance} руб.\r\n                    </div>\r\n                    <div class=\"mt-2\">\r\n                        Промокод:\r\n                        {user.uid}\r\n                    </div>\r\n                </Doc>\r\n            </div>\r\n        </User>\r\n    </FirebaseApp>\r\n</div>\r\n\r\n<!-- ALERT BOX -->\r\n{#if alertBox}\r\n    <div id=\"alertBox\" class=\" fixed top-0\">\r\n\r\n        <div transition:fade=\"{{ duration: 500 }}\" class=\"p-3 border bg-white rounded-lg shadow-lg\">\r\n\r\n            <p class=\"text-center\">\r\n                {alertBoxContent}\r\n            </p>\r\n\r\n            <p class=\"mt-2 text-center\">\r\n                <button class=\"btn-orange\" on:click={() => alertBox = false}>Ок</button>\r\n            </p>\r\n\r\n        </div>\r\n\r\n    </div>\r\n{/if}\r\n\r\n<style>input {\n  border-width: 1px;\n}</style>",
    "<script>\r\n    import {fade} from 'svelte/transition';\r\n    import {firebase, db, storage} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection, StorageRef} from 'sveltefire';\r\n\r\n    let storageRef = storage.ref();\r\n    let getUser;\r\n    let carModel, carType, carCategory, carImageURL;\r\n    let anotherType = '';\r\n    let rentPrice, phone;\r\n    let alertBox, alertBoxContent;\r\n    let regBox = false;\r\n\r\n    \r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n            getUser = user;\r\n        } else {\r\n            // No user is signed in.\r\n        }\r\n    });\r\n\r\n    function carImageUpload(e, uid) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        \r\n        let file = e.target.files[0];\r\n\r\n        let metadata = {\r\n            'contentType': file.type\r\n        };\r\n\r\n        storageRef.child(`users/${uid}/rentalCar/${file.name}`)\r\n        .put(file, metadata)\r\n        .then(function(snapshot) {\r\n            console.log('Uploaded', snapshot.totalBytes, 'bytes.');\r\n            console.log('File metadata:', snapshot.metadata);\r\n            // Let's get a download URL for the file.\r\n            snapshot.ref.getDownloadURL().then(function(url) {\r\n                console.log('File available at', url);\r\n\r\n                carImageURL = url;\r\n            });\r\n        })\r\n        .catch(function(error) {\r\n            // [START onfailure]\r\n            console.error('Upload failed:', error);\r\n            // [END onfailure]\r\n        });\r\n       \r\n    }\r\n\r\n    function regRentalCar() {\r\n        \r\n        if (carCategory && carType && carModel && rentPrice && phone && carImageURL != undefined) {\r\n\r\n            let newCar = {\r\n                owner: getUser.uid,\r\n                username: getUser.displayName,\r\n                category: carCategory,\r\n                type: carType,\r\n                atype: anotherType,\r\n                model: carModel,\r\n                price: rentPrice,\r\n                phone: phone,\r\n                imgURL: carImageURL\r\n            }\r\n\r\n            db.collection(\"rentalCars\").add(newCar)\r\n            .then(function(docRef) {\r\n                alertBoxCall('Спецтехника зарегистрирована.');\r\n            })\r\n            .catch(function(error) {\r\n                alertBoxCall(`Ошибка: ${error}`);\r\n            });\r\n\r\n        } else {\r\n            alertBoxCall('Заполните все поля и загрузите фото спецтехники.');\r\n        }\r\n    }\r\n\r\n    // ALERT BOX\r\n    function alertBoxCall(mes) {\r\n\r\n        if (!alertBox) {\r\n\r\n            alertBoxContent = mes;\r\n            alertBox = true;\r\n        }\r\n        setTimeout(()=>{\r\n            alertBox = false;\r\n        }, 5000)\r\n    }\r\n\r\n\r\n</script>\r\n\r\n<div class=\"p-2 min-h-screen bg-gray-200\">\r\n    <FirebaseApp {firebase}>\r\n        <User let:user>\r\n            <div class=\"mx-auto p-2 bg-white rounded-lg shadow-md lg:w-2/3\">\r\n                <div>\r\n                    <p class=\" text-teal-500 text-center font-semibold\">\r\n                        Аренда и услуги спецтехники\r\n                    </p>\r\n                </div>\r\n\r\n                <div class=\"mt-3\">\r\n                    <Collection path={'rentalCars'} query={(ref) => ref.where(\"owner\", \"==\", user.uid)} let:data={cars}>\r\n                        {#if cars.length > 0 }\r\n                            {#each cars as car}\r\n                                \r\n                                <div class=\"flex flex-row bg-white rounded-lg justify-between items-center overflow-hidden\">\r\n                                    <div class=\"\">\r\n                                        <img src={car.imgURL} alt=\"foto\" class=\"w-20 h-20\">\r\n                                    </div>\r\n                                    <div>\r\n                                        <span class=\" text-teal-500\">\r\n                                            {car.model}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        \r\n                                        <button class=\"btn-orange\" on:click={()=> car.ref.delete()}>Удалить</button>\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n                            {/each}\r\n                            <p class=\"mt-3 text-center\">\r\n                                <button class=\"btn-green\" on:click={()=> regBox = true}>Добавить</button>\r\n                            </p>\r\n                        {:else}\r\n                            <p class=\"mt-3 text-center\">\r\n                                <button class=\"btn-green\" on:click={()=> regBox = true}>Добавить</button>\r\n                            </p>\r\n                        {/if}\r\n\r\n                        <span slot=\"fallback\">Не удалось загрузить...</span>\r\n                    </Collection>\r\n                </div>\r\n\r\n                <!-- REGISTRATION -->\r\n                {#if regBox}\r\n                <div class=\"mt-2 p-1 bg-white rounded-lg\">\r\n                    <div>\r\n                        <p class=\" text-teal-500 text-center font-semibold\">\r\n                            Регистрация спецтехники\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"mt-2\">\r\n                        Вид спецтехники:\r\n                        <select bind:value={carCategory}>\r\n                            <option value=\"\"></option>\r\n                            <option value=\"Строительная\">Строительная</option>\r\n                            <option value=\"Дорожная\">Дорожная</option>\r\n                            <option value=\"Транспортная\">Транспортная</option>\r\n                            <option value=\"Коммунальная\">Коммунальная</option>\r\n                            <option value=\"Грузовая\">Грузовая</option>\r\n                            <option value=\"Сельхозтехника\">Сельхозтехника</option>\r\n                            <option value=\"Автоспецтехника\">Автоспецтехника</option>\r\n                            <option value=\"Лесная\">Лесная</option>\r\n                            <option value=\"Карьерная\">Карьерная</option>\r\n                            <option value=\"Производственная\">Производственная</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"mt-1\">\r\n                        Тип спецтехники:\r\n                        <select bind:value={carType}>\r\n                            <option value=\"\"></option>\r\n                            <option value=\"Экскаватор\">Экскаватор</option>\r\n                            <option value=\"Бульдозер\">Бульдозер</option>\r\n                            <option value=\"Трактор\">Трактор</option>\r\n                            <option value=\"Грейдер\">Грейдер</option>\r\n                            <option value=\"Самосвал\">Самосвал</option>\r\n                            <option value=\"Бетономешалка\">Бетономешалка</option>\r\n                            <option value=\"Бурильная\">Бурильная техника</option>\r\n                            <option value=\"Каток\">Каток</option>\r\n                            <option value=\"Ассенизатор\">Ассенизатор</option>\r\n                            <option value=\"Автокран\">Автокран</option>\r\n                            <option value=\"Маннипулятор\">Маннипулятор</option>\r\n                            <option value=\"Автоподъемник\">Автоподъемник</option>\r\n                            <option value=\"Погрузчик\">Погрузчик</option>\r\n                            <option value=\"Эвакуатор\">Эвакуатор</option>\r\n                            <option value=\"Другое\">Другое</option>\r\n                        </select>\r\n                    </div>\r\n                    {#if carType === 'Другое'}\r\n                    <div>\r\n                        <input type=\"text\" placeholder=\"Тип спецтехники\" bind:value={anotherType}>\r\n                    </div>\r\n                    {/if}\r\n\r\n                    <div class=\"mt-2\">\r\n                        <input type=\"text\" placeholder=\"Модель\" bind:value={carModel} class=\"inputs\">\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"number\" placeholder=\"Стоимость аренды в час\" bind:value={rentPrice} class=\"inputs\">\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"text\" placeholder=\"Номер телефона +7\" bind:value={phone} class=\"inputs\">\r\n                    </div>\r\n\r\n                    <div class=\"image-upload\">\r\n                        {#if carImageURL != undefined}\r\n\r\n                        <img class=\"img-up\" src={carImageURL} alt=\"carImage\"/>\r\n\r\n                        {:else}\r\n                        <label for=\"carImage\">\r\n                                    \r\n                            <p class=\"mt-3 text-sm text-teal-500\">\r\n                                Сфотографируйте, а затем загрузите фото спецтехники\r\n                            </p>\r\n\r\n                            <img src=\"./icons/add_photo_teal.svg\" alt=\"add_photo\" class=\"img-icon\">\r\n                        </label>\r\n                        <input type=\"file\" id=\"carImage\" name=\"file\" on:change={(e) => carImageUpload(e, user.uid)}/>\r\n                        {/if}   \r\n                    </div>\r\n\r\n                    <div class=\"mt-2 text-center\">\r\n                        <button class=\"btn-orange\" on:click={regRentalCar}> \r\n                            Зарегистрировать\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                {/if}\r\n            </div>\r\n        </User>\r\n    </FirebaseApp>\r\n</div>\r\n\r\n\r\n<!-- ALERT BOX -->\r\n{#if alertBox}\r\n    <div id=\"alertBox\" class=\" fixed top-0\">\r\n\r\n        <div transition:fade=\"{{ duration: 500 }}\" class=\"p-3 border bg-white rounded-lg shadow-lg\">\r\n\r\n            <p class=\"text-center\">\r\n                {alertBoxContent}\r\n            </p>\r\n\r\n            <p class=\"mt-2 text-center\">\r\n                <button class=\"btn-orange\" on:click={() => alertBox = false}>Ок</button>\r\n            </p>\r\n\r\n        </div>\r\n\r\n    </div>\r\n{/if}\r\n\r\n<style>select {\n  border-width: 1px;\n}\n\n.inputs\r\n{\n  margin-top: 0.25rem;\n  border-width: 1px;\n  width: 100%;\n}\n\n.img-icon \r\n{\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0.5rem;\n  width: 5rem;\n  height: 5rem;\n  text-align: center;\n  cursor: pointer;\n}\n\n.image-upload \r\n{\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 1rem;\n  width: 16rem;\n  height: 10rem;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  text-align: center;\n  overflow: hidden;\n}\n\n.img-up \r\n{\n  height: 10rem;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n.image-upload > input\r\n{\n  display: none;\n}</style>",
    "<script>\r\n    import {firebase, db} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection} from 'sveltefire';\r\n    import { createEventDispatcher, onMount } from 'svelte';\r\n\r\n    export let region;\r\n    export let getUser;\r\n\r\n    const dispatch = createEventDispatcher();\r\n\r\n    let message = '';\r\n    let phone = getUser.phoneNumber;\r\n\r\n    // Cloud Functions\r\n    let balanceDecrementFunction = firebase.functions().httpsCallable('balanceDecrement');\r\n\r\n    // Call cloud functions\r\n    function balanceDecrement(opt) {\r\n\r\n        let amount;\r\n\r\n        if (opt === 'life') {\r\n            amount = 1000;\r\n        }\r\n        else if (opt === 'medical') {\r\n            amount = 500;\r\n        }\r\n        else if (opt === 'technical') {\r\n            amount = 100;\r\n        }\r\n        \r\n        balanceDecrementFunction({amount})\r\n        .then(function(result) {\r\n            console.log('balanceDecrement', result)\r\n        }).catch(function(error) {\r\n            console.log(error.code, error.message, error.details)\r\n        });\r\n    }\r\n\r\n</script>\r\n\r\n<div class=\"p-1 w-full bg-gray-900 rounded-lg shadow-lg\">\r\n    <FirebaseApp {firebase}>\r\n        <User let:user>\r\n            <Collection path={`icons/sos/${region}`} query={ (ref) => ref.where(\"author\", \"==\", user.uid)} let:data let:ref>\r\n                {#if data.length >= 1}\r\n                    {#each data as d}\r\n                        <div class=\"p-2 bg-white rounded-lg\">\r\n                            <div>\r\n                                <p>\r\n                                    {d.message}\r\n                                </p>\r\n                            </div>\r\n                            \r\n                            <div class=\"text-center\">\r\n                                <button on:click={()=> d.ref.delete()}> Отменить </button>\r\n                            </div>\r\n                        </div>\r\n                    {/each}\r\n                {:else}\r\n                    <div>\r\n                        <div class=\"header\">\r\n                            <p class=\" text-center text-white font-semibold\">\r\n                                Что случилось?\r\n                            </p>\r\n                        </div>\r\n                        <div class=\"help-block\">\r\n\r\n                            <p class=\"m-2 font-semibold\">\r\n                                На вас напали\r\n                            </p>\r\n                            \r\n                            <input type=\"text\" bind:value={phone} placeholder=\"Номер телефона\">\r\n                            \r\n                            <input type=\"text\" bind:value={message} placeholder=\"Опишите проблему\">\r\n\r\n                            <button class=\"m-1 p-1 bg-red-600 text-white\" on:click={()=> dispatch('danger', {message, type: 'life', phone})} \r\n                            on:click={()=> balanceDecrement('life')}>\r\n                                Угроза жизни\r\n                            </button>\r\n\r\n                            <p class=\" text-sm text-red-600\">\r\n                                При нажатии на кнопку с баланса спишется 1000 руб.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"help-block\">\r\n\r\n                            <p class=\"m-2 font-semibold\">\r\n                                ДТП или требуется медицинская помощь\r\n                            </p>\r\n                            \r\n                            <input type=\"text\" bind:value={phone} placeholder=\"Номер телефона\">\r\n\r\n                            <input type=\"text\" bind:value={message} placeholder=\"Опишите проблему\">\r\n\r\n                            <button class=\"m-1 p-1 bg-red-600 text-white\" on:click={()=> dispatch('danger', {message, type: 'medical', phone})}\r\n                            on:click={()=> balanceDecrement('medical')}>\r\n                                Мед. помощь\r\n                            </button>\r\n\r\n                            <p class=\" text-sm text-red-600\">\r\n                                При нажатии на кнопку с баланса спишется 500 руб.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"help-block\">\r\n\r\n                            <p class=\"m-2 font-semibold\">\r\n                                Требуется техническая помощь (поломка авто)\r\n                            </p>\r\n\r\n                            <input type=\"text\" bind:value={phone} placeholder=\"Номер телефона\">\r\n\r\n                            <input type=\"text\" bind:value={message} placeholder=\"Опишите проблему\">\r\n\r\n                            <button class=\"m-1 p-1 bg-gray-800 text-white\" on:click={()=> dispatch('danger', {message, type: 'technical', phone})}\r\n                            on:click={()=> balanceDecrement('technical')}>\r\n                                Тех. помощь\r\n                            </button>\r\n\r\n                            <p class=\" text-sm text-red-600\">\r\n                                При нажатии на кнопку с баланса спишется 100 руб.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"mt-2 text-center\">\r\n                            <button class=\"p-1 bg-orange-600 text-white rounded-lg\" on:click={()=> dispatch('close')}> Отмена </button>\r\n                        </div>\r\n                    </div>\r\n                {/if}\r\n            </Collection>\r\n        </User>\r\n    </FirebaseApp>\r\n</div>\r\n\r\n<style>.help-block {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-radius: 0.5rem;\n  text-align: center;\n}\n\ninput {\n  border-width: 1px;\n}</style>",
    "<script>\r\n    import {firebase, db, googleProvider} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection} from 'sveltefire';\r\n    import { createEventDispatcher } from 'svelte';\r\n\r\n    export let region;\r\n    export let city;\r\n\r\n    // AUTH USER and DB\r\n    let getUser;\r\n    let getUserAccount;\r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n            // User is signed in.\r\n            getUser = user;\r\n        } else {\r\n            // No user is signed in.\r\n            console.log('no user login')\r\n        }\r\n    });\r\n\r\n    let reviewText;\r\n    let rating;\r\n\r\n    const dispatch = createEventDispatcher();\r\n\r\n    let activeOrders = (ref) => ref.where(\"clientUID\", \"==\", getUser.uid).where(\"active\", \"==\", true);\r\n    let completedOrders = (ref) => ref.where(\"clientUID\", \"==\", getUser.uid).where(\"completed\", \"==\", true);\r\n\r\n \r\n    // function nextOrders(last) {\r\n    //     queryOrders = (ref) => ref.orderBy(\"date\", \"desc\").startAfter(last.date).limit(3);\r\n    // }\r\n\r\n    function cancelOrder(ref, order) {\r\n\r\n        db.collection(ref).doc(order.id)\r\n        .delete().then(function() {\r\n            dispatch('alert', {message: \"Заказ отменен!\"});\r\n        }).catch(function(error) {\r\n            console.error(\"Error removing document: \", error);\r\n        });\r\n    }\r\n\r\n    function playSoundBeBe() {\r\n        let audio = new Audio('./sounds/car_horn_beep_x3_short.mp3');\r\n        audio.play();\r\n    }\r\n\r\n    function checkOnWay(ref, order) {\r\n\r\n        setTimeout(function check() {\r\n\r\n            db.collection(ref).doc(order.id)\r\n            .get()\r\n            .then(function(doc) {\r\n                const data = doc.data();\r\n                const onwaytrue = data.onway;\r\n\r\n                if (!onwaytrue) {\r\n\r\n                    dispatch('checkOnWay', {ref, order});\r\n                    setTimeout(check, 5000);\r\n                }\r\n            })\r\n        }, 5000)\r\n    }\r\n\r\n    function findDriverLocation(uid) {\r\n        db.collection('taxiDrivers').doc(uid)\r\n        .get({source: 'server'})\r\n        .then(function(doc) {\r\n            let coors = doc.data().location;\r\n            dispatch('findDriverLocation', {\r\n                location: coors\r\n            });\r\n            dispatch('close');\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n    }\r\n\r\n    function acceptOrder(ref, order) {\r\n        db.collection(ref).doc(order.id).update({\r\n            accepted: true\r\n        })\r\n        .then(function() {\r\n            checkOnWay(ref, order);\r\n            dispatch('alert', {message: \"Водитель оповещён.\"});\r\n        })\r\n        .catch(function(error) {\r\n            // The document probably doesn't exist.\r\n            console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n    function setReview(rating, ref, order) {\r\n        db.collection(ref).doc(order.id).update({\r\n            rating: rating\r\n        })\r\n        .then(function() {\r\n            db.collection(`taxiDrivers/${order.setDriver}/ratings/`).add({\r\n                date: firebase.firestore.FieldValue.serverTimestamp(),\r\n                rating: rating,\r\n                review: reviewText\r\n            })\r\n            .then(function() {\r\n\r\n                ('alert', {message: 'Спасибо.'});\r\n            })\r\n            .catch(function(error) {\r\n                // The document probably doesn't exist.\r\n                console.error(\"Error updating document: \", error);\r\n            });\r\n        })\r\n        .catch(function(error) {\r\n            // The document probably doesn't exist.\r\n            console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n</script>\r\n\r\n<div class=\"p-2 w-full z-0 bg-white\">\r\n    <FirebaseApp {firebase}>\r\n        <User let:user>\r\n            <Collection \r\n            path={`taxiOrders/region/${region}/city/${city}`} \r\n            query={(ref) => ref.where(\"clientUID\", \"==\", user.uid)}\r\n            let:data={orders} \r\n            let:ref>\r\n\r\n                <div class=\"w-full\">\r\n\r\n                    <!-- Header -->\r\n                    <div>\r\n                        <p class=\"font-semibold text-center\"> \r\n                        Текущие заказы: \r\n\r\n                        <span class=\" float-right\">\r\n                            <img src=\"./icons/close.svg\" alt=\"x\" class=\"cursor-pointer\"\r\n                            on:click={()=> dispatch('close')}>\r\n                        </span>\r\n                        </p>\r\n                        <hr>\r\n                    </div>\r\n\r\n                    {#if orders.length == 0}\r\n                    <div>\r\n                        <p class=\"text-center italic\">\r\n                            Заказов нет\r\n                        </p>\r\n                    </div>\r\n                    {/if}\r\n\r\n                    <!-- ORDERS -->\r\n                    <div>\r\n                    {#each orders as order}\r\n                        {#if !order.payed}\r\n\r\n                        <!-- ORDER -->\r\n                        <div>\r\n\r\n                            <!-- HEADER -->\r\n                            <div class=\"mt-2 text-sm\">\r\n\r\n                                <!-- SET DRIVER -->\r\n                                {#if order.setDriver && order.onway != true}\r\n                                    <Doc path={`taxiDrivers/${order.setDriver}`} let:data on:data={playSoundBeBe}>\r\n                                        <div>\r\n                                            <p class=\"font-semibold text-base text-green-700\">\r\n                                            <span class=\" font-normal text-gray-800\"> Заказ принял: </span> \r\n                                            {data.name} {data.lastName}\r\n                                            </p>\r\n\r\n                                            <p class=\"font-semibold text-base text-orange-600\"> \r\n                                            <span class=\" font-normal text-gray-800\"> Автомобиль: </span>\r\n                                            {data.carBrand} {data.carNumber}\r\n                                            </p>\r\n\r\n                                            <div class=\"mt-2 content-center\">\r\n                                                <img class=\"w-full h-32 object-cover object-none object-center\" src=\"{data.driverAuto.frontside}\" alt=\"auto\">\r\n                                            </div>\r\n\r\n                                            <!-- Driver buttons -->\r\n                                            <div class=\"mt-2 flex flex-row justify-around\">        \r\n                                                <div>\r\n                                                    <button class=\"order-btn bg-teal-400\" on:click={findDriverLocation(order.setDriver)}>\r\n                                                        <img class=\"w-8 h-8\" src=\"./icons/place.svg\" alt=\"placeMarker\">\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <button class=\"order-btn ml-4 bg-green-400\">\r\n                                                        <a href=\"tel:{data.phone}\" alt=\"phone\">\r\n                                                            <img class=\"w-8 h-8\" src=\"./icons/phone.svg\" alt=\"phone\">\r\n                                                        </a>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Doc>\r\n                                {/if}\r\n\r\n                                <!-- driver arrived -->\r\n                                {#if order.driverArrived && order.onway != true}\r\n                                    <p class=\"mt-4 font-semibold text-orange-600 text-lg text-center\" on:load={playSoundBeBe()}>\r\n                                    Водитель подъехал и ждёт вас!\r\n                                    </p>\r\n                                {/if}\r\n\r\n                                {#if order.driverArrived && order.accepted != true}\r\n                                    <p class=\"text-center\">\r\n                                        <button class=\"btn-orange\" on:click={acceptOrder(ref.path, order)}>\r\n                                            Выхожу\r\n                                        </button>\r\n                                    </p>\r\n                                {/if}\r\n\r\n                                {#if order.accepted && order.onway != true}\r\n                                    <p class=\"text-center\">\r\n                                        <button class=\"btn-green\" on:click={()=> order.ref.update({onway: true})}>\r\n                                            Поехали\r\n                                        </button>\r\n                                    </p>\r\n                                {/if}\r\n\r\n                                <!-- ORDER DETAILS -->\r\n                                <div class=\"mt-2\">\r\n                                    <p>\r\n                                    <span class=\"font-semibold\"> Откуда: </span>  {order.address} \r\n                                    </p>\r\n                                    <p>\r\n                                    <span class=\"font-semibold\"> Куда: </span> {order.routes} \r\n                                    </p>\r\n                                    <p>\r\n                                    <span class=\"font-semibold\"> Примечание: </span> {order.desc} \r\n                                    </p>\r\n                                    <p>\r\n                                    <span class=\"font-semibold text-orange-600\"> Цена:  {order.price} руб.</span>\r\n                                    </p>\r\n                                    <p>\r\n                                    <span class=\"font-semibold text-green-500\"> Способ оплаты:  {order.paymentMethod}</span>\r\n                                    </p>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <!-- BUTTONS -->\r\n                            <div class=\"mt-2 mb-2 text-center\">\r\n\r\n                                {#if order.driverArrived != true}\r\n                                <button class=\"px-2 text-white bg-red-600 shadow-lg\" on:click={cancelOrder(ref.path, order)}>\r\n                                    Отменить заказ\r\n                                </button>\r\n                                {/if}\r\n                            </div>\r\n\r\n                            <hr>\r\n\r\n                            <!-- RATING & REVIEW -->\r\n                            <div class=\"my-2 text-center\">\r\n                                {#if order.completed && order.rating == undefined}\r\n\r\n                                <p class=\" font-semibold text-center text-lg\">\r\n                                Оцените поездку:\r\n                                </p>\r\n                                \r\n                                <div class=\"rating-container\">\r\n                                    <div class=\"star-container\">\r\n                                        {#if rating >= 1}\r\n                                            <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 1}>\r\n                                        {:else}\r\n                                            <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 1}>\r\n                                        {/if}\r\n                                        {#if rating >= 2}\r\n                                            <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 2}>\r\n                                        {:else}\r\n                                            <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 2}>\r\n                                        {/if}\r\n                                        {#if rating >= 3}\r\n                                            <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 3}>\r\n                                        {:else}\r\n                                            <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 3}>\r\n                                        {/if}\r\n                                        {#if rating >= 4}\r\n                                            <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 4}>\r\n                                        {:else}\r\n                                            <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 4}>\r\n                                        {/if}\r\n                                        {#if rating == 5}\r\n                                            <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 5}>\r\n                                        {:else}\r\n                                            <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 5}>\r\n                                        {/if}\r\n                                    </div>\r\n\r\n                                    <div class=\"mt-1\">\r\n                                        <input type=\"text\" placeholder=\"Ваш отзыв\" bind:value={reviewText} class=\"border rounded-lg\">\r\n                                    </div>\r\n                                    <div class=\"mt-2\">\r\n                                        <button class=\"btn-orange\" on:click={()=> setReview(rating, ref.path, order)}>Отправить</button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/if}\r\n                                <hr>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        {/if}\r\n                    {/each}\r\n                    </div>\r\n                    \r\n                </div>\r\n    \r\n                <div slot=\"fallback\">\r\n                    Невозможно загрузить данные...\r\n                </div>\r\n\r\n            </Collection>\r\n        </User>\r\n    </FirebaseApp>\r\n</div>\r\n\r\n<style>.rating-container\r\n{\n  margin: 0.25rem;\n  padding: 0.5rem;\n  border-width: 1px;\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  text-align: center;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n}\n\n.star-container\r\n{\n  padding: 0.5rem;\n  text-align: center;\n}\n\n.star\r\n{\n  display: inline-block;\n  margin-left: auto;\n  margin-right: auto;\n  cursor: pointer;\n}\n\n.order-btn \r\n{\n  margin-left: 0.5rem;\n  padding: 0.5rem;\n  border-radius: 9999px;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}</style>",
    "<script>\r\n    import {firebase, db, storage, googleProvider} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection, StorageRef} from 'sveltefire';\r\n\r\n    let storageRef = storage.ref();\r\n    let taxiDriver = {\r\n        registered: firebase.firestore.FieldValue.serverTimestamp(),\r\n        rating: 5\r\n    }\r\n\r\n    // taxi driver registration\r\n    function taxiDriverRegistration(uid) {\r\n        db.collection('taxiDrivers').doc(uid).set(taxiDriver)\r\n        .then(function() {\r\n            console.log(\"Document successfully written!\");\r\n        })\r\n        .catch(function(error) {\r\n            console.error(\"Error writing document: \", error);\r\n        });\r\n    }\r\n\r\n    // Upload driver License\r\n    function driverLicenseUpload(e, uid) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        let inputId;\r\n        if (e.target.id == 'driver-license-frontside') {\r\n            inputId = \"driverLicense.frontside\"\r\n        }\r\n        if (e.target.id == 'driver-license-reverseside') {\r\n            inputId = \"driverLicense.reverseside\"\r\n        }\r\n        let file = e.target.files[0];\r\n\r\n        let metadata = {\r\n            'contentType': file.type\r\n        };\r\n\r\n        storageRef.child(`users/${uid}/taxiDriver/driverLicense/${file.name}`)\r\n        .put(file, metadata)\r\n        .then(function(snapshot) {\r\n            console.log('Uploaded', snapshot.totalBytes, 'bytes.');\r\n            console.log('File metadata:', snapshot.metadata);\r\n            // Let's get a download URL for the file.\r\n            snapshot.ref.getDownloadURL().then(function(url) {\r\n                console.log('File available at', url);\r\n\r\n                db.collection('taxiDrivers').doc(uid)\r\n                .update({\r\n                    [inputId]: url\r\n                })\r\n                .then(function() {\r\n                    console.log(\"Document successfully updated!\");\r\n                })\r\n                .catch(function(error) {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n            });\r\n        })\r\n        .catch(function(error) {\r\n            // [START onfailure]\r\n            console.error('Upload failed:', error);\r\n            // [END onfailure]\r\n        });\r\n    }\r\n\r\n    // Upload driver auto\r\n    function driverAutoUpload(e, uid) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        let inputId;\r\n        if (e.target.id == 'driver-auto-frontside') {\r\n            inputId = \"driverAuto.frontside\"\r\n        }\r\n        if (e.target.id == 'driver-auto-reverseside') {\r\n            inputId = \"driverAuto.reverseside\"\r\n        }\r\n        let file = e.target.files[0];\r\n\r\n        let metadata = {\r\n            'contentType': file.type\r\n        };\r\n\r\n        storageRef.child(`users/${uid}/taxiDriver/driverAuto/${file.name}`)\r\n        .put(file, metadata)\r\n        .then(function(snapshot) {\r\n            console.log('Uploaded', snapshot.totalBytes, 'bytes.');\r\n            console.log('File metadata:', snapshot.metadata);\r\n            // Let's get a download URL for the file.\r\n            snapshot.ref.getDownloadURL().then(function(url) {\r\n                console.log('File available at', url);\r\n\r\n                db.collection('taxiDrivers').doc(uid)\r\n                .update({\r\n                    [inputId]: url\r\n                })\r\n                .then(function() {\r\n                    console.log(\"Document successfully updated!\");\r\n                })\r\n                .catch(function(error) {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n            });\r\n        })\r\n        .catch(function(error) {\r\n            // [START onfailure]\r\n            console.error('Upload failed:', error);\r\n            // [END onfailure]\r\n        });\r\n    }\r\n\r\n</script>\r\n\r\n<div class=\"p-2 min-h-screen bg-gray-200\">\r\n    <FirebaseApp {firebase}>\r\n        <User let:user>\r\n            \r\n            <div class=\" mx-auto w-full lg:w-2/3\">\r\n\r\n                <!-- Taxi driver registration-->\r\n                <Doc path={`taxiDrivers/${user.uid}`} let:data let:ref={userRef}>\r\n\r\n                    <!-- If not registered -->\r\n                    <div slot=\"fallback\" class=\"profile-card\">\r\n\r\n                        <h1>Регистрация водителя такси</h1>\r\n                        <p>Заполните анкету</p>\r\n                        <div class=\"taxi-driver-registration\">\r\n                        <input type=\"text\" placeholder=\"Имя\" bind:value={taxiDriver.name}>\r\n                        <input type=\"text\" placeholder=\"Фамилия\" bind:value={taxiDriver.secondName}>\r\n                        <input type=\"text\" placeholder=\"Отчество\" bind:value={taxiDriver.lastName}>\r\n                        <input type=\"text\" placeholder=\"Номер телефона\" bind:value={taxiDriver.phone}>\r\n                        <input type=\"text\" placeholder=\"Марка автомобиля\" bind:value={taxiDriver.carBrand}>\r\n                        <input type=\"text\" placeholder=\"Гос. номер\" bind:value={taxiDriver.carNumber}>\r\n                        <button class=\"btn bg-orange-500 block mt-2\" on:click={taxiDriverRegistration(user.uid)}>\r\n                        Начать регистрацию\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Taxi driver documents-->\r\n                    <div class=\"profile-card\">\r\n\r\n                        <p class=\"mt-2 font-semibold text-center\">Данные водителя такси</p>\r\n                        <p class=\"mt-3\">\r\n                        Ф.И.О.: {data.secondName} {data.name} {data.lastName}\r\n                        </p>\r\n                        <p>\r\n                        Номер телефона: {data.phone}\r\n                        </p>\r\n                        <p>\r\n                        Марка и номер автомобиля: {data.carBrand} {data.carNumber}\r\n                        </p>\r\n                        <p>\r\n                        Рейтинг: {data.rating}\r\n                        </p>\r\n                        <br>\r\n\r\n                        <p class=\"font-semibold text-center\">Фото водительского удостоверения: </p>\r\n\r\n                        <div class=\"image-upload\">\r\n                            {#if data.driverLicense != undefined && data.driverLicense.frontside != undefined}\r\n\r\n                            <img class=\"img-up\" src={data.driverLicense.frontside} alt=\"driverLicense\"/>\r\n\r\n                            {:else}\r\n                            <label for=\"driver-license-frontside\">\r\n                                        \r\n                                <p class=\"mt-3 text-sm\">Лицевая сторона</p>\r\n                                <img src=\"./icons/add_photo_teal.svg\" alt=\"add_photo\" class=\"img-icon\">\r\n                            </label>\r\n                            <input type=\"file\" id=\"driver-license-frontside\" name=\"file\" on:change={(e) => driverLicenseUpload(e, user.uid)}/>\r\n                            {/if}   \r\n                        </div>\r\n\r\n                        <div class=\"image-upload\">\r\n                            {#if data.driverLicense != undefined && data.driverLicense.reverseside != undefined}\r\n\r\n                            <img class=\"img-up\" src={data.driverLicense.reverseside} alt=\"driverLicense\"/>\r\n\r\n                            {:else}\r\n                            <label for=\"driver-license-reverseside\">\r\n                                        \r\n                                <p class=\"mt-3 text-sm\">Обратная сторона</p>\r\n                                <img src=\"./icons/add_photo_teal.svg\" alt=\"add_photo\" class=\"img-icon\">\r\n                            </label>\r\n                            <input type=\"file\" id=\"driver-license-reverseside\" name=\"file\" on:change={(e) => driverLicenseUpload(e, user.uid)}/>\r\n                            {/if}   \r\n                        </div>\r\n\r\n                        <p class=\"mt-2 font-semibold text-center\">Фото автомобиля:</p>\r\n                        \r\n                        <div class=\"image-upload\">\r\n                            {#if data.driverAuto != undefined && data.driverAuto.frontside != undefined}\r\n\r\n                            <img class=\"img-up\" src={data.driverAuto.frontside} alt=\"driverAuto\"/>\r\n\r\n                            {:else}\r\n                            <label for=\"driver-auto-frontside\">\r\n                                        \r\n                                <p class=\"mt-3 text-sm\">Фронтальная сторона с гос. номером</p>\r\n                                <img src=\"./icons/add_photo_teal.svg\" alt=\"add_photo\" class=\"img-icon\">\r\n                            </label>\r\n                            <input type=\"file\" id=\"driver-auto-frontside\" name=\"file\" on:change={(e) => driverAutoUpload(e, user.uid)}/>\r\n                            {/if}   \r\n                        </div>\r\n\r\n                        <div class=\"image-upload\">\r\n                            {#if data.driverAuto != undefined && data.driverAuto.reverseside != undefined}\r\n\r\n                            <img class=\"img-up\" src={data.driverAuto.reverseside} alt=\"driverAuto\"/>\r\n\r\n                            {:else}\r\n                            <label for=\"driver-auto-reverseside\">\r\n                                        \r\n                                <p class=\"mt-3 text-sm\">Фото с боковой стороны (любой)</p>\r\n                                <img src=\"./icons/add_photo_teal.svg\" alt=\"add_photo\" class=\"img-icon\">\r\n                            </label>\r\n                            <input type=\"file\" id=\"driver-auto-reverseside\" name=\"file\" on:change={(e) => driverAutoUpload(e, user.uid)}/>\r\n                            {/if}   \r\n                        </div>\r\n\r\n                    </div>\r\n                </Doc>\r\n            </div>\r\n            \r\n            <div slot=\"signed-out\">\r\n                <p>Для просмотра страницы необходима авторизация</p>\r\n            </div>\r\n        </User>\r\n    </FirebaseApp>\r\n</div>\r\n\r\n\r\n<style>input {\n  border-width: 1px;\n}\n\n.profile-card {\n  padding: 0.5rem;\n  margin-top: 0.25rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n.profile-card > h1 {\n  font-weight: 600;\n  font-size: 1.125rem;\n}\n\n.profile-card > p {\n  --text-opacity: 1;\n  color: #2d3748;\n  color: rgba(45, 55, 72, var(--text-opacity));\n}\n\n.taxi-driver-registration > input {\n  padding: 0.25rem;\n  margin-top: 0.25rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-radius: 0.25rem;\n}\n\n.img-icon {\n  padding: 0.5rem;\n  margin-left: auto;\n  margin-right: auto;\n  width: 5rem;\n  height: 5rem;\n  cursor: pointer;\n}\n\n.image-upload {\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 1rem;\n  width: 16rem;\n  height: 10rem;\n  text-align: center;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  text-align: center;\n  overflow: hidden;\n}\n\n.img-up{\n  height: 10rem;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n.image-upload > input\r\n{\n  display: none;\n}\n\n.btn {\n  padding: 0.5rem;\n  border-radius: 0.25rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  --text-opacity: 1;\n  color: #f7fafc;\n  color: rgba(247, 250, 252, var(--text-opacity));\n}</style>",
    "<script>\r\n    import {firebase, db, googleProvider} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection} from 'sveltefire';\r\n    import { createEventDispatcher } from 'svelte';\r\n\r\n    export let latlng;\r\n    export let region;\r\n    export let city;\r\n\r\n    const dispatch = createEventDispatcher();\r\n\r\n    function playSoundNewOrder() {\r\n        let audio = new Audio('./sounds/sms-alert.mp3');\r\n        audio.play();\r\n    }\r\n\r\n    function playSoundNotification() {\r\n        let audio = new Audio('./sounds/notification.mp3');\r\n        audio.play();\r\n    }\r\n\r\n    function goOnLine(uid) {\r\n        db.collection('taxiDrivers').doc(uid)\r\n        .update({\r\n            online: true\r\n        })\r\n        .then(function() {\r\n            alert(\"Вы на линии. Удачи!\");\r\n        })\r\n        .catch(function(error) {\r\n            // The document probably doesn't exist.\r\n            console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n    function goOffline(uid) {\r\n\r\n        db.collection('taxiDrivers').doc(uid)\r\n        .update({\r\n            online: false\r\n        })\r\n        .then(function() {\r\n            alert(\"Работа завершена! Спасибо!\");\r\n        })\r\n        .catch(function(error) {\r\n            // The document probably doesn't exist.\r\n            console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n    function setDriverLocation(uid) {\r\n        db.collection('taxiDrivers').doc(uid)\r\n        .update({\r\n            location: [latlng.lat, latlng.lng]\r\n        })\r\n        .then(function() {\r\n            alert(\"Вы отмечены на карте! Ожидайте клиентов!\");\r\n        })\r\n        .catch(function(error) {\r\n            // The document probably doesn't exist.\r\n            console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n    function lookOrderPlace(ref, order) {\r\n\r\n        dispatch('lookOrderPlace', {\r\n            location: order.location\r\n        });\r\n        \r\n    }\r\n\r\n    function acceptOrder(ref, order, uid) {\r\n\r\n        let orderRef = db.collection(ref).doc(order.id);\r\n\r\n        db.runTransaction(function(transaction) {\r\n            return transaction.get(orderRef).then(function(doc) {\r\n                if (!doc.exists) {\r\n                    throw \"Document does not exist!\";\r\n                }\r\n\r\n                let setDriver = doc.data().setDriver;\r\n                setDriver = uid;\r\n                if (setDriver == uid) {\r\n                    transaction.update(orderRef, { setDriver: uid, active: false });\r\n                    return setDriver;\r\n                } else {\r\n                    return Promise.reject(\"Ошибка!\");\r\n                }\r\n            });\r\n        }).then(function(setDriver) {\r\n\r\n            playSoundNewOrder()\r\n            \r\n        }).catch(function(err) {\r\n    \r\n            console.error(err);\r\n        });\r\n    }\r\n\r\n    function cancelOrder(ref, order, uid) {\r\n\r\n        let orderRef = db.collection(ref).doc(order.id);\r\n\r\n        let removeSetDriver = orderRef.update({\r\n            active: true,\r\n            setDriver: firebase.firestore.FieldValue.delete()\r\n        });\r\n    }\r\n\r\n    function driverArrived(ref, order, uid) {\r\n        dispatch('driverArrived', {\r\n            order: order,\r\n            ref: ref\r\n        });\r\n    }\r\n\r\n    function completeOrder(ref, order, uid) {\r\n\r\n        let orderRef = db.collection(ref).doc(order.id);\r\n\r\n        if (order.paymentMethod === 'Автокарта') {\r\n\r\n            orderRef.update({\r\n                completed: true\r\n            });\r\n    \r\n            completeTaxiOrder(ref, order.id, order.clientUID, order.price);\r\n\r\n        } else {\r\n\r\n            orderRef.update({\r\n                completed: true,\r\n                payed: true\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    // Cloud Functions\r\n    let completeTaxiOrderFunction = firebase.functions().httpsCallable('completeTaxiOrder');\r\n\r\n    // Call cloud functions\r\n    function completeTaxiOrder(orderRef, orderID, clientUID, price) {\r\n        \r\n        completeTaxiOrderFunction({orderRef, orderID, clientUID, price})\r\n        .then(function(result) {\r\n            console.log('completeTaxiOrder', result)\r\n        }).catch(function(error) {\r\n            console.log(error.code, error.message, error.details)\r\n        });\r\n    }\r\n\r\n</script>\r\n\r\n<FirebaseApp {firebase}>\r\n    <User let:user>\r\n        <Collection \r\n        path={`taxiOrders/region/${region}/city/${city}`} \r\n        query={ (ref) => ref.orderBy(\"date\").limit(10) } \r\n        let:data={orders} \r\n        let:ref\r\n        on:data={playSoundNotification}>\r\n\r\n            <div class=\"taxi-orders-container z-0 fixed ml-12 mr-2\">\r\n                <div class=\"p-2 bg-gray-100 rounded-lg shadow-lg h-auto w-full\">\r\n\r\n                    <!-- CONTROL BUTTONS -->\r\n                    <div class=\" text-center\">\r\n                        <button class=\"p-1 bg-green-500 text-sm text-white rounded shadow\" \r\n                        on:click={() => goOnLine(user.uid)}>\r\n                        Выйти на линию\r\n                        </button>\r\n\r\n                        <button class=\"p-1 mt-1 bg-red-500 text-sm text-white rounded shadow\" \r\n                        on:click={() => goOffline(user.uid)}>\r\n                        Закончить работу\r\n                        </button>\r\n                        \r\n                        <button class=\"p-1 mt-1 bg-orange-500 text-sm text-white rounded shadow\" \r\n                        on:click={() => setDriverLocation(user.uid)}>\r\n                        Отметиться на карте\r\n                        </button>\r\n                    </div>\r\n\r\n                    <p class=\"mt-3 font-semibold text-center\"> Текущие заказы: </p> \r\n                    <hr>\r\n                    \r\n                    <!-- ORDERS -->\r\n                    <div class=\" h-80 overflow-y-auto\">\r\n                        <ul>\r\n                            {#each orders as order}\r\n                            {#if order.payed != true}\r\n\r\n                            <!-- ORDER -->\r\n                            <li>\r\n\r\n                            <!-- ORDER DETAILS -->\r\n                            <div class=\"mt-2 text-sm\">\r\n                                {#if order.setDriver == user.uid && order.completed != true}\r\n                                    <p class=\" font-semibold text-lg text-green-600\"> Заказ принят! Направляйтесь к клиенту!</p>\r\n                                {/if}\r\n                                <p>\r\n                                <span class=\"font-semibold\"> Откуда: </span>  {order.address} \r\n                                </p>\r\n                                <p>\r\n                                <span class=\"font-semibold\"> Куда: </span> {order.routes} \r\n                                </p>\r\n                                <p>\r\n                                <span class=\"font-semibold\"> Примечание: </span> {order.desc} \r\n                                </p>\r\n                                {#if order.childSeat}\r\n                                    <p><span class=\"font-semibold text-red-600\"> Детское кресло! </span> </p>\r\n                                {/if}\r\n                                <p>\r\n                                <span class=\"font-semibold text-orange-500\"> Цена:  {order.price} руб.</span>\r\n                                </p>\r\n                                <p>\r\n                                <span class=\"font-semibold text-green-500\"> Способ оплаты:  {order.paymentMethod}</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <!-- ORDER BUTTONS -->\r\n                            {#if order.completed == undefined || false}\r\n                                <div class=\"mt-3 mb-2 text-center flex flex-row justify-around\">\r\n\r\n                                    <div>\r\n                                        <button class=\"order-btn bg-teal-400\" on:click={lookOrderPlace(ref.path, order)}>\r\n                                            <img class=\"w-8 h-8\" src=\"./icons/place.svg\" alt=\"placeMarker\">\r\n                                        </button>\r\n                                    </div>\r\n                                    \r\n                                    <div>\r\n                                        <button class=\"order-btn bg-green-400\">\r\n                                            <a href=\"tel:{order.phone}\">\r\n                                                <img class=\"w-8 h-8\" src=\"./icons/phone.svg\" alt=\"placeMarker\">\r\n                                            </a>\r\n                                        </button>\r\n                                    </div>\r\n                                    \r\n                                    <div>\r\n                                        {#if order.setDriver}\r\n                                        <button class=\"order-btn bg-red-500\" on:click={cancelOrder(ref.path, order, user.uid)}>\r\n                                            <img class=\"w-8 h-8\" src=\"./icons/close_white.svg\" alt=\"getOrder\">\r\n                                        </button>\r\n                                        {:else}\r\n                                        <button class=\"order-btn bg-white\" on:click={acceptOrder(ref.path, order, user.uid)}>\r\n                                            <img class=\"w-8 h-8\" src=\"./icons/check.svg\" alt=\"getOrder\">\r\n                                        </button>\r\n                                        {/if}\r\n                                    </div>\r\n                                </div>\r\n                            {/if}\r\n                            <hr>\r\n                            <!-- Arrived & complete buttons -->\r\n                            <div class=\"my-2 flex flex-row justify-around\">\r\n                                {#if order.setDriver == user.uid && order.driverArrived != true || undefined}\r\n                                    <div class=\" text-center\">\r\n                                        <button on:click={driverArrived(ref.path, order, user.uid)} class=\"btn-orange\"> \r\n                                        На месте \r\n                                        </button>\r\n                                    </div>\r\n                                {/if}\r\n                                {#if order.onway && order.completed != true}\r\n                                    <div class=\" text-center\">\r\n                                        <button on:click|once={completeOrder(ref.path, order, user.uid)} class=\" text-white bg-red-600\"> \r\n                                        Завершить \r\n                                        </button>\r\n                                    </div>\r\n                                {/if}\r\n                            </div>\r\n\r\n                            <!-- Completed -->\r\n                            {#if order.completed}\r\n                                <p class=\" text-gray-700\"> Заказ завершен. Баланс обновится через несколько минут.</p>\r\n                            {/if}\r\n                            <hr>\r\n                                \r\n                            </li>\r\n                            {/if}\r\n                            {/each}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div slot=\"loading\">\r\n                <div class=\"p-2 ml-20 rounded-lg bg-gray-100 shadow-lg\">\r\n                    Загрузка...\r\n                </div>\r\n            </div>\r\n \r\n            <div slot=\"fallback\">\r\n                <div class=\"p-2 ml-20 rounded-lg bg-gray-100 shadow-lg\">\r\n                    Невозможно загрузить данные...\r\n                </div>\r\n            </div>\r\n\r\n        </Collection>\r\n    </User>\r\n</FirebaseApp>\r\n\r\n<style>.order-btn {\n  padding: 0.5rem;\n  border-radius: 9999px;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}</style>",
    "<style global>@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400&display=swap');\n\n/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\n:global(html) {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\n:global(body) {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\n:global(main) {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\n:global(h1) {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\n:global(hr) {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\n:global(a) {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\n:global(b) {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\n:global(code) {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\n:global(sub) {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\n:global(sub) {\n  bottom: -0.25em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\n:global(img) {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\n:global(button),\n:global(input),\n:global(select),\n:global(textarea) {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\n:global(button),\n:global(input) { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\n:global(button),\n:global(select) { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\n:global(button),\n:global([type=\"button\"]) {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\n:global(button::-moz-focus-inner),\n:global([type=\"button\"]::-moz-focus-inner) {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\n:global(button:-moz-focusring),\n:global([type=\"button\"]:-moz-focusring) {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\n:global(progress) {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\n:global(textarea) {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n:global([type=\"checkbox\"]),\n:global([type=\"radio\"]) {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n:global([type=\"number\"]::-webkit-inner-spin-button),\n:global([type=\"number\"]::-webkit-outer-spin-button) {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\n:global(details) {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\n/**\n * Add the correct display in IE 10.\n */\n\n:global([hidden]) {\n  display: none;\n}\n\n/**\n * Manually forked from SUIT CSS Base: https://github.com/suitcss/base\n * A thin layer on top of normalize.css that provides a starting point more\n * suitable for web applications.\n */\n\n/**\n * Removes the default spacing and border for appropriate elements.\n */\n\n\n:global(h1),\n:global(hr),\n:global(p) {\n  margin: 0;\n}\n\n:global(button) {\n  background-color: transparent;\n  background-image: none;\n}\n\n/**\n * Work around a Firefox/IE bug where the transparent `button` background\n * results in a loss of the default `button` focus styles.\n */\n\n:global(button:focus) {\n  outline: 1px dotted;\n  outline: 5px auto -webkit-focus-ring-color;\n}\n\n\n:global(ul) {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/**\n * Tailwind custom reset styles\n */\n\n/**\n * 1. Use the user's configured `sans` font-family (with Tailwind's default\n *    sans-serif font stack as a fallback) as a sane default.\n * 2. Use Tailwind's default \"normal\" line-height so the user isn't forced\n *    to override it to ensure consistency even when using the default theme.\n */\n\n:global(html) {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 1 */\n  line-height: 1.5; /* 2 */\n}\n\n/**\n * 1. Prevent padding and border from affecting element width.\n *\n *    We used to set this in the html element and inherit from\n *    the parent element for everything else. This caused issues\n *    in shadow-dom-enhanced elements like <details> where the content\n *    is wrapped by a div with box-sizing set to `content-box`.\n *\n *    https://github.com/mozdevs/cssremedy/issues/4\n *\n *\n * 2. Allow adding a border to an element by just adding a border-width.\n *\n *    By default, the way the browser specifies that an element should have no\n *    border is by setting it's border-style to `none` in the user-agent\n *    stylesheet.\n *\n *    In order to easily add borders to elements by just setting the `border-width`\n *    property, we change the default border-style for all elements to `solid`, and\n *    use border-width to hide them instead. This way our `border` utilities only\n *    need to set the `border-width` property instead of the entire `border`\n *    shorthand, making our border utilities much more straightforward to compose.\n *\n *    https://github.com/tailwindcss/tailwindcss/pull/116\n */\n\n:global(*),\n:global(::before),\n:global(::after) {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e2e8f0; /* 2 */\n}\n\n/*\n * Ensure horizontal rules are visible by default\n */\n\n:global(hr) {\n  border-top-width: 1px;\n}\n\n/**\n * Undo the `border-style: none` reset that Normalize applies to images so that\n * our `border-{width}` utilities have the expected effect.\n *\n * The Normalize reset is unnecessary for us since we default the border-width\n * to 0 on all elements.\n *\n * https://github.com/tailwindcss/tailwindcss/issues/362\n */\n\n:global(img) {\n  border-style: solid;\n}\n\n:global(textarea) {\n  resize: vertical;\n}\n\n:global(input::-moz-placeholder), :global(textarea::-moz-placeholder) {\n  color: #a0aec0;\n}\n\n:global(input:-ms-input-placeholder), :global(textarea:-ms-input-placeholder) {\n  color: #a0aec0;\n}\n\n:global(input::placeholder),\n:global(textarea::placeholder) {\n  color: #a0aec0;\n}\n\n:global(button) {\n  cursor: pointer;\n}\n\n:global(h1) {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/**\n * Reset links to optimize for opt-in styling instead of\n * opt-out.\n */\n\n:global(a) {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/**\n * Reset form element properties that are easy to forget to\n * style explicitly so you don't inadvertently introduce\n * styles that deviate from your design system. These styles\n * supplement a partial reset that is already applied by\n * normalize.css.\n */\n\n:global(button),\n:global(input),\n:global(select),\n:global(textarea) {\n  padding: 0;\n  line-height: inherit;\n  color: inherit;\n}\n\n/**\n * Use the configured 'mono' font family for elements that\n * are expected to be rendered with a monospace font, falling\n * back to the system monospace stack if there is no configured\n * 'mono' font family.\n */\n\n\n:global(code) {\n  font-family: Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n}\n\n/**\n * Make replaced elements `display: block` by default as that's\n * the behavior you want almost all of the time. Inspired by\n * CSS Remedy, with `svg` added as well.\n *\n * https://github.com/mozdevs/cssremedy/issues/14\n */\n\n:global(img),\n:global(svg),\n:global(video),\n:global(canvas),\n:global(audio) {\n  display: block;\n  vertical-align: middle;\n}\n\n/**\n * Constrain images and videos to the parent width and preserve\n * their instrinsic aspect ratio.\n *\n * https://github.com/mozdevs/cssremedy/issues/14\n */\n\n:global(img),\n:global(video) {\n  max-width: 100%;\n  height: auto;\n}\n\n:global(.container){\n  width: 100%;\n}\n\n@media (min-width: 640px){\n  :global(.container){\n    max-width: 640px;\n  }\n}\n\n@media (min-width: 768px){\n  :global(.container){\n    max-width: 768px;\n  }\n}\n\n@media (min-width: 1024px){\n  :global(.container){\n    max-width: 1024px;\n  }\n}\n\n@media (min-width: 1280px){\n  :global(.container){\n    max-width: 1280px;\n  }\n}\n\n:global(html) {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n}\n\n/* GLOBAL STYLES */\n\n/* BUTTONS */\n\n:global(button) {\n  padding: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #f6ad55;\n  background-color: rgba(246, 173, 85, var(--bg-opacity));\n  border-radius: 0.25rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n:global(button:focus) {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n:global(.btn-blue-green) {\n  margin: 0.25rem;\n  padding: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  background-image: linear-gradient(to right, var(--gradient-color-stops));\n  --gradient-from-color: #4299e1;\n  --gradient-color-stops: var(--gradient-from-color), var(--gradient-to-color, rgba(66, 153, 225, 0));\n  --gradient-to-color: #48bb78;\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(.btn-red-pink) {\n  margin: 0.25rem;\n  padding: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  background-image: linear-gradient(to right, var(--gradient-color-stops));\n  --gradient-from-color: #f56565;\n  --gradient-color-stops: var(--gradient-from-color), var(--gradient-to-color, rgba(245, 101, 101, 0));\n  --gradient-to-color: #ed64a6;\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(.btn-purple-pink) {\n  margin: 0.25rem;\n  padding: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  background-image: linear-gradient(to right, var(--gradient-color-stops));\n  --gradient-from-color: #9f7aea;\n  --gradient-color-stops: var(--gradient-from-color), var(--gradient-to-color, rgba(159, 122, 234, 0));\n  --gradient-to-color: #ed64a6;\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(.btn-orange) {\n  margin: 0.25rem;\n  padding: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #ed8936;\n  background-color: rgba(237, 137, 54, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(.btn-green) {\n  margin: 0.25rem;\n  padding: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #48bb78;\n  background-color: rgba(72, 187, 120, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(.btn-gray) {\n  padding: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #2d3748;\n  background-color: rgba(45, 55, 72, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(.btn-opt) {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #38b2ac;\n  background-color: rgba(56, 178, 172, var(--bg-opacity));\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  font-size: 0.875rem;\n  font-weight: 600;\n  border-radius: 9999px;\n}\n\n:global(.btn-white) {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-width: 1px;\n  --text-opacity: 1;\n  color: #38b2ac;\n  color: rgba(56, 178, 172, var(--text-opacity));\n  font-weight: 600;\n  border-radius: 0.5rem;\n}\n\n/* INPUTS */\n\n:global(input) {\n  padding: 0.25rem;\n  --bg-opacity: 1;\n  background-color: #edf2f7;\n  background-color: rgba(237, 242, 247, var(--bg-opacity));\n  border-radius: 0.25rem;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n/* CONTEXT MENU */\n\n:global(.context-menu) {\n  z-index: 20;\n  padding: 0.5rem;\n  width: 10rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  display: flex;\n  flex-direction: column;\n}\n\n:global(.context-menu-item) {\n  margin-top: 0.5rem;\n  cursor: pointer;\n  border-radius: 0.25rem;\n  text-align: center;\n}\n\n:global(.context-menu-item:hover) {\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n}\n\n:global(.context-menu-button) {\n  padding: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #4fd1c5;\n  background-color: rgba(79, 209, 197, var(--bg-opacity));\n  --text-opacity: 1;\n  color: #1a202c;\n  color: rgba(26, 32, 44, var(--text-opacity));\n  width: 100%;\n  border-radius: 0.25rem;\n}\n\n:global(.context-menu-dialog) {\n  padding-top: 0.25rem;\n  height: 8rem;\n  width: 10rem;\n  --bg-opacity: 1;\n  background-color: #1a202c;\n  background-color: rgba(26, 32, 44, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(#alertBox) {\n  width: 240px;\n  height: 140px;\n  left: 50%;\n  top: 50%;\n  margin-left:-120px;\n  margin-top:-70px;\n}\n\n:global(.bg-transparent){\n  background-color: transparent;\n}\n\n:global(.bg-black){\n  --bg-opacity: 1;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, var(--bg-opacity));\n}\n\n:global(.bg-white){\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n}\n\n:global(.bg-gray-100){\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n}\n\n:global(.bg-gray-200){\n  --bg-opacity: 1;\n  background-color: #edf2f7;\n  background-color: rgba(237, 242, 247, var(--bg-opacity));\n}\n\n:global(.bg-gray-700){\n  --bg-opacity: 1;\n  background-color: #4a5568;\n  background-color: rgba(74, 85, 104, var(--bg-opacity));\n}\n\n:global(.bg-gray-800){\n  --bg-opacity: 1;\n  background-color: #2d3748;\n  background-color: rgba(45, 55, 72, var(--bg-opacity));\n}\n\n:global(.bg-gray-900){\n  --bg-opacity: 1;\n  background-color: #1a202c;\n  background-color: rgba(26, 32, 44, var(--bg-opacity));\n}\n\n:global(.bg-red-500){\n  --bg-opacity: 1;\n  background-color: #f56565;\n  background-color: rgba(245, 101, 101, var(--bg-opacity));\n}\n\n:global(.bg-red-600){\n  --bg-opacity: 1;\n  background-color: #e53e3e;\n  background-color: rgba(229, 62, 62, var(--bg-opacity));\n}\n\n:global(.bg-orange-300){\n  --bg-opacity: 1;\n  background-color: #fbd38d;\n  background-color: rgba(251, 211, 141, var(--bg-opacity));\n}\n\n:global(.bg-orange-400){\n  --bg-opacity: 1;\n  background-color: #f6ad55;\n  background-color: rgba(246, 173, 85, var(--bg-opacity));\n}\n\n:global(.bg-orange-500){\n  --bg-opacity: 1;\n  background-color: #ed8936;\n  background-color: rgba(237, 137, 54, var(--bg-opacity));\n}\n\n:global(.bg-orange-600){\n  --bg-opacity: 1;\n  background-color: #dd6b20;\n  background-color: rgba(221, 107, 32, var(--bg-opacity));\n}\n\n:global(.bg-green-300){\n  --bg-opacity: 1;\n  background-color: #9ae6b4;\n  background-color: rgba(154, 230, 180, var(--bg-opacity));\n}\n\n:global(.bg-green-400){\n  --bg-opacity: 1;\n  background-color: #68d391;\n  background-color: rgba(104, 211, 145, var(--bg-opacity));\n}\n\n:global(.bg-green-500){\n  --bg-opacity: 1;\n  background-color: #48bb78;\n  background-color: rgba(72, 187, 120, var(--bg-opacity));\n}\n\n:global(.bg-teal-400){\n  --bg-opacity: 1;\n  background-color: #4fd1c5;\n  background-color: rgba(79, 209, 197, var(--bg-opacity));\n}\n\n:global(.bg-teal-500){\n  --bg-opacity: 1;\n  background-color: #38b2ac;\n  background-color: rgba(56, 178, 172, var(--bg-opacity));\n}\n\n:global(.bg-gradient-to-r){\n  background-image: linear-gradient(to right, var(--gradient-color-stops));\n}\n\n:global(.from-red-500){\n  --gradient-from-color: #f56565;\n  --gradient-color-stops: var(--gradient-from-color), var(--gradient-to-color, rgba(245, 101, 101, 0));\n}\n\n:global(.from-blue-500){\n  --gradient-from-color: #4299e1;\n  --gradient-color-stops: var(--gradient-from-color), var(--gradient-to-color, rgba(66, 153, 225, 0));\n}\n\n:global(.from-purple-500){\n  --gradient-from-color: #9f7aea;\n  --gradient-color-stops: var(--gradient-from-color), var(--gradient-to-color, rgba(159, 122, 234, 0));\n}\n\n:global(.to-green-500){\n  --gradient-to-color: #48bb78;\n}\n\n:global(.to-pink-500){\n  --gradient-to-color: #ed64a6;\n}\n\n:global(.border-black){\n  --border-opacity: 1;\n  border-color: #000;\n  border-color: rgba(0, 0, 0, var(--border-opacity));\n}\n\n:global(.border-gray-400){\n  --border-opacity: 1;\n  border-color: #cbd5e0;\n  border-color: rgba(203, 213, 224, var(--border-opacity));\n}\n\n:global(.border-gray-700){\n  --border-opacity: 1;\n  border-color: #4a5568;\n  border-color: rgba(74, 85, 104, var(--border-opacity));\n}\n\n:global(.rounded){\n  border-radius: 0.25rem;\n}\n\n:global(.rounded-md){\n  border-radius: 0.375rem;\n}\n\n:global(.rounded-lg){\n  border-radius: 0.5rem;\n}\n\n:global(.rounded-full){\n  border-radius: 9999px;\n}\n\n:global(.rounded-t-lg){\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n}\n\n:global(.border-dashed){\n  border-style: dashed;\n}\n\n:global(.border){\n  border-width: 1px;\n}\n\n:global(.cursor-pointer){\n  cursor: pointer;\n}\n\n:global(.block){\n  display: block;\n}\n\n:global(.inline-block){\n  display: inline-block;\n}\n\n:global(.inline){\n  display: inline;\n}\n\n:global(.flex){\n  display: flex;\n}\n\n:global(.inline-flex){\n  display: inline-flex;\n}\n\n:global(.hidden){\n  display: none;\n}\n\n:global(.flex-row){\n  flex-direction: row;\n}\n\n:global(.flex-col){\n  flex-direction: column;\n}\n\n:global(.items-start){\n  align-items: flex-start;\n}\n\n:global(.items-center){\n  align-items: center;\n}\n\n:global(.content-center){\n  align-content: center;\n}\n\n:global(.justify-center){\n  justify-content: center;\n}\n\n:global(.justify-between){\n  justify-content: space-between;\n}\n\n:global(.justify-around){\n  justify-content: space-around;\n}\n\n:global(.flex-grow){\n  flex-grow: 1;\n}\n\n:global(.float-right){\n  float: right;\n}\n\n:global(.font-sans){\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n}\n\n:global(.font-normal){\n  font-weight: 400;\n}\n\n:global(.font-medium){\n  font-weight: 500;\n}\n\n:global(.font-semibold){\n  font-weight: 600;\n}\n\n:global(.font-bold){\n  font-weight: 700;\n}\n\n:global(.h-4){\n  height: 1rem;\n}\n\n:global(.h-5){\n  height: 1.25rem;\n}\n\n:global(.h-6){\n  height: 1.5rem;\n}\n\n:global(.h-8){\n  height: 2rem;\n}\n\n:global(.h-10){\n  height: 2.5rem;\n}\n\n:global(.h-12){\n  height: 3rem;\n}\n\n:global(.h-16){\n  height: 4rem;\n}\n\n:global(.h-20){\n  height: 5rem;\n}\n\n:global(.h-32){\n  height: 8rem;\n}\n\n:global(.h-40){\n  height: 10rem;\n}\n\n:global(.h-48){\n  height: 12rem;\n}\n\n:global(.h-auto){\n  height: auto;\n}\n\n:global(.h-full){\n  height: 100%;\n}\n\n:global(.h-screen){\n  height: 100vh;\n}\n\n:global(.text-xs){\n  font-size: 0.75rem;\n}\n\n:global(.text-sm){\n  font-size: 0.875rem;\n}\n\n:global(.text-base){\n  font-size: 1rem;\n}\n\n:global(.text-lg){\n  font-size: 1.125rem;\n}\n\n:global(.text-xl){\n  font-size: 1.25rem;\n}\n\n:global(.text-2xl){\n  font-size: 1.5rem;\n}\n\n:global(.leading-tight){\n  line-height: 1.25;\n}\n\n:global(.leading-snug){\n  line-height: 1.375;\n}\n\n:global(.m-1){\n  margin: 0.25rem;\n}\n\n:global(.m-2){\n  margin: 0.5rem;\n}\n\n:global(.my-1){\n  margin-top: 0.25rem;\n  margin-bottom: 0.25rem;\n}\n\n:global(.mx-1){\n  margin-left: 0.25rem;\n  margin-right: 0.25rem;\n}\n\n:global(.my-2){\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n\n:global(.mx-2){\n  margin-left: 0.5rem;\n  margin-right: 0.5rem;\n}\n\n:global(.my-4){\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n\n:global(.my-auto){\n  margin-top: auto;\n  margin-bottom: auto;\n}\n\n:global(.mx-auto){\n  margin-left: auto;\n  margin-right: auto;\n}\n\n:global(.mt-1){\n  margin-top: 0.25rem;\n}\n\n:global(.mr-1){\n  margin-right: 0.25rem;\n}\n\n:global(.mb-1){\n  margin-bottom: 0.25rem;\n}\n\n:global(.ml-1){\n  margin-left: 0.25rem;\n}\n\n:global(.mt-2){\n  margin-top: 0.5rem;\n}\n\n:global(.mr-2){\n  margin-right: 0.5rem;\n}\n\n:global(.mb-2){\n  margin-bottom: 0.5rem;\n}\n\n:global(.ml-2){\n  margin-left: 0.5rem;\n}\n\n:global(.mt-3){\n  margin-top: 0.75rem;\n}\n\n:global(.mr-3){\n  margin-right: 0.75rem;\n}\n\n:global(.ml-3){\n  margin-left: 0.75rem;\n}\n\n:global(.mt-4){\n  margin-top: 1rem;\n}\n\n:global(.mr-4){\n  margin-right: 1rem;\n}\n\n:global(.mb-4){\n  margin-bottom: 1rem;\n}\n\n:global(.ml-4){\n  margin-left: 1rem;\n}\n\n:global(.mt-6){\n  margin-top: 1.5rem;\n}\n\n:global(.mt-8){\n  margin-top: 2rem;\n}\n\n:global(.mt-10){\n  margin-top: 2.5rem;\n}\n\n:global(.ml-10){\n  margin-left: 2.5rem;\n}\n\n:global(.ml-12){\n  margin-left: 3rem;\n}\n\n:global(.mt-16){\n  margin-top: 4rem;\n}\n\n:global(.mr-16){\n  margin-right: 4rem;\n}\n\n:global(.mb-16){\n  margin-bottom: 4rem;\n}\n\n:global(.ml-16){\n  margin-left: 4rem;\n}\n\n:global(.mt-20){\n  margin-top: 5rem;\n}\n\n:global(.ml-20){\n  margin-left: 5rem;\n}\n\n:global(.mt-40){\n  margin-top: 10rem;\n}\n\n:global(.-ml-6){\n  margin-left: -1.5rem;\n}\n\n:global(.-mt-10){\n  margin-top: -2.5rem;\n}\n\n:global(.-mt-16){\n  margin-top: -4rem;\n}\n\n:global(.-ml-16){\n  margin-left: -4rem;\n}\n\n:global(.-ml-20){\n  margin-left: -5rem;\n}\n\n:global(.-mt-32){\n  margin-top: -8rem;\n}\n\n:global(.min-h-screen){\n  min-height: 100vh;\n}\n\n:global(.object-cover){\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n:global(.object-none){\n  -o-object-fit: none;\n     object-fit: none;\n}\n\n:global(.object-center){\n  -o-object-position: center;\n     object-position: center;\n}\n\n:global(.opacity-50){\n  opacity: 0.5;\n}\n\n:global(.opacity-75){\n  opacity: 0.75;\n}\n\n:global(.opacity-100){\n  opacity: 1;\n}\n\n:global(.outline-none){\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n:global(.overflow-hidden){\n  overflow: hidden;\n}\n\n:global(.overflow-y-auto){\n  overflow-y: auto;\n}\n\n:global(.p-0){\n  padding: 0;\n}\n\n:global(.p-1){\n  padding: 0.25rem;\n}\n\n:global(.p-2){\n  padding: 0.5rem;\n}\n\n:global(.p-3){\n  padding: 0.75rem;\n}\n\n:global(.p-4){\n  padding: 1rem;\n}\n\n:global(.py-1){\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n\n:global(.px-1){\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n\n:global(.py-2){\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n\n:global(.px-2){\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n\n:global(.px-3){\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n\n:global(.px-10){\n  padding-left: 2.5rem;\n  padding-right: 2.5rem;\n}\n\n:global(.pt-1){\n  padding-top: 0.25rem;\n}\n\n:global(.pb-2){\n  padding-bottom: 0.5rem;\n}\n\n:global(.pt-16){\n  padding-top: 4rem;\n}\n\n:global(.pt-20){\n  padding-top: 5rem;\n}\n\n:global(.fixed){\n  position: fixed;\n}\n\n:global(.absolute){\n  position: absolute;\n}\n\n:global(.relative){\n  position: relative;\n}\n\n:global(.sticky){\n  position: -webkit-sticky;\n  position: sticky;\n}\n\n:global(.top-0){\n  top: 0;\n}\n\n:global(.right-0){\n  right: 0;\n}\n\n:global(.bottom-0){\n  bottom: 0;\n}\n\n:global(.left-0){\n  left: 0;\n}\n\n:global(.shadow){\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n}\n\n:global(.shadow-md){\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n:global(.shadow-lg){\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n:global(.shadow-xl){\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n\n:global(.shadow-2xl){\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n}\n\n:global(.text-center){\n  text-align: center;\n}\n\n:global(.text-justify){\n  text-align: justify;\n}\n\n:global(.text-black){\n  --text-opacity: 1;\n  color: #000;\n  color: rgba(0, 0, 0, var(--text-opacity));\n}\n\n:global(.text-white){\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n}\n\n:global(.text-gray-100){\n  --text-opacity: 1;\n  color: #f7fafc;\n  color: rgba(247, 250, 252, var(--text-opacity));\n}\n\n:global(.text-gray-200){\n  --text-opacity: 1;\n  color: #edf2f7;\n  color: rgba(237, 242, 247, var(--text-opacity));\n}\n\n:global(.text-gray-500){\n  --text-opacity: 1;\n  color: #a0aec0;\n  color: rgba(160, 174, 192, var(--text-opacity));\n}\n\n:global(.text-gray-600){\n  --text-opacity: 1;\n  color: #718096;\n  color: rgba(113, 128, 150, var(--text-opacity));\n}\n\n:global(.text-gray-700){\n  --text-opacity: 1;\n  color: #4a5568;\n  color: rgba(74, 85, 104, var(--text-opacity));\n}\n\n:global(.text-gray-800){\n  --text-opacity: 1;\n  color: #2d3748;\n  color: rgba(45, 55, 72, var(--text-opacity));\n}\n\n:global(.text-gray-900){\n  --text-opacity: 1;\n  color: #1a202c;\n  color: rgba(26, 32, 44, var(--text-opacity));\n}\n\n:global(.text-red-500){\n  --text-opacity: 1;\n  color: #f56565;\n  color: rgba(245, 101, 101, var(--text-opacity));\n}\n\n:global(.text-red-600){\n  --text-opacity: 1;\n  color: #e53e3e;\n  color: rgba(229, 62, 62, var(--text-opacity));\n}\n\n:global(.text-orange-300){\n  --text-opacity: 1;\n  color: #fbd38d;\n  color: rgba(251, 211, 141, var(--text-opacity));\n}\n\n:global(.text-orange-500){\n  --text-opacity: 1;\n  color: #ed8936;\n  color: rgba(237, 137, 54, var(--text-opacity));\n}\n\n:global(.text-orange-600){\n  --text-opacity: 1;\n  color: #dd6b20;\n  color: rgba(221, 107, 32, var(--text-opacity));\n}\n\n:global(.text-green-500){\n  --text-opacity: 1;\n  color: #48bb78;\n  color: rgba(72, 187, 120, var(--text-opacity));\n}\n\n:global(.text-green-600){\n  --text-opacity: 1;\n  color: #38a169;\n  color: rgba(56, 161, 105, var(--text-opacity));\n}\n\n:global(.text-green-700){\n  --text-opacity: 1;\n  color: #2f855a;\n  color: rgba(47, 133, 90, var(--text-opacity));\n}\n\n:global(.text-teal-500){\n  --text-opacity: 1;\n  color: #38b2ac;\n  color: rgba(56, 178, 172, var(--text-opacity));\n}\n\n:global(.text-teal-600){\n  --text-opacity: 1;\n  color: #319795;\n  color: rgba(49, 151, 149, var(--text-opacity));\n}\n\n:global(.text-blue-500){\n  --text-opacity: 1;\n  color: #4299e1;\n  color: rgba(66, 153, 225, var(--text-opacity));\n}\n\n:global(.text-purple-900){\n  --text-opacity: 1;\n  color: #44337a;\n  color: rgba(68, 51, 122, var(--text-opacity));\n}\n\n:global(.italic){\n  font-style: italic;\n}\n\n:global(.uppercase){\n  text-transform: uppercase;\n}\n\n:global(.underline){\n  text-decoration: underline;\n}\n\n:global(.no-underline){\n  text-decoration: none;\n}\n\n:global(.tracking-tight){\n  letter-spacing: -0.025em;\n}\n\n:global(.invisible){\n  visibility: hidden;\n}\n\n:global(.whitespace-no-wrap){\n  white-space: nowrap;\n}\n\n:global(.truncate){\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n:global(.w-4){\n  width: 1rem;\n}\n\n:global(.w-5){\n  width: 1.25rem;\n}\n\n:global(.w-6){\n  width: 1.5rem;\n}\n\n:global(.w-8){\n  width: 2rem;\n}\n\n:global(.w-10){\n  width: 2.5rem;\n}\n\n:global(.w-12){\n  width: 3rem;\n}\n\n:global(.w-16){\n  width: 4rem;\n}\n\n:global(.w-20){\n  width: 5rem;\n}\n\n:global(.w-40){\n  width: 10rem;\n}\n\n:global(.w-64){\n  width: 16rem;\n}\n\n:global(.w-1\\/4){\n  width: 25%;\n}\n\n:global(.w-11\\/12){\n  width: 91.666667%;\n}\n\n:global(.w-full){\n  width: 100%;\n}\n\n:global(.z-0){\n  z-index: 0;\n}\n\n:global(.z-10){\n  z-index: 10;\n}\n\n:global(.z-20){\n  z-index: 20;\n}\n\n:global(.z-30){\n  z-index: 30;\n}\n\n:global(.z-40){\n  z-index: 40;\n}\n\n:global(.transform){\n  --transform-translate-x: 0;\n  --transform-translate-y: 0;\n  --transform-rotate: 0;\n  --transform-skew-x: 0;\n  --transform-skew-y: 0;\n  --transform-scale-x: 1;\n  --transform-scale-y: 1;\n  transform: translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));\n}\n\n:global(.scale-125){\n  --transform-scale-x: 1.25;\n  --transform-scale-y: 1.25;\n}\n\n:global(.transition){\n  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;\n}\n\n:global(.duration-500){\n  transition-duration: 500ms;\n}\n\n@-webkit-keyframes -global-spin{\n  :global(to){\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes -global-spin{\n  to{\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes -global-ping{\n  75%, 100%{\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n\n@keyframes -global-pulse{\n  50%{\n    opacity: .5;\n  }\n}\n\n@keyframes -global-bounce{\n  0%, 100%{\n    transform: translateY(-25%);\n    -webkit-animation-timing-function: cubic-bezier(0.8,0,1,1);\n            animation-timing-function: cubic-bezier(0.8,0,1,1);\n  }\n\n  50%{\n    transform: none;\n    -webkit-animation-timing-function: cubic-bezier(0,0,0.2,1);\n            animation-timing-function: cubic-bezier(0,0,0.2,1);\n  }\n}\n\n@media (min-width: 768px){\n\n  :global(.md\\:h-4){\n    height: 1rem;\n  }\n\n  :global(.md\\:mt-16){\n    margin-top: 4rem;\n  }\n\n  :global(.md\\:w-1\\/2){\n    width: 50%;\n  }\n}\n\n@media (min-width: 1024px){\n\n  :global(.lg\\:flex-row){\n    flex-direction: row;\n  }\n\n  :global(.lg\\:justify-around){\n    justify-content: space-around;\n  }\n\n  :global(.lg\\:h-auto){\n    height: auto;\n  }\n\n  :global(.lg\\:text-lg){\n    font-size: 1.125rem;\n  }\n\n  :global(.lg\\:text-2xl){\n    font-size: 1.5rem;\n  }\n\n  :global(.lg\\:mt-2){\n    margin-top: 0.5rem;\n  }\n\n  :global(.lg\\:mt-4){\n    margin-top: 1rem;\n  }\n\n  :global(.lg\\:p-2){\n    padding: 0.5rem;\n  }\n\n  :global(.lg\\:w-1\\/2){\n    width: 50%;\n  }\n\n  :global(.lg\\:w-2\\/3){\n    width: 66.666667%;\n  }\n\n  :global(.lg\\:w-1\\/4){\n    width: 25%;\n  }\n}</style>",
    "<script>\r\n    import {firebase, db} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection} from 'sveltefire';\r\n</script>\r\n\r\n<main>\r\n<div class=\"pt-16\">\r\n\r\n    <div class=\"px-2 pb-2\">\r\n        <h1>\r\n            Платформа\r\n        </h1>\r\n        <p>\r\n            Avtokarta.club - децентрализованная платформа для владельцев автомобилей, \r\n            спецтехники и бизнеса предоставляющий обслуживание в данной сфере.\r\n        </p>\r\n        <h1>\r\n            Общение\r\n        </h1>\r\n        <p>\r\n            Платформа дает возможность свободно обмениваться информацией о текущей\r\n            обстановке на дорогах: ремонт дорог, ДТП, местоположение радаров и патрулей ГИБДД.\r\n            Так же, у пользователей платформы, есть возможность, открыть любую тему для обсуждения\r\n            в том месте карты, где эта тема актуальна.\r\n        </p>\r\n        <h1>\r\n            Такси\r\n        </h1>\r\n        <p>\r\n            Платформа дает возможность водителям такси работать без комиссии (при оплате токенами), \r\n            а клиентам такси устанавливать свою цену за поездку и выбрать удобный способ оплаты:\r\n            наличные, банковский перевод (Сбербанк онлайн), криптовалюта, токены платформы (1 ТАК = 1 руб.).\r\n        </p>\r\n        <h1>\r\n            Спецтехника\r\n        </h1>\r\n        <p>\r\n            Платформа дает возможность владельцам спецтехники удобный способ взаимодействия с клиентами.\r\n            При поиске необходимой спецтехники, клиенты видят на карте, где находится спецтехника, вид спецтехники, \r\n            фото, цена аренды и телефон водителя для связи.\r\n        </p>\r\n        <h1>\r\n            Крипто-кошелёк\r\n        </h1>\r\n        <p>\r\n            Платформа имеет встроенный крипто-кошелёк блокчейна Ethereum, кторый дает возможность, без сторонних приложений и \r\n            браузерных расширений, использовать все преимущества блокчейн технологии: обмениваться криптовалютой,\r\n            токенами, оплачивать товары и услуги. Крипто-кошелёк безопасен в использование и основан на библиотеке\r\n            Ethers.js (полноценная реализация кошелька Ethereum, рекомендуемая сообществом Ethereum).\r\n        </p>\r\n    </div>\r\n</div>\r\n</main>\r\n\r\n<style>main {\n  min-height: 100vh;\n  background-image: linear-gradient(to right, var(--gradient-color-stops));\n  --gradient-from-color: #9f7aea;\n  --gradient-color-stops: var(--gradient-from-color), var(--gradient-to-color, rgba(159, 122, 234, 0));\n  --gradient-to-color: #ed64a6;\n}\n\nh1 {\n  margin-top: 0.5rem;\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n\np {\n  margin-top: 0.25rem;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-radius: 0.5rem;\n  text-align: justify;\n  line-height: 1.375;\n  opacity: 0.75;\n}\n\np:hover {\n  opacity: 1;\n}\n\nh1 {\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n}</style>",
    "<script>\r\n    import {onMount} from 'svelte';\r\n    import {fade} from 'svelte/transition';\r\n    import {firebase, db, storage} from './../firebase.js';\r\n    import L from 'leaflet';\r\n\r\n    const MY_ACCESS_TOKEN = 'pk.eyJ1IjoiZGFwcGRldnYiLCJhIjoiY2trZmxsODRkMGJ0NzJwbXBqd3U2c3FveiJ9.i7rANy7utrrUnPChT6C83g';\r\n\r\n    // MAPBOX SDK\r\n    import mbxGeocoding from '@mapbox/mapbox-sdk/services/geocoding';\r\n    import mbxClient from '@mapbox/mapbox-sdk';\r\n    const geocodingClient = mbxGeocoding({ accessToken: MY_ACCESS_TOKEN });\r\n\r\n    let storageRef = storage.ref();\r\n\r\n    // Map variables\r\n    let map2, mapCenter, LatLng;\r\n    let serviceMarker, mapIcon, locationIcon;\r\n\r\n    // Map info\r\n    let region, city, district;\r\n\r\n    let markerLocation = {\r\n        latlng: null,\r\n        region: 'none',\r\n        city: 'none',\r\n        district: 'none'\r\n    };\r\n\r\n    let priceList;\r\n\r\n    onMount(mapInit)\r\n\r\n    let getUser;\r\n    let getUserAccount;\r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n            getUser = user;\r\n        } else {\r\n            console.log('no user login')\r\n        }\r\n    });\r\n\r\n    function mapInit() {\r\n\r\n        // MAP\r\n        map2 = L.map('map', {\r\n            zoomControl: false\r\n        })\r\n        .setView([55.80046084146819, 49.105174541473396], 13);\r\n\r\n        // Get user location\r\n        map2.locate({watch: false, setView: true, enableHighAccuracy: true});\r\n\r\n        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n            attribution: '<span style=\"font-size: smaller;\"> Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a>, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a></span>',\r\n            maxZoom: 19,\r\n            id: 'mapbox/streets-v11',\r\n            tileSize: 512,\r\n            zoomOffset: -1,\r\n            accessToken: MY_ACCESS_TOKEN\r\n        }).addTo(map2);\r\n\r\n        // Map center\r\n        mapCenter = map2.getCenter();\r\n\r\n        // Zoom control\r\n        L.control.zoom({position: 'bottomright'}).addTo(map2);\r\n\r\n        // Icon init\r\n        mapIcon = L.Icon.extend({\r\n            options: {\r\n                iconSize:     [50, 50], // size of the icon\r\n                iconAnchor:   [25, 25], // point of the icon which will correspond to marker's location\r\n                popupAnchor:  [0, -25] // point from which the popup should open relative to the iconAnchor\r\n            }\r\n        })\r\n\r\n        locationIcon = new mapIcon({iconUrl: './icons/location.png'});\r\n        \r\n        // Events\r\n        map2.on('locationfound', setServiceMarker);\r\n        map2.on('click', setMarkerLocation);\r\n        \r\n    }\r\n\r\n    function setServiceMarker(e) {\r\n        \r\n        serviceMarker = L.marker(e.latlng, {icon: locationIcon, draggable: true}).addTo(map2);\r\n        \r\n        serviceMarker.on('move', updateMarkerLocation);\r\n        serviceMarker.on('moveend', getCurrentRegion);\r\n\r\n    }\r\n\r\n    function updateMarkerLocation(e) {\r\n        markerLocation.latlng = e.latlng;\r\n    }\r\n\r\n    function setMarkerLocation(e) {\r\n        serviceMarker.setLatLng(e.latlng);\r\n        markerLocation.latlng = e.latlng;\r\n        getCurrentRegion()\r\n    }\r\n\r\n    // Get current region info\r\n    function getCurrentRegion() {\r\n\r\n        let ml = markerLocation.latlng;\r\n\r\n        geocodingClient.reverseGeocode({\r\n        query: [ml.lng, ml.lat]\r\n        })\r\n        .send()\r\n        .then(response => {\r\n            const result = response.body;\r\n            const resarr = result.features;\r\n\r\n            resarr.forEach(el => {\r\n                if (el.place_type[0] === 'region') {\r\n                    region = el.text;\r\n                }\r\n                else if (el.place_type[0] === 'district') {\r\n                    district = el.text;\r\n                }\r\n                else if (el.place_type[0] === 'place') {\r\n                    city = el.text;\r\n                }\r\n            });\r\n\r\n            let hasDistrict = resarr.some(el => {\r\n                return el.place_type[0] === 'district';\r\n            });\r\n\r\n            if (!hasDistrict) {\r\n                district = city;\r\n            }\r\n            \r\n            markerLocation.region = region;\r\n            markerLocation.city = city;\r\n            markerLocation.district = district;\r\n\r\n            console.log(markerLocation)\r\n        });\r\n    }\r\n\r\n    \r\n    let servicePhotoURL;\r\n    let serviceName;\r\n    let serviceType;\r\n    let serviceOffer;\r\n    let servicePhone = \"+7\";\r\n\r\n    let wHours = {\r\n        alltime: false,\r\n        saturday: false,\r\n        sunday: false,\r\n        weekdays: [],\r\n        sat: [],\r\n        sun: []\r\n    }\r\n\r\n    // ADD NEW SERVICE\r\n    function checkBalance() {\r\n\r\n        let price;\r\n\r\n        const priceList = db.collection('priceList').doc('addService');\r\n        priceList.get()\r\n        .then(function(doc) {\r\n            const data = doc.data();\r\n            price = data[serviceType];\r\n        })\r\n        .catch(function(error) {\r\n            alertBoxCall(`Ошибка: ${error}`);\r\n        });\r\n\r\n        let balance;\r\n\r\n        const user = db.collection('users').doc(getUser.uid);\r\n        user.get()\r\n        .then(function(doc) {\r\n            const data = doc.data();\r\n            balance = data.balance;\r\n\r\n            if ((balance - price) >= 0) {\r\n\r\n                addService(price);\r\n\r\n            } else {\r\n\r\n                alertBoxCall(`Недостаточно средств.`);\r\n            }\r\n            \r\n        })\r\n        .catch(function(error) {\r\n            alertBoxCall(`Ошибка: ${error}`);\r\n        });\r\n    }\r\n\r\n    // ADD NEW SERVICE\r\n    function addService(price) {\r\n\r\n        if (markerLocation.region && markerLocation.city != 'none') {\r\n\r\n            if (serviceOffer && serviceName && serviceType && servicePhotoURL != undefined) {\r\n    \r\n                const services = db.collection('services');\r\n                services.add({\r\n                    region: markerLocation.region,\r\n                    district: markerLocation.district,\r\n                    city: markerLocation.city,\r\n                    name: serviceName,\r\n                    type: serviceType,\r\n                    offer: serviceOffer,\r\n                    imgURL: servicePhotoURL,\r\n                    phone: servicePhone,\r\n                    location: [markerLocation.latlng.lat, markerLocation.latlng.lng],\r\n                    owner: getUser.uid,\r\n                    time: {wHours}\r\n                })\r\n                .then(function(docRef) {\r\n                    balanceDecrement(price);\r\n                    alertBoxCall('Новый сервис добавлен. Данные обновятся через несколько минут.');\r\n                    \r\n                })\r\n                .catch(function(error) {\r\n                    alertBoxCall(`Ошибка: ${error}`);\r\n                });\r\n            } else {\r\n                alertBoxCall('Заполните все поля.');\r\n            }\r\n        }\r\n        else {\r\n            \r\n            alertBoxCall('Установите маркер на местоположение сервиса.');\r\n        }\r\n        \r\n    }\r\n\r\n    let alertBox;\r\n    let alertBoxContent;\r\n\r\n    // ALERT BOX\r\n    function alertBoxCall(mes) {\r\n\r\n        if (!alertBox) {\r\n\r\n            alertBoxContent = mes;\r\n            alertBox = true;\r\n        }\r\n        setTimeout(()=>{\r\n            alertBox = false;\r\n        }, 5000)\r\n    }\r\n    \r\n    // Cloud Functions\r\n    let balanceDecrementFunction = firebase.functions().httpsCallable('balanceDecrement');\r\n\r\n    // Call cloud functions\r\n    function balanceDecrement(price) {\r\n        \r\n        balanceDecrementFunction({amount: price})\r\n        .then(function(result) {\r\n            console.log(result)\r\n        }).catch(function(error) {\r\n            console.log(error.code, error.message, error.details)\r\n        });\r\n    }\r\n\r\n    function serviceImageUpload(e, uid) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        \r\n        let file = e.target.files[0];\r\n\r\n        let metadata = {\r\n            'contentType': file.type\r\n        };\r\n\r\n        storageRef.child(`users/${uid}/service/${file.name}`)\r\n        .put(file, metadata)\r\n        .then(function(snapshot) {\r\n            console.log('Uploaded', snapshot.totalBytes, 'bytes.');\r\n            console.log('File metadata:', snapshot.metadata);\r\n            // Let's get a download URL for the file.\r\n            snapshot.ref.getDownloadURL().then(function(url) {\r\n                console.log('File available at', url);\r\n\r\n                servicePhotoURL = url;\r\n            });\r\n        })\r\n        .catch(function(error) {\r\n            // [START onfailure]\r\n            console.error('Upload failed:', error);\r\n            // [END onfailure]\r\n        });\r\n       \r\n    }\r\n</script>\r\n\r\n<div class=\"mt-16\">\r\n\r\n    <!-- MAP -->\r\n    <div id=\"map\">\r\n    </div>\r\n\r\n    <!-- NEW SERVICE -->\r\n    <div class=\" mx-auto p-2 bg-white w-full lg:w-2/3\">\r\n\r\n        <div class=\"service-block\">\r\n            <h1 class=\" text-lg font-semibold text-center text-teal-500\">\r\n                Добавить сервис\r\n            </h1>\r\n        </div>\r\n        \r\n        <div class=\"mt-4 service-block\">\r\n            <label for=\"service-type\" class=\" text-gray-700 text-sm font-semibold\">\r\n            Тип сервиса:\r\n            </label>\r\n            <select name=\"service-type\" id=\"service-type\" bind:value={serviceType} class=\"border rounded-md\"> \r\n                <option value=\"\"></option>\r\n                <option value=\"СТО\">СТО</option>\r\n                <option value=\"Мелкосрочка\">Мелкосрочка (частный гараж)</option>\r\n                <option value=\"Шиномонтаж\">Шиномонтаж</option>\r\n                <option value=\"Автомойка\">Автомойка</option>\r\n                <option value=\"Автозапчасти\">Автозапчасти</option>\r\n                <option value=\"Автостекло/Тонировка\">Автостекло/Тонировка</option>\r\n                <option value=\"Автозаправка\">Автозаправка</option>\r\n                <option value=\"ГСМ\">ГСМ</option>\r\n                <option value=\"Авторазбор\">Авторазбор</option>\r\n                <option value=\"Кафе\">Придорожное кафе</option>\r\n                <option value=\"Отель\">Придорожный отель</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"service-block\">\r\n            <p>\r\n                Название:\r\n                <input type=\"text\" placeholder=\"Название сервиса\" maxlength=\"50\" bind:value={serviceName} class=\"w-full lg:w-1/2\">\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"service-block\">\r\n            <p>\r\n                Виды услуг:\r\n                <input type=\"text\" placeholder=\"Короткое описание\" maxlength=\"150\" bind:value={serviceOffer} class=\"w-full lg:w-1/2\">\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"service-block\">\r\n            <p>\r\n                Телефон: \r\n                <input type=\"text\" bind:value={servicePhone} class=\"w-full lg:w-1/2\">\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"image-upload\">\r\n            {#if servicePhotoURL != undefined}\r\n\r\n            <img class=\"img-up\" src={servicePhotoURL} alt=\"carImage\"/>\r\n\r\n            {:else}\r\n            <label for=\"serviceImage\">\r\n                        \r\n                <p class=\"mt-3 text-sm text-teal-500\">\r\n                    Загрузите фото фасада сервиса (поможет клиентам быстрее вас найти) или любое другое.\r\n                </p>\r\n\r\n                <img src=\"./icons/add_photo_teal.svg\" alt=\"add_photo\" class=\"img-icon\">\r\n            </label>\r\n            <input type=\"file\" id=\"serviceImage\" name=\"file\" on:change={(e) => serviceImageUpload(e, getUser.uid)}/>\r\n            {/if}   \r\n        </div>\r\n\r\n        <div class=\"mt-4 service-block\">\r\n            <p>Время работы:</p>\r\n            <p>\r\n                Круглосуточно \r\n                <input type=\"checkbox\" bind:checked={wHours.alltime}>\r\n            </p>\r\n            <p>Пн - Пт</p>\r\n            <p>\r\n                С\r\n                <input type=\"time\" bind:value={wHours.weekdays[0]}>\r\n                до\r\n                <input type=\"time\" bind:value={wHours.weekdays[1]}>\r\n            </p>\r\n            <p>Суббота</p>\r\n            <p>\r\n                С\r\n                <input type=\"time\" bind:value={wHours.sat[0]}>\r\n                до\r\n                <input type=\"time\" bind:value={wHours.sat[1]}>\r\n                Выходной \r\n                <input type=\"checkbox\" bind:checked={wHours.saturday}>\r\n            </p>\r\n            <p>Вокресенье</p>\r\n            <p>\r\n                С\r\n                <input type=\"time\" bind:value={wHours.sun[0]}>\r\n                до\r\n                <input type=\"time\" bind:value={wHours.sun[1]}>\r\n                Выходной \r\n                <input type=\"checkbox\" bind:checked={wHours.sunday}>\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"mt-4 text-center\">\r\n            <button class=\"btn-white\" on:click={()=> priceList = true}>\r\n                Стоимость размещения \r\n            </button>\r\n            <button class=\"btn-green\" on:click={()=> checkBalance()}>\r\n                Добавить \r\n            </button>\r\n        </div>\r\n\r\n        \r\n    </div>\r\n</div>\r\n\r\n<!-- PRICE LIST -->\r\n{#if priceList}\r\n    <div id=\"priceList\" class=\" fixed top-0\">\r\n\r\n        <div transition:fade=\"{{ duration: 500 }}\" class=\"p-2 border bg-white rounded-lg shadow-lg\">\r\n\r\n            <p class=\"text-center text-lg\">\r\n                Стоимость размещения\r\n            </p>\r\n\r\n            <p>\r\n                100 руб.: Мелкосрочка (частный гараж), Шиномонтаж, Автостекло/Тонировка.\r\n            </p>\r\n            <p>\r\n                300 руб.: Автозапчасти, Автомойка, Авторазбор, СТО, ГСМ.\r\n            </p>\r\n            <p>\r\n                500 руб.: Придорожное кафе, Придорожный отель.\r\n            </p>\r\n            <p>\r\n                1000 руб.: Автозаправка.\r\n            </p>\r\n            <p>\r\n                Стоимость размещения оплачивается единоразово и списывается с баланса аккаунта.\r\n            </p>\r\n            <p class=\"mt-2 text-center\">\r\n                <button class=\"btn-gray\" on:click={() => priceList = false}> Закрыть </button>\r\n            </p>\r\n\r\n        </div>\r\n\r\n    </div>\r\n{/if}\r\n\r\n<!-- ALERT BOX -->\r\n{#if alertBox}\r\n    <div id=\"alertBox\" class=\" fixed top-0\">\r\n\r\n        <div transition:fade=\"{{ duration: 500 }}\" class=\"p-3 border bg-white rounded-lg shadow-lg\">\r\n\r\n            <p class=\"text-center\">\r\n                {alertBoxContent}\r\n            </p>\r\n\r\n            <p class=\"mt-2 text-center\">\r\n                <button class=\"btn-orange\" on:click={() => alertBox = false}>Ок</button>\r\n            </p>\r\n\r\n        </div>\r\n\r\n    </div>\r\n{/if}\r\n\r\n<style>#map\r\n{\n  height: 300px;\n  width: 100%;\n  z-index: 0;\n}\n\n#alertBox {\n  width: 240px;\n  height: 140px;\n  left: 50%;\n  top: 50%;\n  margin-left:-120px;\n  margin-top:-70px;\n}\n\n#priceList {\n  width: 300px;\n  height: 200px;\n  left: 50%;\n  top: 50%;\n  margin-left:-150px;\n  margin-top:-100px;\n}\n\n.service-block\r\n{\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n  width: 100%;\n}\n\np \r\n{\n  margin: 0.25rem;\n  font-size: 0.875rem;\n  font-weight: 600;\n  --text-opacity: 1;\n  color: #4a5568;\n  color: rgba(74, 85, 104, var(--text-opacity));\n}\n\ninput\r\n{\n  border-width: 1px;\n}\n\n.img-icon \r\n{\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0.5rem;\n  width: 5rem;\n  height: 5rem;\n  text-align: center;\n  cursor: pointer;\n}\n\n.image-upload \r\n{\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 1rem;\n  width: 16rem;\n  height: 10rem;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  text-align: center;\n  overflow: hidden;\n}\n\n.img-up \r\n{\n  height: 10rem;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n.image-upload > input\r\n{\n  display: none;\n}</style>",
    "<script>\r\n    import { onMount } from 'svelte';\r\n    import {firebase, db} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection} from 'sveltefire';\r\n    import ethers from 'ethers';\r\n    import { fade, fly } from 'svelte/transition';\r\n    import tokenABI from './../tokenABI';\r\n    import tokenExABI from './../tokenExABI.js';\r\n    import saveAs from 'file-saver';\r\n    import QRCode from './../Components/QRCode.svelte';\r\n    import QRScanner from './../Components/QRScanner.svelte';\r\n\r\n    let etherscanProvider = new ethers.providers.EtherscanProvider();\r\n\r\n    let user;\r\n    const TAK = '0x943b8cc219a5fb3ba70adb173774987c63c3080b';\r\n    const exchangeAddress = '0xa3979422e803432b0670ceec8c53c25ed2576a4e';\r\n    let buyTokenBlock;\r\n    let tokenExBalance, tokenRate, tokenRateBN;\r\n    let balanceOfTAK = 0;\r\n    $: balanceOfTAKformatted = ethers.utils.formatUnits(balanceOfTAK, 18);\r\n\r\n    let alertBox, alertBoxContent;\r\n    let cryptoprogress, createWalletProgress, decryprtWalletProgress;\r\n    let authTrue  = false;\r\n    let QRCodeBox  = false;\r\n    let QRScanBox  = false;\r\n\r\n    let wallet, defaultWallet, currentWallet, chooseWallet;\r\n    let walletJSON, walletName, walletPassword, walletAddress, walletProvider, walletPrivateKey, walletMnemonic, walletPath;\r\n    let tokenName, tokenAddress, tokenContract, showTokens, addTokenBlock;\r\n    let tokenList = [];\r\n    let walletList = [];\r\n    let selectedWallet = 0;\r\n    let walletHistory;\r\n    let newWalletName, newNwalletPassword, addWalletBlock;\r\n\r\n    let provider = ethers.getDefaultProvider();\r\n    let currentNetwork = provider.network.name;\r\n\r\n    const TAKContract = new ethers.Contract(TAK, tokenABI, provider);\r\n    const exContract = new ethers.Contract(exchangeAddress, tokenExABI, provider);\r\n\r\n    let sendAmount;\r\n    let sendTo;\r\n    let selectedToken;\r\n    let txHash;\r\n    let sendEtherBlock;\r\n\r\n    let sendTAKBlock;\r\n\r\n    // WALLET INFO\r\n    let viewWalletMnemonic, viewWalletPrivateKey;\r\n    let walletBalance;\r\n    let gasPriceString;\r\n\r\n    // IMPORT WALLET\r\n    let importWalletPrivateKey;\r\n    let importedWallet;\r\n\r\n    let buyAmount, buyAmountBN, weiAmountBN, weiAmount, ethAmount;\r\n\r\n    $: if (buyAmount > 0) {\r\n\r\n    let ethwei = ethers.constants.WeiPerEther;\r\n\r\n    buyAmountBN = ethers.utils.bigNumberify(buyAmount);\r\n\r\n    weiAmountBN = ethwei.mul(buyAmountBN).div(tokenRateBN).add(8);\r\n\r\n    weiAmount = weiAmountBN.toHexString();\r\n\r\n    ethAmount = ethers.utils.formatEther(weiAmountBN);\r\n    \r\n    }\r\n\r\n    // AUTH\r\n    function auth() {\r\n        firebase.auth().onAuthStateChanged(function(usr) {\r\n            if (usr) {\r\n                user = usr;\r\n                getUserWallets();\r\n            } else {\r\n                console.log('no user');\r\n            }\r\n        });\r\n    }\r\n\r\n    onMount(auth);\r\n\r\n    // CURRENT WALLET\r\n    function setCurrentWallet(w) {\r\n\r\n        walletAddress = w.address;\r\n        walletPrivateKey = w.privateKey;\r\n        walletMnemonic = w.mnemonic;\r\n\r\n        provider = ethers.getDefaultProvider();\r\n        wallet = new ethers.Wallet(walletPrivateKey, provider);\r\n\r\n        getWalletBalance()\r\n        getGasPrice()\r\n        getBalanceOfTAK()\r\n        getAddressTransactionsHistory(wallet.address)\r\n\r\n    }\r\n\r\n    // Operations\r\n    // ---------------------------------------------------------------------------\r\n\r\n    function getWalletBalance() {\r\n\r\n        let balancePromise = wallet.getBalance();\r\n    \r\n        balancePromise.then((balance) => {\r\n            let etherString = ethers.utils.formatEther(balance);\r\n            walletBalance = etherString;\r\n        });\r\n    }\r\n\r\n    function getWalletTransacionCount() {\r\n\r\n        let transactionCountPromise = wallet.getTransactionCount();\r\n    \r\n        transactionCountPromise.then((transactionCount) => {\r\n            console.log(transactionCount);\r\n        });\r\n    }\r\n\r\n    function getGasPrice() {\r\n\r\n        provider.getGasPrice().then((gasPrice) => {\r\n            // gasPrice is a BigNumber; convert it to a decimal string\r\n            gasPriceString = gasPrice.toString();\r\n    \r\n        });\r\n    }\r\n\r\n    // Getting the transaction history of an address\r\n    function getAddressTransactionsHistory(a) {\r\n        let address = a;\r\n        let startBlock = 0;\r\n        let endBlock = \"latest\";\r\n        etherscanProvider.getHistory(address, startBlock, endBlock)\r\n        .then(function(history) {\r\n            walletHistory = [];\r\n            walletHistory = history.reverse();\r\n            console.log(walletHistory)\r\n        });\r\n    }\r\n\r\n    // ALERT BOX\r\n    function alertBoxCall(mes, t) {\r\n\r\n        if (!alertBox) {\r\n\r\n            alertBoxContent = mes;\r\n            alertBox = true;\r\n        }\r\n        setTimeout(()=>{\r\n            alertBox = false;\r\n        }, t)\r\n    }\r\n\r\n    // ----------------------------------------------------------------------------\r\n\r\n    // Network change\r\n    function changeEthNetwork(e) {\r\n \r\n        provider = ethers.getDefaultProvider(e.target.value);\r\n        wallet = new ethers.Wallet(walletPrivateKey, provider);\r\n        getWalletBalance()\r\n        getGasPrice()\r\n        getAddressTransactionsHistory(wallet.address)\r\n    }\r\n\r\n    // GET the balance of an account\r\n    function getBalanceOfAnAccount(address) {\r\n\r\n        provider.getBalance(address).then((balance) => {\r\n\r\n            // balance is a BigNumber (in wei); format is as a sting (in ether)\r\n            let etherString = ethers.utils.formatEther(balance);\r\n\r\n            console.log(\"Balance: \" + etherString);\r\n        });\r\n    }\r\n\r\n    // Copy private key to clipboard\r\n    function copyPrivateKeyToClipboard() {\r\n        \r\n        let copyText = document.getElementById(\"private-key\");\r\n\r\n        copyText.select();\r\n        copyText.setSelectionRange(0, 99999); /*For mobile devices*/\r\n\r\n        document.execCommand(\"copy\");\r\n\r\n        alertBoxCall('Скопировано.', 2000);\r\n    }\r\n\r\n    // copy to clipboard\r\n    function copyToClipboard(id) {\r\n        \r\n        let copyText = document.getElementById(id);\r\n\r\n        copyText.select();\r\n        copyText.setSelectionRange(0, 99999); /*For mobile devices*/\r\n\r\n        document.execCommand(\"copy\");\r\n\r\n        alertBoxCall('Скопировано.', 2000);\r\n    }\r\n\r\n    // create Password\r\n    function createWalletPassword() {\r\n        if (walletPassword == undefined || null) {\r\n            alert('Введите пароль!')\r\n        }\r\n\r\n        let password = walletPassword;\r\n\r\n        function callback(progress) {\r\n            cryptoprogress = parseInt(progress * 100)\r\n            console.log(\"Encrypting: \" + parseInt(progress * 100) + \"% complete\");\r\n        }\r\n\r\n\r\n        let encryptPromise = wallet.encrypt(password, callback);\r\n\r\n        encryptPromise.then(function(json) {\r\n            walletJSON = json;\r\n            console.log(walletJSON);\r\n            cryptoprogress = null;\r\n        });\r\n\r\n    }\r\n\r\n    // Download JSON wallet\r\n    function downloadJSONWallet() {\r\n\r\n        let curwallet = walletList.filter(el => el.address === wallet.address);\r\n        let data = curwallet[0].wjson;\r\n\r\n        let fileName = `${curwallet[0].name}.json`;\r\n\r\n        // Create a blob of the data JSON.stringify(data)\r\n        let fileToSave = new Blob([data], {\r\n            type: 'application/json',\r\n            name: fileName\r\n        });\r\n\r\n        // Save the file\r\n        saveAs(fileToSave, fileName);\r\n    }\r\n\r\n    // Import JSON wallet\r\n    function importWalletJSON() {\r\n\r\n        function callback(progress) {\r\n            cryptoprogress = parseInt(progress * 100)\r\n        }\r\n\r\n        importedWallet = new ethers.Wallet.fromEncryptedJson(walletJSON, walletPassword, callback);\r\n        setCurrentWallet(importedWallet);\r\n    }\r\n\r\n    // Import wallet\r\n    function importWallet() {\r\n        const importWallet = new ethers.Wallet(importWalletPrivateKey)\r\n        setCurrentWallet(importWallet);\r\n        alertBoxCall('Готово', 2000);\r\n    }\r\n\r\n    // Add imported wallet\r\n    function addImportedWallet(uid) {\r\n        if (newWalletName == undefined || null) {\r\n            alertBoxCall('Введите название кошелька!', 5000)\r\n        }\r\n        else if (newNwalletPassword == undefined || null) {\r\n            alertBoxCall('Введите пароль для кошелька!', 5000)\r\n        }\r\n        else if (importWalletPrivateKey == undefined || null) {\r\n            alertBoxCall('Введите приватный ключ кошелька!', 5000)\r\n        } \r\n        \r\n        else {\r\n\r\n        const importWallet = new ethers.Wallet(importWalletPrivateKey)\r\n\r\n        setCurrentWallet(importWallet);\r\n        walletName = newWalletName;\r\n\r\n        const password = newNwalletPassword;\r\n\r\n        function callback(progress) {\r\n            createWalletProgress = parseInt(progress * 100);\r\n        }\r\n\r\n        const encryptPromise = wallet.encrypt(password, callback);\r\n\r\n        encryptPromise.then(function(json) {\r\n            walletJSON = json;\r\n            addWalletToAccount();\r\n            createWalletProgress = null;\r\n        });\r\n\r\n        function addWalletToAccount() {\r\n            db.collection(`users/${uid}/wallets`).doc(newWalletName).set({\r\n                name: newWalletName,\r\n                address: walletAddress,\r\n                owner: uid,\r\n                wjson: walletJSON\r\n            })\r\n            .then(function(docRef) {\r\n                addWalletBlock = false;\r\n                alertBoxCall('Кошелёк создан.', 2000);\r\n            })\r\n            .catch(function(error) {\r\n                console.error(\"Error adding document: \", error);\r\n                alertBoxCall('Ошибка, возможно кошелёк с таким именем уже существует.', 2000);\r\n            });\r\n        }\r\n        }\r\n    }\r\n\r\n    // Get user wallets\r\n    function getUserWallets() {\r\n\r\n        db.collection(`users/${user.uid}/wallets`)\r\n        .get().then(function(querySnapshot) {\r\n            querySnapshot.forEach(function(doc) {\r\n                \r\n                const d = doc.data();\r\n                walletList.push({\r\n                    id: walletList.length,\r\n                    name: d.name,\r\n                    address: d.address,\r\n                    wjson: d.wjson\r\n                })\r\n            });\r\n            // console.log(walletList)\r\n        });\r\n    }\r\n\r\n    // Open selected wallet\r\n    function openSelectedWallet() {\r\n\r\n        const wallet = walletList[selectedWallet];\r\n        walletName = wallet.name;\r\n        \r\n        function callback(progress) {\r\n            decryprtWalletProgress = parseInt(progress * 100)\r\n        }\r\n\r\n        const openWallet = new ethers.Wallet.fromEncryptedJson(wallet.wjson, walletPassword, callback)\r\n        \r\n        openWallet.then((response)=> {\r\n            \r\n            setCurrentWallet(response)\r\n            authTrue = true;\r\n        })\r\n        .catch((err)=> {\r\n            decryprtWalletProgress = null;\r\n            walletPassword = '';\r\n            if (err.message == 'invalid password') {\r\n\r\n                alertBoxCall('Ошибка: неправильный пароль!', 5000);\r\n            } else {\r\n                \r\n                alertBoxCall(`Ошибка: ${err.message}`, 5000);\r\n            }\r\n        })\r\n    }\r\n\r\n    // Open default wallet\r\n    function openDefaultWallet() {\r\n\r\n        function callback(progress) {\r\n            decryprtWalletProgress = parseInt(progress * 100)\r\n        }\r\n\r\n        const defaultWallet = new ethers.Wallet.fromEncryptedJson(walletJSON, walletPassword, callback)\r\n        \r\n        defaultWallet.then((response)=> {\r\n            \r\n            setCurrentWallet(response)\r\n            authTrue = true;\r\n        })\r\n        .catch((err)=> {\r\n            alertBoxCall(`Ошибка: ${err.message}`);\r\n        })\r\n    }\r\n\r\n    // Delete wallet\r\n    function deletetWallet(uid, walletName) {\r\n\r\n        if (window.confirm(\"Данная операция удалит зашифрованный кошелёк с сервера, но доступ к нему можно получить через любой другой эфириум кошелёк импортировав JSON файл. Удалить?\")) { \r\n            \r\n            db.collection(`users/${uid}/wallets`).doc(walletName)\r\n            .delete().then(function() {\r\n                alertBoxCall('Кошелёк удален.', 3000);\r\n                document.location.reload(true);\r\n            }).catch(function(error) {\r\n                alertBoxCall(`Ошибка: ${error}`, 3000);\r\n            });\r\n        }\r\n    }\r\n    // Load default wallet\r\n    function loadDefaultWallet(uid) {\r\n        db.collection(`users/${uid}/wallets`).doc('default')\r\n        .get()\r\n        .then(function(doc) {\r\n            if (doc.exists) {\r\n                const data = doc.data();\r\n                walletJSON = data.wjson;\r\n                walletName = doc.id;\r\n                \r\n                openDefaultWallet();\r\n            } else {\r\n            \r\n                alert(\"Ошибка! Кошелек не найден.\");\r\n            }\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n    }\r\n\r\n    // Create default wallet\r\n    function createDefaultWallet(uid) {\r\n        if (walletPassword == undefined || null) {\r\n            alert('Введите пароль!')\r\n        }\r\n\r\n        const randomWallet = ethers.Wallet.createRandom();\r\n\r\n        setCurrentWallet(randomWallet);\r\n\r\n        const password = walletPassword;\r\n\r\n        function callback(progress) {\r\n            createWalletProgress = parseInt(progress * 100);\r\n        }\r\n\r\n        const encryptPromise = wallet.encrypt(password, callback);\r\n\r\n        encryptPromise.then(function(json) {\r\n            walletJSON = json;\r\n            addWalletToAccount();\r\n            createWalletProgress = null;\r\n        });\r\n\r\n        function addWalletToAccount() {\r\n            db.collection(`users/${uid}/wallets`).doc('default').set({\r\n                name: 'default',\r\n                address: walletAddress,\r\n                owner: uid,\r\n                wjson: walletJSON\r\n            })\r\n            .then(function(docRef) {\r\n                alertBoxCall('Кошелёк создан.', 2000);\r\n                document.location.reload(true);\r\n            })\r\n            .catch(function(error) {\r\n                console.error(\"Error adding document: \", error);\r\n            });\r\n        }\r\n    }\r\n\r\n    // Add custom TOKEN\r\n    function addCustomToken() {\r\n\r\n        if (tokenAddress && tokenName == undefined || null) {\r\n            alertBoxCall('Заполните все необходимые поля.', 3000);\r\n        } \r\n\r\n        else {\r\n\r\n            db.collection(`users/${user.uid}/wallets/${walletName}/tokens`).add({\r\n                network: provider.network.name,\r\n                name: tokenName,\r\n                address: tokenAddress\r\n            })\r\n            .then(function(docRef) {\r\n                alertBoxCall('Токен добавлен.', 3000);\r\n                addTokenBlock = false;\r\n            })\r\n            .catch(function(error) {\r\n                console.error(\"Error adding document: \", error);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    function getWalletTokens() {\r\n\r\n        showTokens = false;\r\n        tokenList.length = 0;\r\n\r\n        db.collection(`users/${user.uid}/wallets/${walletName}/tokens`)\r\n        .where(\"network\", \"==\", provider.network.name)\r\n        .get()\r\n        .then(function(querySnapshot) {\r\n            querySnapshot.forEach(function(doc) {\r\n                \r\n                const data = doc.data();\r\n                tokenList.push({\r\n                    name: data.name,\r\n                    address: data.address,\r\n                    balance: 0,\r\n                    id: doc.id\r\n                });\r\n            });\r\n            getTokensBalance()\r\n        });\r\n    }\r\n\r\n    function getTokensBalance() {\r\n\r\n        tokenList.forEach(async(tok) => {\r\n            \r\n            const contract = new ethers.Contract(tok.address, tokenABI, provider);\r\n            const balance = await contract.balanceOf(wallet.address);\r\n            tok.balance = await balance.toString();\r\n            showTokens = true;\r\n        });\r\n        console.log('tokenList', tokenList)\r\n    }\r\n\r\n    async function getTokenBalance(tokAdrr) {\r\n\r\n        const contract = new ethers.Contract(tokAdrr, tokenABI, provider);\r\n        const balance = await contract.balanceOf(wallet.address);\r\n        \r\n        console.log('balance string', balance.toString());\r\n    }\r\n\r\n    async function getBalanceOfTAK() {\r\n\r\n        const contract = new ethers.Contract(TAK, tokenABI, provider);\r\n        balanceOfTAK = await contract.balanceOf(wallet.address);\r\n        \r\n        // console.log('balanceOfTAK', balanceOfTAK.toString());\r\n    }   \r\n\r\n    function createNewWallet(uid) {\r\n\r\n        if (newWalletName == undefined || null) {\r\n            alertBoxCall('Введите название кошелька!', 2000)\r\n        }\r\n        else if (newNwalletPassword == undefined || null) {\r\n            alertBoxCall('Введите пароль для кошелька!', 2000)\r\n        }\r\n\r\n        else {\r\n\r\n            const randomWallet = ethers.Wallet.createRandom();\r\n    \r\n            setCurrentWallet(randomWallet);\r\n    \r\n            const password = walletPassword;\r\n    \r\n            function callback(progress) {\r\n                createWalletProgress = parseInt(progress * 100);\r\n            }\r\n    \r\n            const encryptPromise = wallet.encrypt(password, callback);\r\n    \r\n            encryptPromise.then(function(json) {\r\n                walletJSON = json;\r\n                addWalletToAccount();\r\n                createWalletProgress = null;\r\n            })\r\n            .catch(function(error) {\r\n                alertBoxCall(`Ошибка: ${error.message}`, 5000);;\r\n            });\r\n\r\n            function addWalletToAccount() {\r\n                db.collection(`users/${uid}/wallets`).doc(newWalletName).set({\r\n                    name: newWalletName,\r\n                    address: walletAddress,\r\n                    owner: uid,\r\n                    wjson: walletJSON\r\n                })\r\n                .then(function(docRef) {\r\n                    alertBoxCall('Кошелёк создан.', 2000);\r\n                })\r\n                .catch(function(error) {\r\n                    alertBoxCall(`Ошибка: ${error.message}`, 5000);;\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    function sendToken() {\r\n\r\n        const tokenContract = new ethers.Contract(selectedToken, tokenABI, wallet);\r\n\r\n        // How many tokens?\r\n        const numberOfDecimals = 18;\r\n        const numberOfTokens = ethers.utils.parseUnits(sendAmount, numberOfDecimals);\r\n\r\n        // Send tokens\r\n        tokenContract.transfer(sendTo, numberOfTokens).then(function(tx) {\r\n            console.log(tx);\r\n            txHash = tx.hash;\r\n            alertBoxCall('Отправлено', 3000)\r\n        })\r\n        .catch((err) => {\r\n            alertBoxCall(`Ошибка: ${err.message}`, 3000)\r\n        })\r\n    }\r\n\r\n    function sendTAKToken() {\r\n\r\n        const tokenContract = new ethers.Contract(TAK, tokenABI, wallet);\r\n\r\n        // How many tokens?\r\n        const numberOfDecimals = 18;\r\n        const numberOfTokens = ethers.utils.parseUnits(sendAmount, numberOfDecimals);\r\n\r\n        // Send tokens\r\n        tokenContract.transfer(sendTo, numberOfTokens).then(function(tx) {\r\n            console.log(tx);\r\n            txHash = tx.hash;\r\n            alertBoxCall('Отправлено', 3000)\r\n        })\r\n        .catch((err) => {\r\n            alertBoxCall(`Ошибка: ${err.message}`, 3000)\r\n        })\r\n    }\r\n\r\n    function sendEther() {\r\n\r\n        let amount = ethers.utils.parseEther(sendAmount);\r\n\r\n        let tx = {\r\n            to: sendTo,\r\n            // ... or supports ENS names\r\n            // to: \"ricmoo.firefly.eth\",\r\n\r\n            // We must pass in the amount as wei (1 ether = 1e18 wei), so we\r\n            // use this convenience function to convert ether to wei.\r\n            value: amount\r\n        };\r\n\r\n        const sendPromise = wallet.sendTransaction(tx);\r\n\r\n        sendPromise.then((tx) => {\r\n            console.log(tx);\r\n            // {\r\n            //    // All transaction fields will be present\r\n            //    \"nonce\", \"gasLimit\", \"pasPrice\", \"to\", \"value\", \"data\",\r\n            //    \"from\", \"hash\", \"r\", \"s\", \"v\"\r\n            // }\r\n            alertBoxCall('Отправлено', 3000)\r\n        })\r\n        .catch((err) => {\r\n            alertBoxCall(`Ошибка: ${err.message}`, 3000)\r\n        })\r\n    }\r\n\r\n    function buyTakToken() {\r\n        \r\n        const amount = weiAmountBN;\r\n\r\n        let tx = {\r\n            to: exchangeAddress,\r\n            // ... or supports ENS names\r\n            // to: \"ricmoo.firefly.eth\",\r\n\r\n            // We must pass in the amount as wei (1 ether = 1e18 wei), so we\r\n            // use this convenience function to convert ether to wei.\r\n            value: amount\r\n        };\r\n\r\n        const sendPromise = wallet.sendTransaction(tx);\r\n\r\n        sendPromise.then((tx) => {\r\n            console.log(tx);\r\n            // {\r\n            //    // All transaction fields will be present\r\n            //    \"nonce\", \"gasLimit\", \"pasPrice\", \"to\", \"value\", \"data\",\r\n            //    \"from\", \"hash\", \"r\", \"s\", \"v\"\r\n            // }\r\n            alertBoxCall('Отправлено', 3000)\r\n        })\r\n        .catch((err) => {\r\n            alertBoxCall(`Ошибка: ${err.message}`, 5000)\r\n        })\r\n    }\r\n\r\n    async function getExContractBalance() {\r\n        const response = await TAKContract.balanceOf(exchangeAddress);\r\n        tokenExBalance = ethers.utils.formatEther(response);\r\n    }\r\n\r\n    getExContractBalance()\r\n\r\n    async function getTokenRate() {\r\n        \r\n        let response = await exContract.getRate();\r\n        tokenRateBN = response;\r\n        tokenRate = response.toString();\r\n    }\r\n\r\n    getTokenRate()\r\n\r\n</script>\r\n\r\n<div class=\"pt-16 bg-gray-900 w-full min-h-screen\">\r\n    <FirebaseApp {firebase}>\r\n        <User let:user>\r\n            <Doc path={`users/${user.uid}/wallets/default`} let:data={wallet} let:ref>\r\n\r\n                <!-- LOADING -->\r\n                <div slot=\"loading\" class=\"mt-16 text-white text-center\">\r\n                    Загрузка...\r\n                </div>\r\n                \r\n                <!-- NO WALLET -->\r\n                <div slot=\"fallback\">\r\n                    \r\n                    <!-- WELCOME -->\r\n                    <div class=\"welcome-container p-2 bg-gray-900 h-auto\">\r\n                        <div class=\"welcome-block p-2 bg-gray-100 rounded-lg\">\r\n\r\n                            <div class=\"text-justify leading-tight text-sm\">\r\n\r\n                                <p class=\" font-semibold text-center text-base\">\r\n                                Добро пожаловать!\r\n                                </p>\r\n                                <p class=\" mt-2\">\r\n                                    На данный момент у вас нет крипто-кошелька привязанного к аккаунту.\r\n                                    Создайте его прямо сейчас! Придумайте пароль для кошелька и нажмите кнопку \"Создать\".\r\n                                </p>\r\n                                <p class=\"mt-1 text-red-600\">\r\n                                    <b>Внимание!</b> Кошелёк будет зашифрован с помощью этого пароля, если вы его забудете, то все средства\r\n                                    останутся там навсегда, так как нет другого способа его расшифровать. Рекомендуем записать пароль на бумаге\r\n                                    и хранить в надёжном месте.\r\n                                </p>\r\n                                <p class=\"mt-1 text-teal-600\">\r\n                                    После создания кошельки сохраняются в зашифрованном виде, и каждый раз при открытии необходимо вводить пароль.\r\n                                    Даже если злоумышленники получат доступ к вашему аккаунту, средства на кошельках останутся в сохранности.\r\n                                    Рекомендуем скачать копию кошелька в зашифрованном виде (файл JSON) или приватный ключ кошелька, для доступа к кошельку\r\n                                    из других источников. Кнопки появятся под адресом после создания: \"Показать приватный ключ\", \"Скачать JSON-кошелёк\".\r\n                                </p>\r\n                            </div>\r\n                            <div>\r\n                                {#if createWalletProgress != undefined || null}\r\n                                    <progress class=\"mt-2 w-full rounded-full overflow-hidden\" max=\"100\" value={createWalletProgress}></progress>\r\n                                {/if}\r\n                            </div>\r\n                            <div class=\"mt-3 text-center\">\r\n                                \r\n                                <input class=\"input-password\" type=\"password\" placeholder=\"Пароль\" bind:value={walletPassword}>\r\n                                \r\n                            </div>\r\n                            <div class=\"mt-3 text-center\">\r\n                                \r\n                                <button class=\"btn-orange\" on:click|once={()=> createDefaultWallet(user.uid)}> Создать </button>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- WALLET EXIST -->\r\n                <div class=\"mx-auto px-2 w-full lg:w-1/2 bg-gray-900 h-auto\">\r\n\r\n                    <!-- Sign Out -->\r\n                    {#if !authTrue}\r\n                    <div class=\"auth-block p-4 bg-gray-100 rounded-lg\">\r\n\r\n                        <p class=\"mb-2 font-semibold text-center text-gray-800\">\r\n                            Выберите кошелёк:\r\n                        </p>\r\n\r\n                        {#if walletList.length > 1}\r\n                            <div>\r\n                                {#each walletList as w}\r\n\r\n                                        <div class=\"mt-1 p-1 text-orange-600 bg-white border rounded-lg\">\r\n                                            \r\n                                            <label for=\"\">\r\n                                                <span>\r\n                                                    {w.name} \r\n                                                </span>\r\n                                                <input type=\"radio\" bind:group={selectedWallet} value={w.id} \r\n                                                on:input={()=> selectedWallet = w.id }>\r\n                                            </label>\r\n\r\n                                            <span class=\" text-teal-600 text-xs tracking-tight\">\r\n                                                {w.address}\r\n                                            </span>\r\n\r\n                                            {#if w.name !== 'default'}\r\n                                            <span class=\"mr-3 text-sm cursor-pointer text-gray-600 float-right\" on:click={()=> deletetWallet(user.uid, w.name)}>\r\n                                                удалить\r\n                                            </span>\r\n                                            {/if}\r\n                                        </div>\r\n                                {/each}\r\n                            </div>\r\n                        {:else}\r\n                            <div class=\"mt-1 p-1 text-orange-600 bg-white border rounded-lg\">\r\n                                \r\n                                <label for=\"\">\r\n                                    <span>\r\n                                        {walletList[0].name} \r\n                                    </span>\r\n                                        <input type=\"radio\" bind:group={selectedWallet} value={0}>\r\n                                </label>\r\n\r\n                                <span class=\" text-teal-600 text-xs tracking-tight\">\r\n                                    {walletList[0].address}\r\n                                </span>\r\n                            </div>\r\n                        {/if}\r\n\r\n                        <div class=\"mt-3\">\r\n                            <p class=\" text-center font-semibold text-gray-700\">\r\n                                Введите пароль кошелька:\r\n                            </p>\r\n                        </div>\r\n                        <div class=\" mx-auto text-center\">\r\n                            {#if decryprtWalletProgress != undefined || null}\r\n                                <progress class=\"mt-4 w-full rounded-full overflow-hidden\" max=\"100\" value={decryprtWalletProgress}></progress>\r\n                                <span class=\" text-sm italic text-orange-600\">\r\n                                    Расшифровка кошелька...\r\n                                </span>\r\n                            {/if}\r\n                        </div>\r\n                        <div class=\"mt-2 text-center\">\r\n                            <input class=\"input-password\" type=\"password\" bind:value={walletPassword}>\r\n                        </div>\r\n                        <div class=\"mt-4 text-center\">\r\n                            <button class=\"btn-orange\" on:click={()=> openSelectedWallet()}> Открыть </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Sign In -->\r\n                    {:else}\r\n                    <div class=\"wallet\">\r\n        \r\n                        <!-- HEADER -->\r\n                        <div class=\"wallet-header\">\r\n                        </div>\r\n\r\n                        <!-- NETWORK -->\r\n                        <div class=\"wallet-block\">\r\n\r\n                            <div class=\" flex flex-row justify-between items-center\">\r\n                                <div>\r\n                                    <span class=\"text-sm text-gray-700 font-semibold\">\r\n                                        Текущая сеть: \r\n                                    </span>\r\n\r\n                                    <!-- help -->\r\n                                    <span class=\"help\">\r\n                                        <img src=\"./icons/help.svg\" alt=\"help\" class=\"w-4 h-4\">\r\n                                        <span>\r\n                                            \"Homestead\" - главная сеть эфириума (Ethereum mainnet).\r\n                                            \"Ropsten\" - тестовая сеть эфириума (Ropsten testnet).\r\n                                            \"Rinkeby\" - тестовая сеть эфириума (Rinkeby mainnet).\r\n                                        </span>\r\n                                    </span>\r\n                                </div>\r\n                                <div>\r\n                                    <span>\r\n                                        <select id=\"select-network\" on:input={changeEthNetwork}>\r\n                                            <option value=\"homestead\">homestead</option>\r\n                                            <option value=\"rinkeby\">rinkeby</option>\r\n                                            <option value=\"ropsten\">ropsten</option>\r\n                                        </select>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- ADD NEW WALLET -->\r\n                        {#if addWalletBlock}\r\n                        <div class=\"wallet-block\">\r\n\r\n                            <div class=\" flex flex-col\">\r\n\r\n                                <div>\r\n                                    <p class=\" text-sm text-center text-orange-600 font-semibold\">\r\n                                        Создать новый кошелёк:\r\n                                    </p>\r\n                                    {#if createWalletProgress != undefined || null}\r\n                                        <progress max=\"100\" class=\" mt-2 w-full rounded-full overflow-hidden\" value={createWalletProgress}/>\r\n                                        <p class=\" text-sm italic text-orange-600 text-center\">\r\n                                            Подождите, идёт шифрование...\r\n                                        </p>\r\n                                    {/if}\r\n                                    <p class=\"mt-2\">\r\n                                        <input class=\"input-field\" type=\"text\" placeholder=\"Название кошелька\" bind:value={newWalletName}>\r\n                                        <button class=\"btn-gray ml-1\" on:click={()=> addWalletBlock = false}>Отмена</button>\r\n                                    </p>\r\n                                    <p class=\"mt-1\">\r\n                                        <input class=\"input-field\" type=\"text\" placeholder=\"Пароль кошелька\" bind:value={newNwalletPassword}>\r\n                                        <button class=\"btn-orange\" on:click={()=> createNewWallet(user.uid)}>Создать</button>\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div class=\"mt-2\">\r\n                                    <p class=\" text-sm text-center text-orange-600 font-semibold\">\r\n                                        Импортировать существующий кошелёк и сохранить:\r\n                                    </p>\r\n                                    <p>\r\n                                        <input class=\"input-field\" type=\"text\" placeholder=\"Приватный ключ\" bind:value={importWalletPrivateKey}>\r\n                                        <button class=\"btn-green\" on:click={()=> addImportedWallet(user.uid)}>Импорт</button>\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div class=\"mt-2\">\r\n                                    <p class=\" text-sm text-center text-orange-600 font-semibold\">\r\n                                        Временный импорт:\r\n                                    </p>\r\n                                    <p>\r\n                                        <input class=\"input-field\" type=\"text\" placeholder=\"Приватный ключ\" bind:value={importWalletPrivateKey}>\r\n                                        <button class=\"btn-green\" on:click={importWallet}>Импорт</button>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        {/if}\r\n\r\n                        <!-- CURRENT WALLET -->\r\n                        <div class=\"wallet-block\">\r\n\r\n                            <div>\r\n                                <div>\r\n                                    <span class=\"text-sm text-gray-700 font-semibold\">\r\n                                        Текущий кошелёк: \r\n                                    </span>\r\n                                </div>\r\n                                <div class=\"flex flex-row justify-between items-center\">\r\n                                    <!-- Current wallet name -->\r\n                                    <div class=\" flex flex-row\">\r\n                                        <div class=\"p-1 w-full border border-gray-400 bg-white rounded-lg\">\r\n                                            {walletName}\r\n                                        </div>\r\n                                        <div class=\"ml-1 p-1 rounded-full bg-teal-500 shadow-md\">\r\n                                            <img src=\"./icons/unfold_more.svg\" alt=\"copy\" on:click={()=> authTrue = false} \r\n                                            class=\"w-6 h-6 cursor-pointer\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <!-- QR-Code generator -->\r\n                                    <div>\r\n                                        <img src=\"./icons/qr_code.svg\" alt=\"QR\" on:click={()=> QRCodeBox = true}\r\n                                        class=\"w-8 h-8 cursor-pointer\">\r\n                                    </div>\r\n                                    <!-- Add wallet -->\r\n                                    <div>\r\n                                        <button class=\"btn-opt mb-2\" on:click={()=> addWalletBlock = true}>\r\n                                        добавить +\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <!-- Address -->\r\n                                <div class=\"mt-1 flex flex-row justify-between items-center\">\r\n\r\n                                    <div class=\" w-11/12\">\r\n                                        <input id=\"wallet-address\" type=\"text\" value={walletAddress}>\r\n                                    </div>\r\n\r\n                                    <div class=\"px-1\">\r\n                                        <img src=\"./icons/file-copy.svg\" alt=\"copy\" on:click={()=> copyToClipboard('wallet-address')} class=\" w-6 h-6 cursor-pointer\">\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <span class=\"link-wallet-secret\" on:click={()=> viewWalletPrivateKey = true}>\r\n                                        Показать приватный ключ\r\n                                    </span>\r\n                                    <span class=\"link-wallet-secret\" on:click={()=> downloadJSONWallet()}>\r\n                                        JSON-кошелёк\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- view private key -->\r\n                            {#if viewWalletPrivateKey}\r\n                            <div class=\"wallet-secret\">\r\n\r\n                                <div class=\"mt-2\">\r\n                                    \r\n                                    <input id=\"private-key\" class=\"view-private-key\" type=\"text\" value={walletPrivateKey} on:click={copyPrivateKeyToClipboard}>\r\n                                    \r\n                                </div>\r\n                                    \r\n                                <div class=\"mt-2\">\r\n                                    <button class=\"btn-gray\" on:click={()=> viewWalletPrivateKey = false}> Закрыть </button>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            {/if}\r\n\r\n                        </div>\r\n\r\n                        <!-- WALLET BALANCE -->\r\n                        <div class=\"wallet-block\">\r\n\r\n                            <div class=\" flex flex-col\">\r\n\r\n                                <div>\r\n                                    <p class=\" text-center font-semibold text-green-500\">\r\n                                        Баланс\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div class=\"mt-2 flex flex-col\">\r\n\r\n                                    <!-- ETHEREUM -->\r\n                                    <div class=\"token\">\r\n                                        <div class=\" flex flex-row justify-between items-center\">\r\n\r\n                                            <div class=\"ml-1 font-semibold text-blue-500\">\r\n                                                ETH: \r\n                                            </div>\r\n\r\n                                            <div class=\" text-orange-500\">\r\n                                                {walletBalance} \r\n                                            </div>\r\n\r\n                                            <div >\r\n                                                {#if !sendEtherBlock}\r\n                                                    <img class=\"w-8 h-8 cursor-pointer\" src=\"./icons/expand_more.svg\" alt=\"more\" \r\n                                                    on:click={()=> sendEtherBlock = true}>\r\n                                                {:else}\r\n                                                    <img class=\"w-8 h-8 cursor-pointer\" src=\"./icons/expand_less.svg\" alt=\"less\" \r\n                                                    on:click={()=> sendEtherBlock = false}>\r\n                                                {/if}\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                        {#if sendEtherBlock}\r\n                                            <div class=\"text-center\">\r\n                                                <input class=\"input-field\" type=\"text\" placeholder=\"Адрес получателя\" bind:value={sendTo}>\r\n                                                <input class=\"input-field\" type=\"text\" placeholder=\"Количество\" bind:value={sendAmount}>\r\n                                            </div>\r\n                                            <div class=\"text-center\">\r\n                                                <button class=\"btn-scan\" on:click={()=> QRScanBox = true}>\r\n                                                <img src=\"./icons/scan.svg\" alt=\"QR\" class=\"w-6 h-6\">\r\n                                                </button>\r\n                                                <button class=\"btn-send\" on:click={sendEther}> Отправить </button>\r\n                                            </div>\r\n                                        {/if}\r\n                                    </div>\r\n                                    \r\n                                    <!-- TAK -->  \r\n                                    <div class=\"token\">\r\n                                        <div class=\" flex flex-row justify-between items-center\">\r\n\r\n                                            <div class=\"ml-1 font-semibold text-blue-500\">\r\n                                                TAK: \r\n                                            </div>\r\n\r\n                                            <div class=\" text-orange-500\">\r\n                                                {balanceOfTAKformatted}\r\n                                            </div>\r\n\r\n                                            <div >\r\n                                                {#if !sendTAKBlock}\r\n                                                    <img class=\"w-8 h-8 cursor-pointer\" src=\"./icons/expand_more.svg\" alt=\"more\" \r\n                                                    on:click={()=> sendTAKBlock = true}>\r\n                                                {:else}\r\n                                                    <img class=\"w-8 h-8 cursor-pointer\" src=\"./icons/expand_less.svg\" alt=\"less\" \r\n                                                    on:click={()=> sendTAKBlock = false}>\r\n                                                {/if}\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                        {#if sendTAKBlock}\r\n                                            <div class=\"text-center\">\r\n                                                <input class=\"input-field\" type=\"text\" placeholder=\"Адрес получателя\" bind:value={sendTo}>\r\n                                                <input class=\"input-field\" type=\"text\" placeholder=\"Количество\" bind:value={sendAmount}>\r\n                                            </div>\r\n                                            <div class=\"text-center\">\r\n                                                <button class=\"btn-scan\" on:click={()=> QRScanBox = true}>\r\n                                                <img src=\"./icons/scan.svg\" alt=\"QR\" class=\"w-6 h-6\">\r\n                                                </button>\r\n                                                <button class=\"btn-send\" on:click={sendTAKToken}> Отправить </button>\r\n                                            </div>\r\n                                        {/if}\r\n                                    </div>\r\n\r\n                                    <!-- Buy TAK token -->\r\n                                    <div class=\" text-center\">\r\n                                        <p on:click={()=> buyTokenBlock = true}\r\n                                            class=\"text-sm font-medium underline text-teal-500 cursor-pointer\">\r\n                                            Купить токены ТАК\r\n                                        </p>\r\n\r\n                                        {#if buyTokenBlock}\r\n                                        <div class=\"mt-2\">\r\n                                            <div>\r\n                                                <input class=\" border bg-gray-200\"\r\n                                                type=\"number\" step=\"1000\" min=\"1000\" max={tokenExBalance} bind:value={buyAmount}>\r\n                                            </div>\r\n                                            <div class=\" text-center\">\r\n                                                <span class=\" text-sm text-teal-500\">\r\n                                                    = {ethAmount} Eth.\r\n                                                </span>\r\n                                            </div>\r\n                                            <div>\r\n                                                <button class=\"btn-green\" on:click={buyTakToken}>Купить</button>\r\n                                            </div>\r\n                                        </div>\r\n                                        {/if}\r\n                                    </div>\r\n\r\n                                    <!-- GAS PRICE -->\r\n                                    <!-- <div class=\"token\">\r\n                                        <p>\r\n                                            <span class=\"ml-1 font-semibold text-blue-500\">\r\n                                                Цена газа: \r\n                                            </span>\r\n\r\n                                            <span class=\"ml-10 text-orange-500\">\r\n                                                {Math.trunc(+gasPriceString / 1000000000)} gwei \r\n                                            </span>\r\n                                        </p>\r\n                                    </div> -->\r\n                                </div>\r\n\r\n                                <div class=\"mt-2 text-center\">\r\n                                    <button class=\"btn-opt\" on:click={getWalletTokens}>Показать токены</button>\r\n                                    <button class=\"btn-opt\" on:click={()=> addTokenBlock = true}>Добавить токен</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- TOKENS -->\r\n                            {#if showTokens}\r\n                                <div class=\"mt-3 flex flex-col\">\r\n                                    {#each tokenList as token}\r\n                                        \r\n                                        <div class=\"token\">\r\n                                            <div class=\" flex flex-row justify-between items-center\">\r\n\r\n                                                <div>\r\n                                                    <span class=\" text-blue-500\">\r\n                                                        {token.name}:\r\n                                                    </span>\r\n                                                </div>\r\n\r\n                                                <div>\r\n                                                    <span class=\" text-orange-500\">\r\n                                                        {+token.balance / 1e18}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <label>\r\n                                                        <input type=\"radio\" bind:group={selectedToken} value={token.address}>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    {/each}\r\n                                </div>\r\n                            {/if}\r\n                        </div>\r\n\r\n                        <!-- ADD TOKEN -->\r\n                        {#if addTokenBlock}\r\n                        <div class=\"wallet-block\">\r\n                            <div>\r\n                                <p class=\" text-center font-semibold text-teal-500\">\r\n                                    Добавить токен:\r\n                                </p>\r\n                            </div>\r\n                            <div class=\" text-center\">\r\n                                <input class=\"input-field\" type=\"text\" placeholder=\"Название токена\" bind:value={tokenName}>\r\n                                <input class=\"input-field\" type=\"text\" placeholder=\"Адрес смарт-контракта токена\" bind:value={tokenAddress}>\r\n                            </div>\r\n                            <div class=\" text-center\">\r\n                                <button class=\"btn-orange\" on:click={addCustomToken}> Добавить </button>\r\n                                <button class=\"btn-gray\" on:click={()=> addTokenBlock = false}> Отмена </button>\r\n                            </div>\r\n                        </div>\r\n                        {/if}\r\n\r\n                        <!-- TRANSFER TOKEN-->\r\n                        {#if selectedToken}\r\n                        <div class=\"wallet-block\">\r\n                            <div>\r\n                                <p class=\" text-center font-semibold text-teal-500\">\r\n                                    Отправить токены\r\n                                </p>\r\n                                \r\n                                <div class=\" text-center\">\r\n                                    <input class=\"input-field\" type=\"text\" placeholder=\"Адрес получателя\" bind:value={sendTo}>\r\n                                    <input class=\"input-field\" type=\"text\" placeholder=\"Количество\" bind:value={sendAmount}>\r\n                                </div>\r\n                                <div class=\" text-center\">\r\n                                    <button class=\"btn-white\" on:click={()=> QRScanBox = true}>\r\n                                        <img src=\"./icons/scan.svg\" alt=\"QR\" class=\"w-6 h-6\">\r\n                                    </button>\r\n                                    <button class=\"btn-green\" on:click={sendToken}> Отправить </button>\r\n                                </div>\r\n                                {#if txHash}\r\n                                    <div class=\"mt-1 p-1 w-full bg-white rounded-lg truncate\">\r\n                                        <a class=\"link-hash\" href={`https://${provider.network.name}.etherscan.io/tx/${txHash}`}> \r\n                                        {txHash} \r\n                                        </a>\r\n                                    </div>\r\n                                {/if}\r\n                            </div>\r\n                        </div>\r\n                        {/if}\r\n\r\n                        <!-- WALLET HISTORY -->\r\n                        <div class=\"wallet-block\">\r\n                            <p class=\" font-semibold text-teal-500 text-center\">\r\n                                Транзакции\r\n                            </p>\r\n                            {#if walletHistory && walletHistory.length > 0}\r\n                            \r\n                                {#each walletHistory as h}\r\n                                    <div class=\"mt-1 p-1 bg-white border rounded-lg text-sm\">\r\n\r\n                                        <div class=\"px-1 flex flex-row justify-between text-gray-600\">\r\n                                            <div>\r\n                                                {new Date(h.timestamp * 1000).toLocaleDateString('ru-RU', {hour: '2-digit', minute: '2-digit', day: 'numeric', month: 'long', year: 'numeric'})}\r\n                                            </div>\r\n                                            <div>\r\n                                                {#if h.confirmations > 0}\r\n                                                <span class=\" text-sm font-semibold text-green-500\">\r\n                                                    Подтверждена\r\n                                                </span>\r\n                                                {:else}\r\n                                                <span class=\" text-sm font-semibold text-orange-500\">\r\n                                                    Не подтверждена\r\n                                                </span>\r\n                                                {/if}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"mt-2 text-center\">\r\n                                            <p>\r\n                                                <span class=\" text-base font-medium text-orange-500\">\r\n                                                    { ethers.utils.formatEther(h.value.toString()) } eth.\r\n                                                </span>\r\n                                            </p>\r\n                                        </div>\r\n\r\n                                        <div class=\"mt-3 px-1 truncate text-center\">\r\n                                            {#if provider.network.name === 'homestead'}\r\n                                                <a class=\"link-hash\" href={`https://etherscan.io/tx/${h.hash}`} target=\"_blank\"> \r\n                                                    {h.hash} \r\n                                                </a>\r\n                                            {:else}\r\n                                                <a class=\"link-hash\" href={`https://${provider.network.name}.etherscan.io/tx/${h.hash}`} target=\"_blank\"> \r\n                                                    {h.hash} \r\n                                                </a>\r\n                                            {/if}\r\n                                        </div>\r\n                                        \r\n                                    </div>\r\n                                {/each}\r\n                            {:else}\r\n                                <p class=\"mt-4 p-2 text-sm italic text-center\">\r\n                                    Нет транзакций\r\n                                </p>\r\n                            {/if}\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/if}\r\n                </div>\r\n                \r\n            </Doc>\r\n        </User>\r\n    </FirebaseApp>\r\n</div>\r\n\r\n<!-- ALERT BOX -->\r\n{#if alertBox}\r\n    <div id=\"alertBox\" class=\" fixed top-0\">\r\n\r\n        <div transition:fade=\"{{ duration: 500 }}\" class=\"p-3 border bg-white rounded-lg shadow-lg\">\r\n\r\n            <p class=\"text-center\">\r\n                {alertBoxContent}\r\n            </p>\r\n\r\n            <p class=\"mt-2 text-center\">\r\n                <button class=\"btn-orange\" on:click={() => alertBox = false}>Ок</button>\r\n            </p>\r\n\r\n        </div>\r\n\r\n    </div>\r\n{/if}\r\n\r\n<!-- QRCode -->\r\n{#if QRCodeBox}\r\n    <div class=\" fixed top-0\">\r\n        <QRCode codeValue={walletAddress} squareSize=\"250\" on:close={()=> QRCodeBox = false}/>\r\n    </div>\r\n{/if}\r\n\r\n<!-- QRCode Scanner -->\r\n{#if QRScanBox}\r\n    <div class=\" fixed top-0 w-full\">\r\n        <QRScanner on:result={(e)=> sendTo = e.detail.result} on:close={()=> QRScanBox = false}/>\r\n    </div>\r\n{/if}\r\n\r\n\r\n<style>.help {\n  position: relative;\n  display: inline-block;\n}\n\n.help span {\n  display: none;\n  padding: 0.5rem;\n  width: 16rem;\n  height: auto;\n  font-size: 0.75rem;\n  --bg-opacity: 1;\n  background-color: #2d3748;\n  background-color: rgba(45, 55, 72, var(--bg-opacity));\n  --text-opacity: 1;\n  color: #f7fafc;\n  color: rgba(247, 250, 252, var(--text-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n}\n\n.help:hover span {\n  position: absolute;\n  display: inline-flex;\n  margin-top: 0.5rem;\n  margin-left: -5rem;\n}\n\n#alertBox {\n  width: 240px;\n  height: 140px;\n  left: 50%;\n  top: 50%;\n  margin-left:-120px;\n  margin-top:-70px;\n}\n\n.link-wallet-secret {\n  font-size: 0.75rem;\n  --text-opacity: 1;\n  color: #38b2ac;\n  color: rgba(56, 178, 172, var(--text-opacity));\n  cursor: pointer;\n}\n\n.link-hash {\n  font-size: 0.75rem;\n  text-decoration: underline;\n  --text-opacity: 1;\n  color: #38b2ac;\n  color: rgba(56, 178, 172, var(--text-opacity));\n  cursor: pointer;\n}\n\n/* BUTTONS */\n\n.btn-scan {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.btn-send {\n  margin-left: 0.75rem;\n  margin-bottom: 0.25rem;\n  padding: 0.5rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  font-size: 1rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #48bb78;\n  background-color: rgba(72, 187, 120, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n.btn-orange {\n  margin: 0.25rem;\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #ed8936;\n  background-color: rgba(237, 137, 54, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n.btn-green {\n  margin: 0.25rem;\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #48bb78;\n  background-color: rgba(72, 187, 120, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n.btn-gray {\n  margin-top: 0.5rem;\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  font-size: 0.875rem;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #2d3748;\n  background-color: rgba(45, 55, 72, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n.btn-opt {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #38b2ac;\n  background-color: rgba(56, 178, 172, var(--bg-opacity));\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  font-size: 0.875rem;\n  font-weight: 600;\n  border-radius: 9999px;\n}\n\n.wallet {\n  display: flex;\n  flex-direction: column;\n  border-radius: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #1a202c;\n  background-color: rgba(26, 32, 44, var(--bg-opacity));\n}\n\n.token {\n  margin: 0.25rem;\n  padding: 0.25rem;\n  width: 100%;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-width: 1px;\n  border-radius: 0.5rem;\n}\n\n.wallet-block {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n.wallet-block button{\n  margin-top: 0.5rem;\n}\n\n#wallet-address {\n  width: 100%;\n  border-width: 1px;\n  --border-opacity: 1;\n  border-color: #cbd5e0;\n  border-color: rgba(203, 213, 224, var(--border-opacity));\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  font-size: 0.875rem;\n  border-radius: 0.5rem;\n}\n\n.input-password {\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-width: 1px;\n  --border-opacity: 1;\n  border-color: #cbd5e0;\n  border-color: rgba(203, 213, 224, var(--border-opacity));\n  border-radius: 0.5rem;\n}\n\n.input-field {\n  margin-top: 0.25rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-width: 1px;\n  --border-opacity: 1;\n  border-color: #cbd5e0;\n  border-color: rgba(203, 213, 224, var(--border-opacity));\n  border-radius: 0.5rem;\n}\n\n.wallet-secret {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #fbd38d;\n  background-color: rgba(251, 211, 141, var(--bg-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  text-align: center;\n}\n\n.view-private-key {\n  padding: 0.25rem;\n  width: 16rem;\n  letter-spacing: -0.025em;\n  font-size: 0.875rem;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  border-radius: 0.5rem;\n}\n\n#select-network {\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  font-size: 0.875rem;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --text-opacity: 1;\n  color: #38b2ac;\n  color: rgba(56, 178, 172, var(--text-opacity));\n  border-radius: 0.25rem;\n}</style>",
    "<script>\r\n\r\n    let pics = [\r\n        'Snapshot_0.png',\r\n        'Snapshot_1.png',\r\n        'Snapshot_2.png',\r\n        'Snapshot_3.png',\r\n        'Snapshot_4.png',\r\n\r\n    ];\r\n\r\n    let pic = 0;\r\n\r\n    function before() {\r\n\r\n        if (pic > 0) {\r\n            pic--;\r\n        }\r\n    }\r\n\r\n    function next() {\r\n        if (pic < pics.length - 1) {\r\n            pic++;\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n<div class=\"z-0 md:mt-16\">\r\n    <div class=\"md:h-4 bg-gray-700\">\r\n    </div>\r\n    <div class=\"w-full min-h-screen bg-gray-700\">\r\n        <img src={`./img/help/${pics[pic]}`} alt=\"tutorial\" class=\"w-full md:w-1/2 lg:w-1/4 mx-auto object-cover\">\r\n    </div>\r\n    \r\n</div>\r\n\r\n<div class=\"fixed bottom-0 h-20 w-full bg-gray-900\">\r\n\r\n    <div class=\"p-3 flex flex-row justify-around items-start\">\r\n\r\n        <div>\r\n            <button on:click={before}>\r\n                <img src=\"./icons/navigate_before.svg\" alt=\"back\" class=\"w-10 h-10\">\r\n            </button>\r\n        </div>\r\n\r\n        <div>\r\n            <button on:click={next}>\r\n                <img src=\"./icons/navigate_next.svg\" alt=\"back\" class=\"w-10 h-10\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<style>button {\n  padding: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-width: 1px;\n  border-radius: 9999px;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}</style>",
    "<script>\r\n    // -------\r\n    // IMPORT\r\n    // \r\n        import {onMount} from 'svelte';\r\n        import {firebase, db} from './../firebase.js';\r\n        import L from 'leaflet';\r\n        import 'leaflet-rotatedmarker';\r\n        import Service from './Service.svelte';\r\n        import RentalCar from './../Components/RentalCar.svelte';\r\n        import TaxiOrders from './../Components/TaxiOrders.svelte';\r\n        import TaxiClient from './../Components/TaxiClient.svelte';\r\n        import TaxiCallDialog from './../Components/TaxiCallDialog.svelte';\r\n        import Chat from './../Components/Chat.svelte';\r\n        import Sos from './../Components/Sos.svelte';\r\n        import AddTopic from './../Components/AddTopic.svelte';\r\n        import ContextMenu from './../Components/ContextMenu.svelte';\r\n        import axios from 'axios';\r\n        import { fade, fly, scale } from 'svelte/transition';\r\n    // -------\r\n\r\n    // MAPBOX SDK\r\n    import mbxGeocoding from '@mapbox/mapbox-sdk/services/geocoding';\r\n    const MY_ACCESS_TOKEN = 'pk.eyJ1IjoiZGFwcGRldnYiLCJhIjoiY2trZmxsODRkMGJ0NzJwbXBqd3U2c3FveiJ9.i7rANy7utrrUnPChT6C83g';\r\n    const geocodingClient = mbxGeocoding({ accessToken: MY_ACCESS_TOKEN });\r\n    \r\n    // Map variables\r\n    let map, LatLng, mapBounds, clickedMarkerId, clickedMarkerPath, clickedAddress;\r\n    let currentZoom, lastLocation, mapStartMoving, mapMenuBtn;\r\n\r\n    // Map info\r\n    let region = 'none';\r\n    let city = 'none';\r\n    let district = 'none';\r\n    let userLocationMarker;\r\n\r\n    let userLocation = {\r\n        latlng: null,\r\n        region: 'none',\r\n        city: 'none',\r\n        district: 'none'\r\n    };\r\n    \r\n    // Layers\r\n    let overLayers;\r\n    let mainLayer, policeCarLayer, roadProblemLayer, taxiLayer, rentalCarLayer, serviceLayer;\r\n    let allLayers = [];\r\n\r\n    // Components\r\n    let alertBox;\r\n\r\n    // Component var\r\n    let alertBoxContent;\r\n\r\n    // Context menu\r\n    let contextMenu, contextMenuDialog, menuDiv, dialogDiv;\r\n    let contextMenuVisible = false;\r\n    let contextMenuDialogVisible = false;\r\n\r\n    // Search field\r\n    let searchDiv, searchField;\r\n\r\n    onMount(authUI)\r\n    onMount(mapInit)\r\n    onMount(iconsInit)\r\n\r\n    // -----\r\n    // AUTH\r\n    // \r\n\r\n        let registrationBox;\r\n\r\n        let userName;\r\n        let userEmail;\r\n        let userPassword;\r\n\r\n        let usernameExist = 'Имя пользователя не менее 6 символов';\r\n        let getUser;\r\n        let getUserAccount;\r\n        let loading = true;\r\n\r\n        function authUI() {\r\n            \r\n            firebase.auth().onAuthStateChanged(function(user) {\r\n\r\n                loading = false;\r\n\r\n                if (user) {\r\n                    getUser = user;\r\n                    getUserAcc();\r\n                    getMapInfo();\r\n                } else {\r\n                    getUser = undefined;\r\n                }\r\n            });\r\n        }\r\n\r\n        // Cloud Functions\r\n        let addNewUserFunction = firebase.functions().httpsCallable('addNewUser');\r\n\r\n        // Call cloud functions\r\n        function addNewUser() {\r\n\r\n            addNewUserFunction({referrer: 'newuser', username: userName})\r\n            .then(function(result) {\r\n                alertBoxCall('Идет регистрация дождитесь завершения')\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error.code, error.message, error.details)\r\n            });\r\n        }\r\n\r\n        function firebaseSignUp() {\r\n            if(!userEmail || !userPassword || !userName) alertBoxCall('Введите имя, адрес почты и пароль.').throw(console.log(\"error\"));\r\n\r\n            firebase.auth().createUserWithEmailAndPassword(userEmail, userPassword)\r\n            .then((userCredential) => {\r\n                // Signed in \r\n                var user = userCredential.user;\r\n                console.log(user)\r\n                alertBoxCall('Регистрация прошла успешно');\r\n                addNewUser();\r\n            })\r\n            .catch((error) => {\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                alertBoxCall(`Произошла ошибка: ${errorMessage}`);\r\n            });\r\n        }\r\n\r\n        function firebaseSignIn() {\r\n            if(!userEmail || !userPassword) alertBoxCall('Введите адрес почты и пароль.')\r\n\r\n            firebase.auth().signInWithEmailAndPassword(userEmail, userPassword)\r\n            .then((userCredential) => {\r\n                // Signed in\r\n                var user = userCredential.user;\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n\r\n                alertBoxCall(`Произошла ошибка: ${errorMessage}`);\r\n            });\r\n        }\r\n\r\n        function getUserAcc() {\r\n\r\n            const userRef = db.collection(\"users\").doc(getUser.uid);\r\n\r\n            userRef.get().then(function(doc) {\r\n\r\n                const data = doc.data();\r\n                getUserAccount = data;\r\n                // console.log('getUserAccount', getUserAccount)\r\n                \r\n            }).catch(function(error) {\r\n                console.log(\"Error getting document:\", error);\r\n            });\r\n        }\r\n\r\n    // ---------\r\n    // MAP init\r\n    // \r\n        function mapInit() {\r\n\r\n            // Map Layers\r\n            mainLayer = L.layerGroup([]);\r\n            policeCarLayer = L.layerGroup([]);\r\n            roadProblemLayer = L.layerGroup([]);\r\n            taxiLayer = L.layerGroup([]);\r\n            rentalCarLayer = L.layerGroup([]);\r\n            serviceLayer = L.layerGroup([]);\r\n\r\n            allLayers.push(mainLayer, policeCarLayer, roadProblemLayer, taxiLayer, rentalCarLayer, serviceLayer);\r\n\r\n            let overlayMaps = {\r\n                \"Обсуждения\": mainLayer,\r\n                \"Такси\": taxiLayer,\r\n                \"Сервисы\": serviceLayer,\r\n                \"Спецтехника\": rentalCarLayer,\r\n                \"Дорожные события\": roadProblemLayer,\r\n                \"Патрули ГИБДД, камеры\": policeCarLayer\r\n            };\r\n\r\n            // MAP\r\n            map = L.map('map', {\r\n                zoomControl: false,\r\n                layers: [mainLayer, policeCarLayer, taxiLayer, rentalCarLayer, serviceLayer]\r\n            }).setView([55, 52], 16);\r\n\r\n            L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n                // attribution: '<span style=\"font-size: smaller;\"> Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a>, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a></span>',\r\n                maxZoom: 19,\r\n                id: 'dappdevv/ckkjn3mm21zr117nuw4ltics0',\r\n                tileSize: 512,\r\n                zoomOffset: -1,\r\n                accessToken: MY_ACCESS_TOKEN\r\n            }).addTo(map);\r\n\r\n            // Map center & bounds\r\n            LatLng = map.getCenter();\r\n            mapBounds = map.getBounds();\r\n            \r\n            // Layers and Zoom controls\r\n            overLayers = L.control.layers(null, overlayMaps).setPosition('bottomleft').addTo(map);\r\n\r\n            //Events\r\n            map.on('locationerror', (e)=> {\r\n                alert('Включите геолокацию!', e.message)\r\n            })\r\n\r\n            map.on('locationfound', setUserLocationMarker);\r\n            map.on('locationfound', targetUserLocation);\r\n            map.on('contextmenu', onContextmenu);\r\n            map.on('zoomend', mapZoomed);\r\n            map.on('moveend', mapMoved);\r\n            map.on('movestart', mapOnStartMoving);\r\n\r\n            // Get user location\r\n            map.locate({watch: false, setView: true, enableHighAccuracy: true});\r\n        }\r\n\r\n    // ---------\r\n    // Routing\r\n    // \r\n\r\n        let routeIsVisible = false;\r\n\r\n        function addRouteControl() {\r\n\r\n           alert('в разработке')\r\n            \r\n        }\r\n    // ---------\r\n    // MAP info\r\n    // \r\n        function getMapInfo() {\r\n\r\n            // Icon collections\r\n            let policeRef = db.collection(`icons/police/${region}`);\r\n            let mCameraRef = db.collection(`icons/mCamera/${region}`);\r\n            let sCameraRef = db.collection(`icons/sCamera/${region}`);\r\n            let roadClosedRef = db.collection(`icons/roadClosed/${region}`);\r\n            let roadConstructionRef = db.collection(`icons/roadConstruction/${region}`);\r\n            let DTPRef = db.collection(`icons/DTP/${region}`);\r\n\r\n            let sosRef = db.collection(`icons/sos/${region}`);\r\n            let serviceRef = db.collection(`services`).where(\"region\", \"==\", region).where(\"district\", \"==\", district);\r\n            let taxiRef = db.collection(\"taxiDrivers\").where(\"online\", \"==\", true);\r\n            let topicsRef = db.collection(\"topics\").where(\"region\", \"==\", region);\r\n            let rentalCarsRef = db.collection(\"rentalCars\").where(\"region\", \"==\", region).where(\"district\", \"==\", district).where(\"online\", \"==\", true);\r\n\r\n            // collections options\r\n            // \r\n                let taxiOptions = {\r\n                    dbRef: taxiRef,\r\n                    layer: taxiLayer,\r\n                    icon: taxiCarIcon\r\n                }\r\n                let policeOptions = {\r\n                    dbRef: policeRef,\r\n                    layer: policeCarLayer,\r\n                    icon: policeCarIcon\r\n                }\r\n                let mCameraOptions = {\r\n                    dbRef: mCameraRef,\r\n                    layer: policeCarLayer,\r\n                    icon: mCameraIcon\r\n                }\r\n                let sCameraOptions = {\r\n                    dbRef: sCameraRef,\r\n                    layer: policeCarLayer,\r\n                    icon: sCameraIcon\r\n                }\r\n                let DTPOptions = {\r\n                    dbRef: DTPRef,\r\n                    layer: roadProblemLayer,\r\n                    icon: dtpIcon\r\n                }\r\n                let roadConstructionOptions = {\r\n                    dbRef: roadConstructionRef,\r\n                    layer: roadProblemLayer,\r\n                    icon: roadConstructionIcon\r\n                }\r\n                let roadClosedOptions = {\r\n                    dbRef: roadClosedRef,\r\n                    layer: roadProblemLayer,\r\n                    icon: roadClosedIcon\r\n                }\r\n            // \r\n\r\n            let iconCollection = [policeOptions, mCameraOptions, sCameraOptions, DTPOptions, roadConstructionOptions, roadClosedOptions];\r\n\r\n            // GET MAIN ICONS\r\n            iconCollection.forEach(i=> {\r\n\r\n                i.dbRef.get()\r\n                .then(function(querySnapshot) {\r\n                    querySnapshot.forEach(function(doc) {\r\n                        \r\n                        let mark = doc.data();\r\n                        let mDate = mark.added.toDate();\r\n                        let today = new Date();\r\n                        let timeLength = today.getTime() - mDate.getTime();\r\n        \r\n                        if(mark.actual >= 0.1 && timeLength <= 180000000) {\r\n                            let date = mDate.toLocaleString('ru',\r\n                                {\r\n                                    day: 'numeric',\r\n                                    month: 'long',\r\n                                    hour: '2-digit',\r\n                                    minute: '2-digit',\r\n                                });\r\n                            let marker = L.marker(mark.location, {\r\n                                icon: i.icon,\r\n                                opacity: mark.actual,\r\n                                alt: doc.id,\r\n                                title: doc.ref.parent.path\r\n                                }\r\n                            ).bindPopup(`<p> Добавлено ${date} </p>`);\r\n        \r\n                            marker.on('click', onMarkerClick);\r\n        \r\n                            i.layer.addLayer(marker);\r\n        \r\n                        }\r\n        \r\n                    });\r\n                })\r\n                .catch(function(error) {\r\n                    console.log(\"Error getting documents: \", error);\r\n                });\r\n            })\r\n\r\n            // get SOS icons\r\n            sosRef.get().then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n                    const data = doc.data();\r\n                    let marker = L.marker(data.location, {\r\n                                icon: sosIcon,\r\n                                alt: doc.id,\r\n                                title: doc.ref.parent.path\r\n                                }\r\n                    ).bindPopup(`<p> Сообщение: ${data.message} </p> <p> Телефон: <a href=\"tel:${data.phone}\"> ${data.phone} </a> </p>`);\r\n        \r\n                    mainLayer.addLayer(marker);\r\n                });\r\n            });\r\n\r\n            // get Taxi icons\r\n            taxiRef.get().then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n                    let data = doc.data();\r\n                    \r\n                    let marker = L.marker(data.location, {icon: taxiCarIcon})\r\n                    .bindPopup(`<img src=${data.driverAuto.frontside}> <p>${data.name} ${data.lastName}</p> <p>Рейтинг: ${data.rating}</p> <a href=\"#/taxidriverpage/${doc.id}\"> Предложить поездку </a>`);\r\n                        \r\n                    taxiOptions.layer.addLayer(marker);\r\n                });\r\n            });\r\n\r\n            // get RentalCar icons\r\n            rentalCarsRef.get().then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n                    let data = doc.data();\r\n                    let mIcon;\r\n\r\n                    if (data.type === 'Экскаватор') {\r\n                        mIcon = excavatorIcon;\r\n                    }\r\n                    else if (data.type === 'Бульдозер') {\r\n                        mIcon = bulldozerIcon;\r\n                    }\r\n                    else if (data.type === 'Трактор') {\r\n                        mIcon = tractorIcon;\r\n                    }\r\n                    else if (data.type === 'Грейдер') {\r\n                        mIcon = graderIcon;\r\n                    }\r\n                    else if (data.type === 'Самосвал') {\r\n                        mIcon = dumperIcon;\r\n                    }\r\n                    else if (data.type === 'Бетономешалка') {\r\n                        mIcon = concreteIcon;\r\n                    }\r\n                    else if (data.type === 'Бурильная') {\r\n                        mIcon = burIcon;\r\n                    }\r\n                    else if (data.type === 'Каток') {\r\n                        mIcon = paverIcon;\r\n                    }\r\n                    else if (data.type === 'Ассенизатор') {\r\n                        mIcon = garbageIcon;\r\n                    }\r\n                    else if (data.type === 'Автокран') {\r\n                        mIcon = craneTruckIcon;\r\n                    }\r\n                    else if (data.type === 'Манипулятор') {\r\n                        mIcon = manipulatorIcon;\r\n                    }\r\n                    else if (data.type === 'Автоподъемник') {\r\n                        mIcon = carLiftIcon;\r\n                    }\r\n                    else if (data.type === 'Погрузчик') {\r\n                        mIcon = loaderIcon;\r\n                    }\r\n                    else if (data.type === 'Эвакуатор') {\r\n                        mIcon = towTruckIcon;\r\n                    }\r\n                    else if (data.type === 'Другое') {\r\n                        mIcon = noTruckIcon;\r\n                    }\r\n\r\n                    let marker = L.marker(data.location, {icon: mIcon})\r\n                    .bindPopup(`<img src=${data.imgURL}> <p> ${data.type} ${data.model} </p> <p> Аренда: ${data.price} руб./час</p> <a href=\"tel:${data.phone}\"> Позвонить </a>`);\r\n                        \r\n                    rentalCarLayer.addLayer(marker);\r\n                });\r\n            });\r\n\r\n            // get Topic icons\r\n            topicsRef.get().then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n                    let data = doc.data();\r\n                    \r\n                    let marker = L.marker(data.location, {\r\n                        icon: topicIcon,\r\n                        alt: doc.id,\r\n                        title: doc.ref.parent.path})\r\n                    .bindPopup(`<p><b>${data.header}</b></p> <p><i>${data.text}</i></p> <p><a href=\"#/topic/${doc.id}\"> Перейти </a></p>`);\r\n                    mainLayer.addLayer(marker);\r\n                });\r\n            });\r\n\r\n            // get Service icons\r\n            serviceRef.get().then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n\r\n                    const data = doc.data();\r\n                    \r\n                    if(data.type === 'Шиномонтаж') {\r\n\r\n                        let marker = L.marker(data.location, {icon: tireFittingIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n\r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Автомойка') {\r\n\r\n                        let marker = L.marker(data.location, {icon: carWashingIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'СТО') {\r\n\r\n                        let marker = L.marker(data.location, {icon: carServiceIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Автозапчасти') {\r\n\r\n                        let marker = L.marker(data.location, {icon: carPartsIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Мелкосрочка') {\r\n\r\n                        let marker = L.marker(data.location, {icon: carMasterIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Автостекло/Тонировка') {\r\n\r\n                        let marker = L.marker(data.location, {icon: carGlassIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'ГСМ') {\r\n\r\n                        let marker = L.marker(data.location, {icon: carOilIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Автозаправка') {\r\n\r\n                        let marker = L.marker(data.location, {icon: gasStationIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Авторазбор') {\r\n\r\n                        let marker = L.marker(data.location, {icon: carParsingIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Кафе') {\r\n\r\n                        let marker = L.marker(data.location, {icon: cafeIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                    else if(data.type === 'Отель') {\r\n\r\n                        let marker = L.marker(data.location, {icon: hotelIcon})\r\n                        \r\n                        marker.on('click', function(e) {\r\n                            openServiceWindow(doc.id, data);\r\n                        });\r\n                            \r\n                        serviceLayer.addLayer(marker);\r\n                    }\r\n                });\r\n            });\r\n\r\n        }\r\n\r\n        // SERVICE WINDOW\r\n\r\n        let serviceWindow = false;\r\n        let serviceImgURL;\r\n        let servicePhone;\r\n        let serviceOffer;\r\n        let serviceName;\r\n        let serviceId;\r\n        let serviceParams = {};\r\n\r\n        function openServiceWindow(id, data) {\r\n\r\n            console.log(id, data)\r\n\r\n            serviceImgURL = data.imgURL;\r\n            servicePhone = data.phone;\r\n            serviceOffer = data.offer;\r\n            serviceName = data.name;\r\n            serviceId = id;\r\n\r\n            serviceParams.id = serviceId;\r\n            \r\n            serviceWindow = true;\r\n        }\r\n\r\n    // -----------\r\n    // ICONS init\r\n    // \r\n        // Icons\r\n        let mapIcon, sosIcon, placeholderIcon, directionIcon, locationIcon, taxiCarIcon;\r\n        let taxiMarkerIcon, policeCarIcon, mCameraIcon, sCameraIcon, dtpIcon, roadConstructionIcon, roadClosedIcon;\r\n        let tireFittingIcon, carWashingIcon, carServiceIcon, carPartsIcon, carMasterIcon;\r\n        let carGlassIcon, carOilIcon, gasStationIcon, carParsingIcon, cafeIcon, hotelIcon, topicIcon;\r\n        let excavatorIcon, bulldozerIcon, tractorIcon, graderIcon, dumperIcon, concreteIcon;\r\n        let burIcon, paverIcon, garbageIcon, craneTruckIcon, manipulatorIcon, carLiftIcon;\r\n        let loaderIcon, towTruckIcon, noTruckIcon;\r\n\r\n        // Init\r\n        function iconsInit() {\r\n\r\n            mapIcon = L.Icon.extend({\r\n                options: {\r\n                    iconSize:     [40, 40], // size of the icon\r\n                    iconAnchor:   [20, 20], // point of the icon which will correspond to marker's location\r\n                    popupAnchor:  [0, -20] // point from which the popup should open relative to the iconAnchor\r\n                }\r\n            })\r\n\r\n            placeholderIcon = new mapIcon({iconUrl: './icons/placeholder.png'})\r\n            directionIcon = new mapIcon({iconUrl: './icons/direction-arrow-2.png'})\r\n            locationIcon = new mapIcon({iconUrl: './icons/location.png'})\r\n            sosIcon = new mapIcon({iconUrl: './icons/sos-icon.png'})\r\n            taxiCarIcon = new mapIcon({iconUrl: './icons/taxi.png'})\r\n            taxiMarkerIcon = new mapIcon({iconUrl: './icons/taxi-marker.png'})\r\n\r\n            roadConstructionIcon = new mapIcon({iconUrl: './icons/road-construction.png'})\r\n            roadClosedIcon = new mapIcon({iconUrl: './icons/road-closed.png'})\r\n            dtpIcon = new mapIcon({iconUrl: './icons/car-crash.png'})\r\n            policeCarIcon = new mapIcon({iconUrl: './icons/police-car.png'})\r\n            sCameraIcon = new mapIcon({iconUrl: './icons/road-camera.png'})\r\n            mCameraIcon = new mapIcon({iconUrl: './icons/speed-camera.png'})\r\n\r\n            tireFittingIcon = new mapIcon({iconUrl: './icons/tires-3.png'})\r\n            carWashingIcon = new mapIcon({iconUrl: './icons/car-wash.png'})\r\n            carServiceIcon = new mapIcon({iconUrl: './icons/car-service-2.png'})\r\n            carPartsIcon = new mapIcon({iconUrl: './icons/gear.png'})\r\n            carMasterIcon = new mapIcon({iconUrl: './icons/technical-support.png'})\r\n            carGlassIcon = new mapIcon({iconUrl: './icons/windshield.png'})\r\n            carOilIcon = new mapIcon({iconUrl: './icons/oil.png'})\r\n            gasStationIcon = new mapIcon({iconUrl: './icons/gas-station.png'})\r\n            carParsingIcon = new mapIcon({iconUrl: './icons/car-lifter.png'})\r\n            cafeIcon = new mapIcon({iconUrl: './icons/cafe-placeholder.png'})\r\n            hotelIcon = new mapIcon({iconUrl: './icons/hotel-placeholder.png'})\r\n\r\n            topicIcon = new mapIcon({iconUrl: './icons/chat-4.png'})\r\n\r\n            excavatorIcon = new mapIcon({iconUrl: './icons/excavator.png'})\r\n            bulldozerIcon = new mapIcon({iconUrl: './icons/bulldozer.png'})\r\n            tractorIcon = new mapIcon({iconUrl: './icons/tractor.png'})\r\n            graderIcon = new mapIcon({iconUrl: './icons/grader.png'})\r\n            dumperIcon = new mapIcon({iconUrl: './icons/dumper.png'})\r\n            concreteIcon = new mapIcon({iconUrl: './icons/concrete.png'})\r\n            burIcon = new mapIcon({iconUrl: './icons/bur.png'})\r\n            paverIcon = new mapIcon({iconUrl: './icons/paver.png'})\r\n            garbageIcon = new mapIcon({iconUrl: './icons/garbage.png'})\r\n            craneTruckIcon = new mapIcon({iconUrl: './icons/crane-truck.png'})\r\n            manipulatorIcon = new mapIcon({iconUrl: './icons/manipulator.png'})\r\n            carLiftIcon = new mapIcon({iconUrl: './icons/car-lift.png'})\r\n            loaderIcon = new mapIcon({iconUrl: './icons/loader.png'})\r\n            towTruckIcon = new mapIcon({iconUrl: './icons/tow-truck.png'})\r\n        \r\n            noTruckIcon = new mapIcon({iconUrl: './icons/excavator-2.png'})\r\n        }\r\n\r\n    // -----------\r\n    // MAP EVENT ZOOM\r\n    // \r\n        function mapZoomed(e) {\r\n            currentZoom = e.target._zoom;\r\n            console.log('zoom', map.getZoom());\r\n            LatLng = map.getCenter();\r\n            // console.log('latlng', LatLng);\r\n            mapBounds = map.getBounds();\r\n            // console.log('mapBounds', mapBounds);\r\n\r\n            if (currentZoom <= 11) {\r\n                allLayers.forEach(layer => {\r\n                    layer.remove();\r\n                });\r\n            }\r\n\r\n            else if (currentZoom >= 17) {\r\n\r\n                allLayers.forEach(layer => {\r\n                    layer.remove();\r\n                });\r\n\r\n                allLayers.forEach(layers => {\r\n                    \r\n                    layers.eachLayer(function (layer) {\r\n                        layer.options.icon.options.iconSize = [50, 50]\r\n                    });\r\n\r\n                    layers.addTo(map);\r\n                });\r\n\r\n\r\n\r\n            } else if (currentZoom < 15) {\r\n\r\n                allLayers.forEach(layer => {\r\n                    layer.remove();\r\n                });\r\n\r\n                allLayers.forEach(layers => {\r\n                    \r\n                    layers.eachLayer(function (layer) {\r\n                        layer.options.icon.options.iconSize = [30, 30]\r\n                    });\r\n\r\n                    layers.addTo(map);\r\n                });\r\n\r\n            } else if (currentZoom < 18) {\r\n\r\n                allLayers.forEach(layer => {\r\n                    layer.remove();\r\n                });\r\n\r\n                allLayers.forEach(layers => {\r\n                    \r\n                    layers.eachLayer(function (layer) {\r\n                        layer.options.icon.options.iconSize = [40, 40]\r\n                    });\r\n\r\n                    layers.addTo(map);\r\n                });\r\n            }\r\n        }\r\n    // --------------------\r\n    // MAP START MOVING\r\n    // \r\n        function mapOnStartMoving(e) {\r\n\r\n            mapStartMoving = true;\r\n\r\n        }\r\n    \r\n    // --------------------\r\n    // MAP END MOVING\r\n    // \r\n        function mapMoved(e) {\r\n\r\n            mapStartMoving = false;\r\n            \r\n            let lastRegion = region;\r\n            let lastDistrict = district;\r\n\r\n            if (getUserAccount && getUserAccount.premium) {\r\n                \r\n                LatLng = map.getCenter();\r\n                getRegion();        \r\n            }\r\n\r\n            function getRegion() {\r\n                geocodingClient.reverseGeocode({\r\n                query: [LatLng.lng, LatLng.lat]\r\n                })\r\n                .send()\r\n                .then(response => {\r\n                    const result = response.body;\r\n                    const resarr = result.features;\r\n\r\n                    resarr.forEach(el => {\r\n                        if (el.place_type[0] === 'region') {\r\n                            region = el.text;\r\n                        }\r\n                        else if (el.place_type[0] === 'district') {\r\n                            district = el.text;\r\n                        }\r\n                        else if (el.place_type[0] === 'place') {\r\n                            city = el.text;\r\n                        }\r\n                    });\r\n\r\n                    let hasDistrict = resarr.some(el => {\r\n                        return el.place_type[0] === 'district';\r\n                    });\r\n\r\n                    if (!hasDistrict) {\r\n                        district = city;\r\n                    }\r\n                    \r\n                    if (region != lastRegion || district != lastDistrict) {\r\n\r\n                        allLayers.forEach(layer => {\r\n                            layer.remove();\r\n                        });\r\n\r\n                        getMapInfo()\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n    // ------------------\r\n    // FULLSCREEN TOGGLE\r\n    // \r\n        function toggleFullscreen(id) {\r\n\r\n            let elem = document.getElementById(id);\r\n\r\n            if (!document.fullscreenElement) {\r\n                elem.requestFullscreen().catch(err => {\r\n                alertBoxCall(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);\r\n                });\r\n            } else {\r\n                document.exitFullscreen();\r\n            }\r\n        }\r\n\r\n    // ----------\r\n    // ALERT BOX\r\n    // \r\n        function alertBoxCall(mes) {\r\n\r\n            if (!alertBox) {\r\n\r\n                alertBoxContent = mes;\r\n                alertBox = true;\r\n            }\r\n            setTimeout(()=>{\r\n                alertBox = false;\r\n            }, 5000)\r\n        }\r\n\r\n    // -------------------------\r\n    // Set user location marker\r\n    // \r\n        function setUserLocationMarker(e) {\r\n            if (userLocationMarker == null || undefined) {\r\n                userLocationMarker = L.marker(e.latlng, {icon: placeholderIcon, rotationAngle: 0})\r\n                .addTo(map)\r\n                .bindPopup(\"Ты здесь!\");\r\n\r\n                userLocation.latlng = e.latlng;\r\n                \r\n                getCurrentRegion()\r\n            }\r\n        }\r\n    \r\n    // --------------\r\n    // Rotate marker\r\n    // \r\n        function rotateDirectionMarker(e) {\r\n\r\n            let oldLatLng = e.oldLatLng;\r\n            let newLatLng = e.latlng;\r\n            let angle = bearingBetweenLocations(oldLatLng, newLatLng);\r\n\r\n            function bearingBetweenLocations(oldLatLng, newLatLng) {\r\n\r\n                let PI = 3.14159;\r\n                let lat1 = oldLatLng.lat * PI / 180;\r\n                let long1 = oldLatLng.lng * PI / 180;\r\n                let lat2 = newLatLng.lat * PI / 180;\r\n                let long2 = newLatLng.lng * PI / 180;\r\n\r\n                let dLon = (long2 - long1);\r\n\r\n                let y = Math.sin(dLon) * Math.cos(lat2);\r\n                let x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\r\n                        * Math.cos(lat2) * Math.cos(dLon);\r\n\r\n                let brng = Math.atan2(y, x);\r\n\r\n                brng = brng * (180 / PI);\r\n                brng = (brng + 360) % 360;\r\n\r\n                return brng;\r\n            }\r\n\r\n            userLocationMarker.setRotationAngle(angle);\r\n        }\r\n\r\n    // ---------------------\r\n    // Target user location\r\n    // \r\n        function targetUserLocation(e) {\r\n            userLocationMarker.setLatLng(e.latlng);\r\n            userLocation = {\r\n                latlng: e.latlng,\r\n                region: region,\r\n                district: district,\r\n                city: city\r\n            }\r\n        }\r\n\r\n    // --------------------\r\n    // Watch user location\r\n    // \r\n        let watchUserLoc = false;\r\n\r\n        function watchUserLocation() {\r\n            if (!watchUserLoc) {\r\n                watchUserLoc = true;\r\n                userLocationMarker.setIcon(directionIcon);\r\n                userLocationMarker.on('move', rotateDirectionMarker);\r\n\r\n                map.locate({watch: true, setView: true, enableHighAccuracy: true, maxZoom: 17});\r\n                \r\n                alertBoxCall('Следовать за маркером включено.')\r\n                \r\n            } else {\r\n                watchUserLoc = false;\r\n                userLocationMarker.setIcon(placeholderIcon);\r\n                map.stopLocate();\r\n                userLocationMarker.setRotationAngle(0);\r\n                alertBoxCall('Следовать за маркером выключено.')\r\n            }\r\n        }\r\n\r\n    // ------------------\r\n    // MAP EVENT \"contextmenu\"\r\n    // \r\n        function onContextmenu(e) {\r\n            LatLng = e.latlng;\r\n        }\r\n\r\n    // ----------\r\n    // ADD ICONS\r\n    // \r\n        // Add SOS icon\r\n        function addSosIcon(e) {\r\n            console.log(e.detail.message, e.detail.type, e.detail.phone)\r\n\r\n            if (userLocation.city === city && userLocation.district === district && userLocation.region === region) {\r\n                \r\n                db.collection(`icons/sos/${region}`).add({\r\n                    city: city,\r\n                    district: district,\r\n                    added: firebase.firestore.FieldValue.serverTimestamp(),\r\n                    location: [LatLng.lat, LatLng.lng],\r\n                    author: getUser.uid,\r\n                    message: e.detail.message,\r\n                    phone: e.detail.phone\r\n                })\r\n                .then(function(docRef) {\r\n                    getMapInfo()\r\n                    alertBoxCall('Добавлено.');\r\n                })\r\n                .catch(function(error) {\r\n                    console.error(\"Error adding document: \", error);\r\n                });\r\n            }\r\n        }\r\n\r\n        // Add Icon to map\r\n        function addMapIcon(collection) {\r\n\r\n            let iCount = 0;\r\n\r\n            db.collection(`icons/${collection}/${region}`).where(\"author\", \"==\", getUser.uid)\r\n            .get()\r\n            .then(function(querySnapshot) {\r\n                iCount = querySnapshot.size;\r\n                if (iCount >= 5) {\r\n                    alertBoxCall('Вы добавили максимальное кол-во иконок данного типа.');\r\n                } else {\r\n                    \r\n                    checkRating();\r\n                }\r\n            })\r\n\r\n            function checkRating() {\r\n                \r\n                if (getUserAccount.mapRating > 5 ) {\r\n                    add();\r\n                } else {\r\n                    alertBoxCall('Ваш рейтинг слишком мал.');\r\n                }\r\n            }\r\n            \r\n            function add() {\r\n\r\n                if (userLocation.city === city && userLocation.district === district && userLocation.region === region) {\r\n                    \r\n                    db.collection(`icons/${collection}/${region}`).add({\r\n                        city: city,\r\n                        district: district,\r\n                        added: firebase.firestore.FieldValue.serverTimestamp(),\r\n                        location: [LatLng.lat, LatLng.lng],\r\n                        author: getUser.uid,\r\n                        actual: 0.7,\r\n                        voters: [],\r\n                        votes: []\r\n                    })\r\n                    .then(function(docRef) {\r\n                        getMapInfo()\r\n                        alertBoxCall('Добавлено.');\r\n                    })\r\n                    .catch(function(error) {\r\n                        console.error(\"Error adding document: \", error);\r\n                    });\r\n    \r\n                }\r\n                else {\r\n                    alertBoxCall('Вы находитесь слишком далеко! Обновите местоположение.');\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n    // ----------------------\r\n    // MAP EVENT MarkerClick\r\n    // \r\n\r\n        function onMarkerClick(e) {\r\n            clickedMarkerId = e.target.options.alt;\r\n            clickedMarkerPath = e.target.options.title;\r\n            contextMenuDialog = true;\r\n        }\r\n\r\n        function markerTrue() {\r\n\r\n            let markerRef = db.collection(`${clickedMarkerPath}`).doc(`${clickedMarkerId}`);\r\n\r\n            markerRef.get()\r\n            .then(function(doc) {\r\n\r\n                const data = doc.data();\r\n                let voted = data.voters.some(el=>{\r\n                    return el === getUser.uid\r\n                });\r\n                const votes = data.votes;\r\n\r\n                if (!voted) {\r\n                    if (votes.length > 0) {\r\n                        let last = votes[votes.length - 1]\r\n                        if (last > 0) {\r\n                            update(1.2 + Math.random() / 10)\r\n                        } else {\r\n                            update(1 + Math.random() / 10)\r\n                        }\r\n                    } else {\r\n\r\n                        update(1);\r\n                    }\r\n                } \r\n                else {\r\n                    alertBoxCall(\"Вы уже проголосовали!\")\r\n                }\r\n                \r\n            }).catch(function(error) {\r\n                alertBoxCall(`Ошибка: ${error.message}`);\r\n            });\r\n\r\n            function update(vote) {\r\n                markerRef.update({\r\n                    actual: firebase.firestore.FieldValue.increment(0.11),\r\n                    voters: firebase.firestore.FieldValue.arrayUnion(getUser.uid),\r\n                    votes: firebase.firestore.FieldValue.arrayUnion(vote)\r\n                })\r\n                .then(function() {\r\n                    alertBoxCall('Голос принят!');\r\n                    checkMarkerRating(markerRef);\r\n                })\r\n                .catch(function(error) {\r\n                    alertBoxCall(`Ошибка: ${error.message}`);\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        function markerFalse() {\r\n\r\n            let markerRef = db.collection(`${clickedMarkerPath}`).doc(`${clickedMarkerId}`);\r\n\r\n            markerRef.get()\r\n            .then(function(doc) {\r\n                \r\n                let data = doc.data();\r\n                let voted = data.voters.some(el=>{\r\n                    return el === getUser.uid\r\n                });\r\n                const votes = data.votes;\r\n\r\n                if (!voted) {\r\n                    if (votes.length > 0) {\r\n                        let last = votes[votes.length - 1]\r\n                        if (last < 0) {\r\n                            update(-1.2 - Math.random() / 10)\r\n                        } else {\r\n                            update(-1 - Math.random() / 10)\r\n                        }\r\n                    } else {\r\n\r\n                        update(-1);\r\n                    }\r\n                } else {\r\n                    alertBoxCall(\"Вы уже проголосовали!\")\r\n                }\r\n                \r\n            }).catch(function(error) {\r\n                alertBoxCall(`Ошибка: ${error.message}`);\r\n            });\r\n\r\n            function update(vote) {\r\n                markerRef.update({\r\n                    actual: firebase.firestore.FieldValue.increment(-0.11),\r\n                    voters: firebase.firestore.FieldValue.arrayUnion(getUser.uid),\r\n                    votes: firebase.firestore.FieldValue.arrayUnion(vote)\r\n                })\r\n                .then(function() {\r\n                    alertBoxCall('Голос принят!');\r\n                    checkMarkerRating(markerRef);\r\n                })\r\n                .catch(function(error) {\r\n                    alertBoxCall(`Ошибка: ${error.message}`);\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        function checkMarkerRating(markerRef) {\r\n\r\n            markerRef.get().then(function(doc) {\r\n                const data = doc.data();\r\n                const votes = data.votes;\r\n\r\n                if(votes.length === 5) {\r\n\r\n                    const sum = votes.reduce((a,b)=> a + b, 0);\r\n                    const average = sum / votes.length;\r\n                    console.log( 'ave', average, 'sum', sum)\r\n\r\n                    if (average < 0) {\r\n                        ratingDecrement(data.author)\r\n                        console.log('dec')\r\n                    }\r\n                    else if (average > 1) {\r\n                        ratingIncrement(data.author)\r\n                        console.log('inc')\r\n                    }\r\n                }\r\n\r\n            }).catch(function(error) {\r\n                console.log(\"Error getting document:\", error);\r\n            });\r\n        }\r\n\r\n        function ratingDecrement(author) {\r\n            let ratingDecrementFunc = firebase.functions().httpsCallable('ratingDecrement');\r\n\r\n            ratingDecrementFunc({author})\r\n            .then(function(result) {\r\n                console.log('result', result.data)\r\n            }).catch(function(error) {\r\n                console.log(error.code, error.message, error.details)\r\n            });\r\n        }\r\n\r\n        function ratingIncrement(author) {\r\n            let ratingIncrementFunc = firebase.functions().httpsCallable('ratingIncrement');\r\n\r\n            ratingIncrementFunc({author})\r\n            .then(function(result) {\r\n                console.log('result', result.data)\r\n            }).catch(function(error) {\r\n                console.log(error.code, error.message, error.details)\r\n            });\r\n        }\r\n\r\n    // -------------\r\n    // Search field\r\n    // \r\n        let searchVal;\r\n        let sapi = axios.create({baseURL: 'https://nominatim.openstreetmap.org/search/'})\r\n    \r\n    // -------------\r\n    // Search place\r\n    // \r\n        async function searchClicked() {\r\n\r\n            try {\r\n                const mb = {\r\n                    swLng: mapBounds._southWest.lng - 0.02,\r\n                    neLat: mapBounds._northEast.lat + 0.02,\r\n                    neLng: mapBounds._northEast.lng + 0.02,\r\n                    swLat: mapBounds._southWest.lat - 0.02\r\n                };\r\n                \r\n                const response = await sapi.get(searchVal, {\r\n                    params: {\r\n                        format: 'json',\r\n                        limit: 3,\r\n                        addressdetails: 1,\r\n                        countrycodes: ['ru'],\r\n                        viewbox: `${mb.swLng}, ${mb.neLat}, ${mb.neLng}, ${mb.swLat}`,\r\n                        bounded: 1\r\n                    }\r\n                });\r\n\r\n                const data = response.data;\r\n\r\n                if (data.length >= 1) {\r\n\r\n                    const coors = [data[0].lat, data[0].lon];\r\n        \r\n                    data.forEach(el => {\r\n                        L.marker([el.lat, el.lon], {icon: locationIcon}).addTo(map).bindPopup(`${el.display_name}`);\r\n                    });\r\n                    \r\n                    map.flyTo(coors, 16)\r\n\r\n                } else {\r\n                    alertBoxCall('Ничего не найдено. Попробуйте отдалить карту или изменить запрос.');\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n\r\n        }\r\n\r\n    // --------------------\r\n    // GET address & POPUP\r\n    // \r\n        async function getPlaceAddress() {\r\n            const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${LatLng.lat}&lon=${LatLng.lng}`);\r\n            const data = await response.json();\r\n            const address = data.display_name;\r\n            \r\n            L.popup()\r\n            .setLatLng(LatLng)\r\n            .setContent(address)\r\n            .openOn(map);\r\n        }\r\n\r\n    // ---------------------------------------------------------\r\n    // Get address from clicked place on map with current LatLng\r\n    // \r\n        async function getClickAddress() {\r\n            const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${LatLng.lat}&lon=${LatLng.lng}`);\r\n            const data = await response.json();\r\n            clickedAddress = data.display_name;\r\n        }\r\n\r\n    // -----------------------\r\n    // GET current region info\r\n    // \r\n        function getCurrentRegion() {\r\n            geocodingClient.reverseGeocode({\r\n            query: [LatLng.lng, LatLng.lat]\r\n            })\r\n            .send()\r\n            .then(response => {\r\n                const result = response.body;\r\n                const resarr = result.features;\r\n\r\n                resarr.forEach(el => {\r\n                    if (el.place_type[0] === 'region') {\r\n                        region = el.text;\r\n                    }\r\n                    else if (el.place_type[0] === 'district') {\r\n                        district = el.text;\r\n                    }\r\n                    else if (el.place_type[0] === 'place') {\r\n                        city = el.text;\r\n                    }\r\n                });\r\n\r\n                let hasDistrict = resarr.some(el => {\r\n                    return el.place_type[0] === 'district';\r\n                });\r\n\r\n                if (!hasDistrict) {\r\n                    district = city;\r\n                }\r\n                \r\n                userLocation.region = region;\r\n                userLocation.city = city;\r\n                userLocation.district = district;\r\n\r\n                if (getUser) {\r\n\r\n                    getMapInfo()\r\n                }\r\n            });\r\n        }\r\n\r\n    // ----------------\r\n    // call TAXI dialog\r\n    // \r\n        let callTaxiDialog = false;\r\n        async function callTaxi() {\r\n\r\n            if (getUserAccount.balance >= 100) {\r\n\r\n                const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${LatLng.lat}&lon=${LatLng.lng}`);\r\n                const data = await response.json();\r\n                clickedAddress = data.display_name;\r\n                callTaxiDialog = true;\r\n\r\n            } else {\r\n                alertBoxCall('На вашем счете недостаточно средств. Менее 100 руб.')\r\n            }\r\n        }\r\n\r\n    // ---------------\r\n    // TAXI ORDERS BOX\r\n    // \r\n        let taxiOrdersBox = false;\r\n        function taxiDriverCheck() {\r\n\r\n            if (!taxiOrdersBox) {\r\n\r\n                db.collection('taxiDrivers').doc(getUser.uid)\r\n                .get()\r\n                .then(function(doc) {\r\n                    if (doc.exists) {\r\n\r\n                        taxiOrdersBox = true;\r\n\r\n                        db.collection(`taxiOrders/region/${region}/city/${city}`).where(\"active\", \"==\", true)\r\n                        .get()\r\n                        .then(function(querySnapshot) {\r\n                            querySnapshot.forEach(function(doc) {\r\n                                let data = doc.data();\r\n                            \r\n                                L.marker(data.location, {icon: taxiMarkerIcon, alt: doc.id})\r\n                                .addTo(map)\r\n                                .bindPopup(`<p> Пункт назначения: ${data.routes}</p> <p> Примечание: ${data.desc}</p> <p> Цена: ${data.price}</p> <a href=\"tel:${data.phone}\"> Позвонить клиенту </a>`);\r\n                                \r\n                            });\r\n                        });\r\n                    } else {\r\n                        alertBoxCall('Список текущих заказов доступен только для зарегистрированных водителей.')\r\n                    }\r\n                }).catch(function(error) {\r\n                    console.log(\"Error getting document:\", error);\r\n                });\r\n            } else {\r\n                taxiOrdersBox = false;\r\n            }\r\n        }\r\n\r\n    // -----\r\n    // flyTo\r\n    // \r\n        function flyTo(e) {\r\n            map.flyTo(e.detail.location, 16)\r\n            console.log(e.detail)\r\n        }\r\n\r\n    // ----------------\r\n    // Client TAXI BOX\r\n    // \r\n        let clientTaxiBox = false;\r\n        \r\n        function TaxiClientBox() {\r\n\r\n            if (!clientTaxiBox) {\r\n\r\n                clientTaxiBox = true;\r\n\r\n            } else {\r\n                clientTaxiBox = false;\r\n            }\r\n        }\r\n\r\n    // --------\r\n    // CHAT BOX\r\n    // \r\n        let chatBox = false;\r\n\r\n        function openChat() {\r\n\r\n            if (!chatBox) {\r\n\r\n                chatBox = true;\r\n            \r\n            } else {\r\n                chatBox = false;\r\n            \r\n            }\r\n        }\r\n\r\n    // --------------\r\n    // TAXI FUNCTIONS\r\n    // \r\n        function checkDriverArrived(e) {\r\n            let distance = map.distance(e.detail.order.location, userLocation.latlng)\r\n            console.log('distance', distance)\r\n            if (distance <= 150) {\r\n                db.collection(e.detail.ref).doc(e.detail.order.id).update({\r\n                    driverArrived: true\r\n                })\r\n                .then(function() {\r\n                    alertBoxCall(\"Клиент оповещен! Ожидайте.\");\r\n                })\r\n                .catch(function(error) {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n\r\n            } else {\r\n                alertBoxCall('Вы слишком далеко! Если вы на месте обновите локацию.')\r\n            }\r\n        }\r\n\r\n        function checkClientOnWay(e) {\r\n            let distance = map.distance(e.detail.order.location, userLocation.latlng)\r\n            console.log('distance', distance)\r\n            if (distance >= 10) {\r\n                db.collection(e.detail.ref).doc(e.detail.order.id).update({\r\n                    onway: true\r\n                })\r\n                .then(function() {\r\n                    alertBoxCall(\"Поехали. Не забудьте пристегнуться!\");\r\n                })\r\n                .catch(function(error) {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n\r\n            } else {\r\n                console.log('waiting')\r\n            }\r\n        }\r\n\r\n    // -------------\r\n    // CONTEXT MENU\r\n    // \r\n        let contextmenu = false;\r\n\r\n        function onContextMenu(e) {\r\n\r\n            e.preventDefault();\r\n\r\n            let menu = document.getElementById('contextmenu');\r\n        \r\n            menu.style.left = e.clientX  + 'px';\r\n            menu.style.top = e.clientY + 'px';\r\n\r\n            contextmenu = true;\r\n        }\r\n\r\n    // ----\r\n    // SOS BOX\r\n    // \r\n        let sosBox = false;\r\n\r\n        function sos() {\r\n\r\n            if (!sosBox) {\r\n                sosBox = true;\r\n            }\r\n        }\r\n\r\n    // ------------\r\n    // ADD TOPIC BOX\r\n    // \r\n        let addTopicBox;\r\n\r\n        function addTopic() {\r\n            if (currentZoom < 18) {\r\n                alertBoxCall('Увеличьте зум до максимума и повторите попытку.');\r\n            } else {\r\n                addTopicBox = true;\r\n            }\r\n        }\r\n    \r\n    // -----------\r\n    // RENTAL CAR\r\n    // \r\n        let rentalCarBox;\r\n\r\n        function openRentalCar() {\r\n            if (!rentalCarBox) {\r\n                rentalCarBox = true;\r\n            } else {\r\n                rentalCarBox = false;\r\n            }\r\n        }\r\n\r\n    // ---------------------------------\r\n\r\n        function handleMessages(e) {\r\n            if (!e.data.from) return console.log('onmessage: ', e)\r\n            const result = confirm(`lng: ${e.data.lng}, lat: ${e.data.lat}`)\r\n            if (!result) throw new Error('Тестовая ошибка')\r\n        }\r\n\r\n        function handleErrors(e) {\r\n            const result = confirm(`старая ошибка: ${e}. ?`)\r\n            if (result) location.reload('true')\r\n            if (!result) window.close()\r\n        }\r\n</script>\r\n\r\n<svelte:window on:contextmenu={onContextMenu} on:message={(e) => handleMessages(e)} on:error={(e) => handleErrors(e)}/>\r\n\r\n<div id=\"main\" class=\"relative\">\r\n\r\n\r\n    <!-- AUTH UI -->\r\n\r\n        <!-- loading spinner -->\r\n        {#if loading}\r\n            <div id=\"loading\" class=\"absolute top-0 mt-20 z-40\">\r\n                <img src=\"./icons/spinner-animated.svg\" alt=\"loading...\">\r\n            </div>\r\n        {/if}\r\n\r\n        <!-- auth div -->\r\n        {#if !getUser && !loading}\r\n            <div id=\"firebaseui\" class=\"absolute top-0 mt-20 z-30 text-center bg-white rounded-lg border-gray-700 p-4 shadow-2xl\">\r\n\r\n                <!-- Inputs -->\r\n                <div class=\"flex flex-col\">\r\n                    {#if registrationBox}\r\n                    <div>\r\n                        <input type=\"text\" bind:value={userName} placeholder=\"отображаемое имя\">\r\n                    </div>\r\n                    {/if}\r\n                    <div>\r\n                        <input type=\"email\" bind:value={userEmail} placeholder=\"email@gmail.com\" class=\"mt-2\">\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"password\" bind:value={userPassword} placeholder=\"пароль\" class=\"mt-2\">\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Buttons -->\r\n                <div class=\"mt-4 flex justify-around items-center\">\r\n                    {#if !registrationBox}\r\n                    <div>\r\n                        <button on:click={firebaseSignIn} class=\"btn-orange mr-2\">Войти</button>\r\n                    </div>\r\n                    <div>\r\n                        <button on:click={()=> registrationBox = true} class=\"btn-gray ml-2\">Регистрация</button>\r\n                    </div>\r\n                    {:else}\r\n                    <div>\r\n                        <button on:click={firebaseSignUp} class=\"btn-orange mr-2\">Отправить</button>\r\n                    </div>\r\n                    <div>\r\n                        <button on:click={()=> registrationBox = false} class=\"btn-gray ml-2\">Отмена</button>\r\n                    </div>\r\n                    {/if}\r\n                </div>\r\n            </div>\r\n        {/if}\r\n\r\n    \r\n    <!-- MAP  -->\r\n    <div id=\"map\" style=\"min-height: 550px;\" class=\"z-0 w-full h-screen\">\r\n    </div>\r\n\r\n    <!-- MENU BUTTONS ON MAP  -->\r\n    {#if getUser != undefined && !mapStartMoving}\r\n\r\n        <div class=\"map-btn-div\" transition:fade=\"{{duration: 500}}\">\r\n            <button class=\"map-btn\" type=\"button\" on:click={()=> {mapMenuBtn = mapMenuBtn ? false : true }}>\r\n                <img src=\"./icons/menu-circle-2.png\" alt=\"menu\">\r\n            </button>\r\n        </div>\r\n            {#if mapMenuBtn}\r\n            <!-- Horizontal buttons -->\r\n            <div class=\"map-btn-div-horizontal\" transition:fade=\"{{duration: 500}}\">\r\n                <!-- Taxi btn -->\r\n                <div>\r\n                    <button class=\"map-btn\" type=\"button\" on:click={()=> {mapMenuBtn = false}} on:click={TaxiClientBox}>\r\n                        <img src=\"./icons/taxi-btn.png\" alt=\"menu\">\r\n                    </button>\r\n                </div>\r\n                <!-- Chat btn -->\r\n                <div>\r\n                    <button class=\"map-btn\" type=\"button\" on:click={()=> {mapMenuBtn = false}} on:click={openChat}>\r\n                        <img src=\"./icons/chat.svg\" alt=\"menu\">\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Vertical buttons -->\r\n            <div class=\"map-btn-div-vertical\" transition:fade=\"{{duration: 500}}\">\r\n                <!-- GPS btn -->\r\n                <div>\r\n                    <button class=\"map-btn\" type=\"button\" on:click={()=> {mapMenuBtn = false}} on:click={watchUserLocation}>\r\n                        <img src=\"./icons/gps.svg\" alt=\"menu\" class=\"m-1\">\r\n                    </button>\r\n                </div>\r\n                <!-- Routing btn -->\r\n                <div>\r\n                    <button class=\"map-btn\" type=\"button\" on:click={()=> {mapMenuBtn = false}}>\r\n                        <img src=\"./icons/route.svg\" alt=\"menu\" class=\"m-1\">\r\n                    </button>\r\n                </div>\r\n            </div>\r\n                \r\n            {/if}\r\n\r\n        <!-- OLD BUTTONS -->\r\n        <div class=\"absolute top-0 mt-16 ml-1\">\r\n            <div class=\"mt-2 flex flex-row justify-around\">\r\n\r\n                <!-- Search button -->\r\n                <div class=\"relative\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={()=> searchField = !searchField ? true : false}>\r\n                        <img src=\"./icons/search.png\" alt=\"targetLocation\">\r\n                    </button>\r\n                    {#if searchField}\r\n                        <div transition:fly=\"{{x: -300, duration: 1000 }}\" class=\"fixed ml-12 -mt-10 bg-white rounded shadow-lg flex flex-row\">\r\n                            <div>\r\n                                <input class=\"p-1 w-full rounded outline-none\" type=\"text\" placeholder=\"Адрес\" bind:value={searchVal}>\r\n                            </div>\r\n                            <div>\r\n                                <button class=\"p-1 w-full text-white bg-gray-800 rounded\" type=\"button\" on:click={searchClicked}> Найти </button>\r\n                            </div>\r\n                        </div>\r\n                    {/if}\r\n                </div>\r\n\r\n                <!-- Fullscreen button -->\r\n                <!-- <div class=\"\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={()=> toggleFullscreen('main')}>\r\n                        <img src=\"./icons/fullscreen.png\" alt=\"fullscreen\">\r\n                    </button>\r\n                </div> -->\r\n\r\n                <!-- Location target button -->\r\n                <!-- <div class=\"\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={watchUserLocation}>\r\n                        <img src=\"./icons/target.png\" alt=\"targetLocation\">\r\n                    </button>\r\n                </div> -->\r\n\r\n                <!-- Route button -->\r\n                <!-- <div class=\"\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={addRouteControl}>\r\n                        <img src=\"./icons/route.png\" alt=\"route\">\r\n                    </button>\r\n                </div> -->\r\n\r\n                <!-- Client taxi button -->\r\n                <!-- <div class=\"\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={TaxiClientBox}>\r\n                        <img src=\"./icons/taxi-find.png\" alt=\"taxiLocation\">\r\n                    </button>\r\n                </div> -->\r\n\r\n                <!-- TAXI orders button -->\r\n                <!-- <div class=\"\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={taxiDriverCheck}>\r\n                        <img src=\"./icons/taxi-signal.png\" alt=\"taxiOrders\">\r\n                    </button>\r\n                </div> -->\r\n\r\n                <!-- TRAKTOR button -->\r\n                <!-- <div class=\"\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={openRentalCar}>\r\n                        <img src=\"./icons/excavator.png\" alt=\"excavator\">\r\n                    </button>\r\n                </div> -->\r\n\r\n                <!-- Chat button -->\r\n                <!-- <div class=\"\">\r\n                    <button class=\"map-btn\" type=\"button\" on:click={openChat}>\r\n                        <img src=\"./icons/chat-phone.png\" alt=\"chat\">\r\n                    </button>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    {/if}\r\n\r\n    <!-- TAXI ORDERS -->\r\n    <div class=\" absolute top-0 mt-16\">\r\n        {#if taxiOrdersBox}\r\n            {#if userLocation != undefined && userLocation.region != undefined}\r\n                <TaxiOrders region={userLocation.region} city={userLocation.city} latlng={userLocation.latlng} \r\n                on:lookOrderPlace={flyTo} on:driverArrived={checkDriverArrived}/>\r\n            {/if}\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- CALL TAXI DIALOG -->\r\n    <div class=\" absolute top-0 mt-16\">\r\n        {#if callTaxiDialog}\r\n            \r\n            <TaxiCallDialog address={clickedAddress} {LatLng} clientUID={getUser.uid} clientName={getUser.displayName}\r\n            region={userLocation.region} city={userLocation.city} \r\n            on:closeDialog={() => callTaxiDialog = false} on:alert={(e) => alertBoxCall(e.detail.message)}/>\r\n            \r\n        {/if}\r\n    </div>\r\n\r\n    <!-- CLIENT TAXI BOX -->\r\n    <div id=\"clientTaxiBox\" class=\" absolute top-0 mt-16\">\r\n        {#if clientTaxiBox}\r\n            {#if userLocation != undefined && userLocation.region != undefined}\r\n                <TaxiClient region={userLocation.region} city={userLocation.city} on:findDriverLocation={flyTo}\r\n                on:checkOnWay={checkClientOnWay} on:alert={(e) => alertBoxCall(e.detail.message)}\r\n                on:close={()=> clientTaxiBox = false}/>\r\n            {/if}\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- CHAT BOX -->\r\n    <div id=\"Chat\" class=\" absolute top-0 mt-16\">\r\n        {#if chatBox}\r\n            {#if userLocation != undefined && userLocation.region != undefined}\r\n                <Chat region={userLocation.region} district={userLocation.district} city={userLocation.city} \r\n                on:fullscreen={()=> toggleFullscreen('Chat')}/>\r\n            {/if}\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- RENTAL CAR BOX -->\r\n    {#if rentalCarBox}\r\n        <div id=\"rentalCarBox\" class=\"absolute top-0 mt-16 w-full bg-white\">\r\n            <RentalCar region={userLocation.region} city={userLocation.city} latlng={userLocation.latlng} \r\n            on:close={()=> rentalCarBox = false} on:alert={(e)=> alertBoxCall(e.detail.message)}/>\r\n        </div>\r\n    {/if}\r\n\r\n    <!-- ADD Topic BOX -->\r\n    {#if addTopicBox}\r\n        <div id=\"addServiceBox\" class=\"absolute top-0 mt-16 w-full\">\r\n            <AddTopic user={getUser} region={userLocation.region} city={userLocation.city} latlng={LatLng} \r\n            on:close={()=> addTopicBox = false} on:alert={(e)=> alertBoxCall(e.detail.message)}/>\r\n        </div>\r\n    {/if}\r\n\r\n    <!-- SOS BOX -->\r\n    {#if sosBox}\r\n        <div id=\"sosBox\" class=\"absolute top-0 mt-16 w-full\">\r\n            <Sos region={userLocation.region} {getUser} on:danger={addSosIcon} on:close={()=> sosBox = false}/>\r\n        </div>\r\n    {/if}\r\n\r\n    <!-- ALERT BOX -->\r\n    {#if alertBox}\r\n        <div id=\"alertBox\" class=\" fixed top-0\">\r\n\r\n            <div transition:fade=\"{{ duration: 500 }}\" class=\"p-3 border bg-white rounded-lg shadow-lg\">\r\n\r\n                <p class=\"text-center\">\r\n                    {alertBoxContent}\r\n                </p>\r\n\r\n                <p class=\"mt-2 text-center\">\r\n                    <button class=\"btn-orange\" on:click={() => alertBox = false}>Ок</button>\r\n                </p>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    {/if}\r\n\r\n    <!-- CONTEXT MENU DIALOG -->\r\n    <div id=\"marker-dialog\">\r\n        {#if contextMenuDialog}\r\n            <div id=\"dialog\" class=\" flex flex-row items-center justify-around\" on:click={()=> contextMenuDialog = false}>\r\n\r\n                <div transition:fly={{x:-100, duration: 1000}}>\r\n                    <button class=\"m-2 p-3 w-16 h-16 border border-black rounded-full bg-green-500\" on:click={markerTrue}>\r\n                        <img class=\"object-cover\" src=\"./icons/like.png\" alt=\"like\">\r\n                    </button>\r\n                </div>\r\n\r\n                <div transition:scale={{duration: 1000}}>\r\n                    <button class=\"m-2 p-0 w-12 h-12 bg-transparent rounded-full\" on:click={()=> contextMenuDialog = false}>\r\n                        <img class=\"object-cover\" src=\"./icons/button-close-yellow.png\" alt=\"close\">\r\n                    </button>\r\n                </div>\r\n\r\n                <div transition:fly={{x:100, duration: 1000}}>\r\n                    <button class=\"m-2 p-3 w-16 h-16 border border-black rounded-full bg-red-500\" on:click={markerFalse}>\r\n                        <img class=\"object-cover\" src=\"./icons/dislike.png\" alt=\"dislike\">\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- CONTEXT MENU -->\r\n    <div id=\"contextmenu\" class=\"absolute\">\r\n        {#if contextmenu && getUser != undefined}\r\n            <ContextMenu on:closeMenu={()=> contextmenu = false}\r\n            on:getAddress={getPlaceAddress}\r\n            on:police={()=> addMapIcon('police')}\r\n            on:mCamera={()=> addMapIcon('mCamera')}\r\n            on:sCamera={()=> addMapIcon('sCamera')}\r\n            on:dtp={()=> addMapIcon('DTP')}\r\n            on:rClosed={()=> addMapIcon('roadClosed')}\r\n            on:rConstruction={()=> addMapIcon('roadConstruction')}\r\n            on:taxiCall={callTaxi} \r\n            on:sos={sos}\r\n            on:add={addTopic}\r\n            />\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- SERVICE WINDOW -->\r\n    {#if serviceWindow}\r\n        <div id=\"service-window\" class=\" absolute top-0 w-full lg:w-1/2 h-screen lg:h-auto bg-white\">\r\n            \r\n            <Service  params={serviceParams} on:close={()=> serviceWindow = false }/>\r\n            \r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n<style>#service-window {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n#loading {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n#firebaseui {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n#marker-dialog {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n\n#dialog {\n  position: relative;\n  transform: translate(-50%, -50%);\n  background-color: transparent;\n}\n\n#alertBox {\n  width: 240px;\n  height: 140px;\n  left: 50%;\n  top: 50%;\n  margin-left:-120px;\n  margin-top:-70px;\n}\n\n#sosBox {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n#addServiceBox {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n#rentalCarBox {\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n#clientTaxiBox {\n  width: 100%;\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n/* BUTTONS */\n\n.map-btn {\n  padding: 0.25rem;\n  width: 3rem;\n  height: 3rem;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-width: 1px;\n  --border-opacity: 1;\n  border-color: #cbd5e0;\n  border-color: rgba(203, 213, 224, var(--border-opacity));\n  border-radius: 9999px;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  z-index: 30;\n}\n\n.map-btn-div {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  margin-right: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.map-btn-div-horizontal {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  margin-right: 4rem;\n  margin-bottom: 1rem;\n  display: flex;\n  flex-direction: row;\n}\n\n.map-btn-div-horizontal > div {\n  margin-left: 0.25rem;\n  margin-right: 0.25rem;\n}\n\n.map-btn-div-vertical {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  margin-right: 0.5rem;\n  margin-bottom: 4rem;\n}\n\n.map-btn-div-vertical > div {\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n  margin-bottom: 0.25rem;\n}</style>",
    "<script>\r\n    import ethers from 'ethers';\r\n    import tokenExABI from './../tokenExABI.js';\r\n    import tokenABI from './../tokenABI.js';\r\n\r\n    let provider;\r\n    let signer;\r\n    let progressVal = 0;\r\n    let buyAmount;\r\n    let buyAmountBN;\r\n    let weiAmount;\r\n    let weiAmountBN;\r\n    let ethAmount = 0;\r\n    let ethAmountBN;\r\n    let tokenExBalance;\r\n    let newRate;\r\n    let curRate;\r\n    let tokenRate;\r\n    let tokenRateBN;\r\n    let USD = 0;\r\n    let ETH = 0;\r\n    let isMetamsk = false;\r\n    let userWalletAddress;\r\n    let userTokenBalance;\r\n    let ethwei = ethers.constants.WeiPerEther;\r\n\r\n    const tokenAddress = '0x943B8cC219a5Fb3BA70AdB173774987c63c3080b';\r\n    const exchangeAddress = '0xa3979422e803432b0670ceec8c53c25ed2576a4e';\r\n\r\n    if (window.web3) {\r\n        \r\n        provider = new ethers.providers.Web3Provider(web3.currentProvider);\r\n        signer = provider.getSigner();\r\n\r\n    } else {\r\n\r\n        provider = ethers.getDefaultProvider();\r\n    }\r\n\r\n\r\n\r\n    let exContract = new ethers.Contract(exchangeAddress, tokenExABI, provider);\r\n    let tokenContract = new ethers.Contract(tokenAddress, tokenABI, provider);\r\n\r\n\r\n    $: if (buyAmount > 0) {\r\n\r\n        buyAmountBN = ethers.utils.bigNumberify(buyAmount);\r\n\r\n        weiAmountBN = ethwei.mul(buyAmountBN).div(tokenRateBN).add(8);\r\n\r\n        weiAmount = weiAmountBN.toHexString();\r\n\r\n        ethAmount = ethers.utils.formatEther(weiAmountBN);\r\n        \r\n    }\r\n\r\n\r\n    async function getTokenRate() {\r\n        \r\n        let response = await exContract.getRate();\r\n        tokenRateBN = response;\r\n        tokenRate = response.toString();\r\n    }\r\n\r\n    getTokenRate()\r\n\r\n    async function getUserTokenBalance() {\r\n\r\n        let response = await tokenContract.balanceOf(userWalletAddress);\r\n        userTokenBalance = ethers.utils.formatEther(response);\r\n    }\r\n\r\n    async function getExContractBalance() {\r\n\r\n        let response = await tokenContract.balanceOf(exchangeAddress);\r\n        tokenExBalance = ethers.utils.formatEther(response);\r\n        progressVal = 5000000 - tokenExBalance;\r\n    }\r\n\r\n    getExContractBalance()\r\n\r\n    function checkMetamask() {\r\n\r\n        if (typeof window.ethereum !== 'undefined') {\r\n\r\n            if (ethereum.isMetaMask) {\r\n\r\n                isMetamsk = true;\r\n            }\r\n        } else {\r\n\r\n            isMetamsk = false;\r\n        }\r\n    }\r\n\r\n    checkMetamask();\r\n    \r\n    function connectMetamask() {\r\n        window.ethereum.enable()\r\n        userWalletAddress = ethereum.selectedAddress;\r\n        getUserTokenBalance();\r\n    }\r\n\r\n    function getCurrencyRate() {\r\n\r\n        fetch('https://www.cbr-xml-daily.ru/daily_json.js')\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            curRate = data;\r\n            USD = curRate.Valute.USD.Value;\r\n        });\r\n\r\n    }\r\n\r\n    getCurrencyRate()\r\n\r\n    function getEthPrice() {\r\n\r\n        let etherscanProvider = new ethers.providers.EtherscanProvider();\r\n\r\n        // Getting the current Ethereum price\r\n        etherscanProvider.getEtherPrice().then(function(price) {\r\n            ETH = price;\r\n        });\r\n    }\r\n\r\n    getEthPrice()\r\n\r\n    function addTokenToMetamask() {\r\n\r\n        ethereum.sendAsync(\r\n        {\r\n            method: 'wallet_watchAsset',\r\n            params: {\r\n            type: 'ERC20',\r\n            options: {\r\n                address: tokenAddress,\r\n                symbol: 'TAK',\r\n                decimals: 18,\r\n            },\r\n            },\r\n            id: Math.round(Math.random() * 100000),\r\n        },\r\n        (err, added) => {\r\n            if (added) {\r\n            console.log('Thanks for your interest!');\r\n            } else {\r\n            console.log('Your loss!');\r\n            }\r\n        }\r\n        );\r\n    }\r\n\r\n    function buyTokens() {\r\n\r\n        if (tokenExBalance > buyAmount) {\r\n\r\n            let amount = weiAmount;\r\n\r\n            console.log(amount)\r\n\r\n            const transactionParameters = {\r\n            // nonce: '0x00', // ignored by MetaMask\r\n            // gasPrice: '0x09184e72a000', // customizable by user during MetaMask confirmation.\r\n            // gas: '0x2710', // customizable by user during MetaMask confirmation.\r\n            to: exchangeAddress, // Required except during contract publications.\r\n            from: ethereum.selectedAddress, // must match user's active address.\r\n            value: amount, // Only required to send ether to the recipient from the initiating external account.\r\n            // data: '0x7f7465737432000000000000000000000000000000000000000000000000000000600057', // Optional, but used for defining smart contract creation and interaction.\r\n            // chainId: 3, // Used to prevent transaction reuse across blockchains. Auto-filled by MetaMask.\r\n            };\r\n\r\n            ethereum.sendAsync(\r\n            {\r\n                method: 'eth_sendTransaction',\r\n                params: [transactionParameters],\r\n                from: ethereum.selectedAddress,\r\n            },\r\n            (err, result) => {\r\n                if (err) console.error(err);\r\n                else console.log(result);\r\n            }\r\n            );\r\n        } else {\r\n            alert(`Доступное кол-во токенов для покупки: ${tokenExBalance}`)\r\n        }\r\n    }\r\n\r\n    async function setRate() {\r\n\r\n        let contractWithSigner = exContract.connect(signer);\r\n\r\n        let tx = await contractWithSigner.changeRate(newRate);\r\n\r\n        console.log(tx.hash);\r\n\r\n        await tx.wait();;\r\n\r\n        console.log('done');\r\n    }\r\n\r\n    async function withdraw() {\r\n\r\n        let contractWithSigner = exContract.connect(signer);\r\n\r\n        let tx = await contractWithSigner.withdraw();\r\n\r\n        console.log(tx.hash);\r\n\r\n        await tx.wait();;\r\n\r\n        console.log('done');\r\n    }\r\n\r\n\r\n</script>\r\n\r\n<div class=\"pt-16 min-h-screen bg-gradient-purple-pink-light\">\r\n\r\n    <!-- HEADER -->\r\n    <div class=\"p-1 lg:p-2 lg:mt-2 text-sm lg:text-lg font-medium flex flex-col lg:flex-row lg:justify-around\">\r\n        <div>\r\n            USD: \r\n            {Math.trunc(USD * 100) / 100} руб.\r\n\r\n            <!-- help -->\r\n            <span class=\"help\">\r\n                <img src=\"./icons/help.svg\" alt=\"help\" class=\"w-4 h-4\">\r\n                <span>\r\n                    Курс долара США от ЦБ РФ.\r\n                </span>\r\n            </span>\r\n        </div>\r\n        <div>\r\n            ETH: \r\n            {ETH} USD\r\n            <!-- help -->\r\n            <span class=\"help\">\r\n                <img src=\"./icons/help.svg\" alt=\"help\" class=\"w-4 h-4\">\r\n                <span>\r\n                    Курс эфириума от \r\n                    <a href=\"https://etherscan.io\" class=\" underline text-orange-500\"> \r\n                    Etherscan \r\n                    </a>\r\n                </span>\r\n            </span>\r\n        </div>\r\n        <div>\r\n            ETH/RUB: \r\n            {Math.trunc((ETH * USD) * 100) / 100} руб.\r\n        </div>\r\n        <div>\r\n            ETH/ТАК: {tokenRate} TAK\r\n            <!-- help -->\r\n            <span class=\"help\">\r\n                <img src=\"./icons/help.svg\" alt=\"help\" class=\"w-4 h-4\">\r\n                <span>\r\n                    Токен Avtokarta.club, цена указана со скидкой 50%\r\n                </span>\r\n            </span>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- PROGRESS -->\r\n    <div>\r\n        <div>\r\n            <progress value={progressVal} max=\"5000000\" class=\"mt-2 w-full h-8\">     \r\n            </progress>\r\n        </div>\r\n        {#if tokenExBalance != undefined}\r\n        <div class=\" text-xs italic text-center text-purple-900\">\r\n            <span>\r\n                Продано: {Math.trunc(5000000 - tokenExBalance)}\r\n            </span>\r\n            /\r\n            <span>\r\n                Доступно: {Math.trunc(tokenExBalance)}\r\n            </span>\r\n        </div>\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- BUY TOKEN -->\r\n    {#if isMetamsk}\r\n    <div class=\"mt-3 p-2\">\r\n\r\n        <!-- Info -->\r\n        {#if userWalletAddress != undefined}\r\n        <div class=\"mx-auto p-2 bg-gray-200 border rounded-lg shadow-md text-sm lg:text-lg lg:w-1/2\">\r\n            <div class=\" font-medium\">\r\n                Ваш кошелёк: \r\n            </div>\r\n            <div class=\"mx-1\">\r\n                <input type=\"text\" class=\" p-1 w-full border bg-gray-100 rounded-lg\" bind:value={userWalletAddress}>\r\n            </div>\r\n\r\n            <div class=\"mt-1\">\r\n                <span class=\" font-medium\">\r\n                    Токены ТАК: \r\n                </span>\r\n                <span class=\"ml-1 px-1 border bg-gray-100 rounded-lg\" >\r\n                    {Math.trunc(userTokenBalance)}\r\n                </span>\r\n            </div>\r\n        </div>\r\n        {/if}\r\n\r\n        <div class=\"mt-2 lg:mt-4 text-center\">\r\n            <button class=\"btn-red-pink\" on:click={connectMetamask}>Подключить MetaMask</button>\r\n            <button class=\"btn-purple-pink\" on:click={addTokenToMetamask}>Добавить токены в кошелёк</button>\r\n        </div>\r\n\r\n        <!-- Buy tokens -->\r\n        <div class=\"mt-4\">\r\n            <div class=\" text-lg lg:text-2xl font-semibold text-center text-white\">\r\n                \r\n                Купить токены\r\n                \r\n            </div>\r\n\r\n            <div class=\"mt-2 text-center\">\r\n                <input class=\" border bg-gray-200\"\r\n                type=\"number\" step=\"1000\" min=\"1000\" max={tokenExBalance} bind:value={buyAmount}>\r\n            </div>\r\n            \r\n            <div class=\" text-center\">\r\n                <span class=\" text-sm text-white\">\r\n                    = {ethAmount} Eth.\r\n                </span>\r\n            </div>\r\n\r\n            <div class=\"mt-2 text-center\">\r\n                <button class=\"btn-blue-green\" on:click={buyTokens}>Купить</button>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n    {:else}\r\n    <div class=\"mx-auto mt-6 p-2 lg:w-1/2\">\r\n\r\n        <p class=\"p-2 mx-auto border bg-white rounded-lg shadow-lg\">\r\n            Для покупки токенов установите расширение для браузера \r\n            <a class=\" underline text-orange-500 font-semibold\"\r\n            href=\"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn\">\r\n             MetaMask\r\n            </a>\r\n            или воспользуйтесь встроенным крипто-кошельком на сайте.\r\n        </p>\r\n\r\n    </div>\r\n    {/if}\r\n</div>\r\n\r\n<style>.help {\n  position: relative;\n  display: inline-block;\n}\n\n.help span {\n  display: none;\n  z-index: 10;\n  padding: 0.5rem;\n  width: 16rem;\n  height: auto;\n  font-size: 0.75rem;\n  --bg-opacity: 1;\n  background-color: #2d3748;\n  background-color: rgba(45, 55, 72, var(--bg-opacity));\n  --text-opacity: 1;\n  color: #f7fafc;\n  color: rgba(247, 250, 252, var(--text-opacity));\n  border-radius: 0.5rem;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n}\n\n.help:hover span {\n  position: absolute;\n  display: inline-flex;\n  margin-top: 0.5rem;\n  margin-left: -5rem;\n}</style>",
    "<script>\r\n    import { fade, fly, slide } from 'svelte/transition';\r\n    let angels = false;\r\n    let franchise = false;\r\n    let smm = false;\r\n    let blockchain = false;\r\n\r\n    let y;\r\n\r\n    function scroll(el) {\r\n\r\n        let element = document.querySelector(el);\r\n\r\n        element.scrollIntoView({block: \"start\", behavior: \"smooth\"});\r\n    }\r\n</script>\r\n\r\n<div class=\"mt-16\">\r\n\r\n    <!-- ANGELS -->\r\n    <div>\r\n        <div class=\"title\" on:click={()=> angels = true} on:click={()=> scroll('#angels')}>\r\n            <span class=\"headers\">\r\n                АНГЕЛЫ ПРОЕКТА\r\n            </span>\r\n            <img src=\"./img/angel.jpg\" alt=\"angel\">\r\n        </div>\r\n        {#if angels}\r\n        <div id=\"angels\">\r\n            <p>\r\n                Бизнес-ангелы - это независимые инвесторы, которые способны вложить в проект деньги на самых ранних стадиях.\r\n            </p>\r\n            <p>\r\n                Avtokarta.club предлагает ангелам приобрести собственные токены \r\n                <a href=\"https://etherscan.io/token/0x943b8cc219a5fb3ba70adb173774987c63c3080b\">TAK</a> \r\n                стандарта  <a href=\"https://eips.ethereum.org/EIPS/eip-777\">ERC777</a> (новый стандарт токенов на блокчейне Ethereum).\r\n            </p>\r\n            <p>\r\n                1 токен ТАК = 1 российский рубль.\r\n            </p>\r\n            <p>\r\n                ICO (Initial Coin Offering) – первичное предложение токенов, которые дают право участвовать в выбранном проекте.\r\n            </p>\r\n            <p>\r\n                Pre-Sale - ранняя стадия ICO, на которой токены предлагаются со значительной скидкой. \r\n                Всего будет продано 5 млн. токенов со скидкой 50%.\r\n            </p>\r\n            <p>\r\n                Возврат инвестиций. После открытии биржи токенов, ангелы первыми получают доступ к продажам токенов. \r\n                Спрос токенов обеспечат инвесторы в регионах, которые хотят стать партнерами и пробрести франшизу платформы, \r\n                так как франшиза приобретается за токены. Следующими доступ к продажам токенов получают франчайзи, которые \r\n                обеспечат быстрый и выгодный обмен токенов в регонах для клиентов платформы. После окончания ICO доступ к бирже \r\n                будет открыт для всех.\r\n            </p>\r\n            <p>\r\n                Приобрести токены можно будет с 20 июня 2020 года на странице <a href=\"#/ico\">ICO</a>.\r\n            </p>\r\n        </div>\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- FRANCHISE -->\r\n    <div>\r\n        <div class=\"title\" on:click={()=> franchise = true} on:click={()=> scroll('#franchise')}>\r\n            <span class=\"headers\">\r\n                ФРАНШИЗА\r\n            </span>\r\n            <img src=\"./img/map-pin.jpg\" alt=\"map\">\r\n        </div>\r\n        {#if franchise}\r\n        <div id=\"franchise\">\r\n            <p>\r\n                Для партнеров, которые хотят иметь долю в перспективной платформе, Avtokarta.club предлагает \r\n                взаимовыгодную, понятную и простую схему сотрудничества - франшиза.\r\n            </p>\r\n            <p>\r\n                Партнер приобретающий франшизу\r\n                (далее франчайзи), единожды оплачивает паушальный взнос и выбирает город, который будет закрепллён за франчайзи.\r\n            </p>\r\n            <p>\r\n                Далее вся прибыль полученная от комисси такси, комиссии аренды спецтехники, премиум аккаунтов пользователей, \r\n                платных услуг для сервисов, рекламных блоков на карте данного города, включая его административные границы,\r\n                делится 50/50, пока будет существовать платформа. Больше никаких платежей, взносов и прочего.\r\n            </p>\r\n        </div>\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- SMM -->\r\n    <div>\r\n        <div class=\"title\" on:click={()=> smm = true} on:click={()=> scroll('#smm')}>\r\n            <span class=\"headers\">\r\n                SOCIAL MEDIA\r\n            </span>\r\n            <img src=\"./img/social-media.jpg\" alt=\"sm\">\r\n        </div>\r\n        {#if smm}\r\n        <div id=\"smm\">\r\n            <p>\r\n                На SMM (social media marketing) в Avtokarta.club выделено 100 млн. токенов ТАК. За каждого нового пользователя,\r\n                зарегистрированного по вашему промокоду, Avtokarta.club переводит вам 100 токенов ТАК.\r\n            </p>\r\n        </div>\r\n        {/if}\r\n    </div>\r\n\r\n    <!-- BLOCKCHAIN -->\r\n    <div>\r\n        <div class=\"title\" on:click={()=> blockchain = true} on:click={()=> scroll('#blockchain')}>\r\n            <span class=\"headers\">\r\n                МАЙНИНГ\r\n            </span>\r\n            <img src=\"./img/blockchain-world.jpg\" alt=\"angel\">\r\n        </div>\r\n        {#if blockchain}\r\n        <div id=\"blockchain\">\r\n            <p>\r\n            К концу 2020 года Avtokarta.club полностью перейдёт на децентрализованную систему взаимодействия между \r\n            пользователями, разработчиками и инвесторами. Таким образом, единственный способ воспользоваться всеми\r\n            преимуществами платформы, станет токен ТАК.\r\n            </p>\r\n            <p>\r\n            Все, пользователи платформы и держатели токена ТАК заинтересованы в его стабильности и ликвидности.\r\n            Для этого перед открытием биржи, все токены, за вычетом выделенных на маркетинг,\r\n            разработку и поддержку платформы, переводятся на специальный смарт-контракт, который не имеет владельца, \r\n            тем самым исключается возможность обмана со стороны разработчиков платформы.\r\n            </p>\r\n            <p>\r\n            Смарт-контракт позволит пользователям \"майнить\" токены ТАК. Например, держатель токена переводит токены\r\n            на смарт-контракт, если на счету контракта достаточно токенов, чтобы вернуть владельцу депозит плюс проценты,\r\n            тогда токены замораживаются контрактом на инвестиционный период, после истечения срока токены размораживаются\r\n            и становятся доступны для их владельца. Вот так просто и прозрачно \"майнятся\" токены ТАК.\r\n            Общее колличество токенов ТАК 21 трлн. \r\n            </p>\r\n        </div>\r\n        {/if}\r\n    </div>\r\n</div>\r\n\r\n<style>img {\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\na {\n  --text-opacity: 1;\n  color: #38b2ac;\n  color: rgba(56, 178, 172, var(--text-opacity));\n  text-decoration: underline;\n}\n\np {\n  padding: 0.5rem;\n  text-align: justify;\n  line-height: 1.375;\n}\n\n.title {\n  position: relative;\n  cursor: pointer;\n}\n\n.headers {\n  padding: 0.25rem;\n  white-space: nowrap;\n  --text-opacity: 1;\n  color: #fbd38d;\n  color: rgba(251, 211, 141, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #1a202c;\n  background-color: rgba(26, 32, 44, var(--bg-opacity));\n  font-weight: 700;\n  font-size: 1.25rem;\n}\n\n.headers:hover {\n  padding: 0.25rem;\n  white-space: nowrap;\n  --text-opacity: 1;\n  color: #fff;\n  color: rgba(255, 255, 255, var(--text-opacity));\n  --bg-opacity: 1;\n  background-color: #1a202c;\n  background-color: rgba(26, 32, 44, var(--bg-opacity));\n  font-weight: 700;\n  font-size: 1.25rem;\n}\n\n.headers {\n  position: absolute;\n  left: 50%;\n  top: 40%;\n  transform: translateX(-50%);\n}</style>",
    "<script>\r\n    import ProfileMain from './../Components/ProfileMain.svelte';\r\n    import TaxiDriverReg from './../Components/TaxiDriverReg.svelte';\r\n    import RentalCarReg from './../Components/RentalCarReg.svelte';\r\n\r\n    let tab = 'ProfileMain';\r\n\r\n</script>\r\n\r\n<div class=\"mt-16 bg-gray-800\">\r\n\r\n    <div class=\" flex flex-row\">\r\n        <div class=\"tab\" on:click={()=> tab = 'ProfileMain'}>\r\n            Настройки профиля\r\n        </div>\r\n        <div class=\"tab ml-1\" on:click={()=> tab = 'TaxiDriverReg'}>\r\n            Такси\r\n        </div>\r\n        <div class=\"tab ml-1\" on:click={()=> tab = 'RentalCar'}>\r\n            Спецтехника\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"bg-white\">\r\n        {#if tab === 'ProfileMain'}\r\n            <ProfileMain />\r\n        {:else if tab === 'TaxiDriverReg'}\r\n            <TaxiDriverReg />\r\n        {:else if tab === 'RentalCar'}\r\n            <RentalCarReg />\r\n        {/if}\r\n    </div>\r\n</div>\r\n\r\n<style>.tab\r\n{\n  padding: 0.25rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 600;\n  --bg-opacity: 1;\n  background-color: #edf2f7;\n  background-color: rgba(237, 242, 247, var(--bg-opacity));\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n}</style>\r\n",
    "<script>\r\n    import { fade, fly, scale } from 'svelte/transition';\r\n    import {firebase, db, storage} from './../firebase.js';\r\n    import {FirebaseApp, User, Doc, Collection, collectionStore} from 'sveltefire';\r\n    import { createEventDispatcher } from 'svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n    export let params = {};\r\n\r\n    let storageRef = storage.ref();\r\n\r\n    // AUTH USER and DB\r\n    let getUser;\r\n    let getUserAccount;\r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n            // User is signed in.\r\n            getUser = user;\r\n        } else {\r\n            // No user is signed in.\r\n            console.log('no user login')\r\n        }\r\n    });\r\n\r\n    let alertBox, alertBoxContent;\r\n    // ALERT BOX\r\n    function alertBoxCall(mes) {\r\n\r\n        if (!alertBox) {\r\n\r\n            alertBoxContent = mes;\r\n            alertBox = true;\r\n        }\r\n        setTimeout(()=>{\r\n            alertBox = false;\r\n        }, 5000)\r\n    }\r\n\r\n    let serviceRating;\r\n    let rating = 0;\r\n    let reviewText = '';\r\n    let options, addBlock, imgURL;\r\n    let title = 'Заголовок';\r\n    let desc = 'Описание';\r\n\r\n    let queryBlocks = (ref) => ref.orderBy(\"desc\").limit(1)\r\n \r\n    function nextBlock(last) {\r\n        queryBlocks = (ref) => ref.orderBy(\"desc\").startAfter(last.desc).limit(1);\r\n    }\r\n\r\n    let queryReviews = (ref) => ref.orderBy(\"date\", \"desc\").limit(3)\r\n \r\n    function nextReviews(last) {\r\n        queryReviews = (ref) => ref.orderBy(\"date\", \"desc\").startAfter(last.date).limit(3);\r\n    }\r\n    \r\n    // get service rating\r\n    function getRating() {\r\n\r\n        let ratings = [];\r\n\r\n        let reviews = db.collection(`services/${params.id}/reviews`).get()\r\n        .then(function(querySnapshot) {\r\n            querySnapshot.forEach(function(doc) {\r\n\r\n                let data = doc.data();\r\n                ratings.push(data.rating)\r\n\r\n            });\r\n            let sum = ratings.reduce((a, b)=> a + b, 0);\r\n            let ave = sum / ratings.length;\r\n            serviceRating = Math.trunc(ave * 10) / 10;\r\n        });\r\n\r\n    }\r\n\r\n    getRating()\r\n\r\n    // Upload block foto\r\n    function blockFotoUpload(e, uid) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        \r\n        let file = e.target.files[0];\r\n\r\n        let metadata = {\r\n            'contentType': file.type\r\n        };\r\n\r\n        storageRef.child(`users/${uid}/service/${params.id}/${file.name}`)\r\n        .put(file, metadata)\r\n        .then(function(snapshot) {\r\n            // console.log('Uploaded', snapshot.totalBytes, 'bytes.');\r\n            // console.log('File metadata:', snapshot.metadata);\r\n            // Let's get a download URL for the file.\r\n            snapshot.ref.getDownloadURL().then(function(url) {\r\n                console.log('File available at', url);\r\n                imgURL = url;\r\n            });\r\n        })\r\n        .catch(function(error) {\r\n            // [START onfailure]\r\n            console.error('Upload failed:', error);\r\n            // [END onfailure]\r\n        });\r\n    }\r\n\r\n    function addNewBlock() {\r\n        if (imgURL != undefined) {\r\n\r\n            db.collection(`services/${params.id}/adblocks`)\r\n            .add({\r\n                imgURL: imgURL,\r\n                title: title,\r\n                desc: desc,\r\n                owner: getUser.uid\r\n            })\r\n            .then(function() {\r\n                alertBoxCall('Рекламный блок добавлен! Обновите страницу.');\r\n                options = false;\r\n                addBlock = false; \r\n                imgURL = null;\r\n                title = 'Заголовок';\r\n                desc = 'Описание';\r\n            })\r\n            .catch(function(error) {\r\n                // The document probably doesn't exist.\r\n                console.error(\"Error updating document: \", error);\r\n            });\r\n        }\r\n    }\r\n\r\n    function addReview() {\r\n        if (reviewText.length > 15) {\r\n\r\n            db.collection(`services/${params.id}/reviews`).where(\"owner\", \"==\", getUser.uid).get()\r\n            .then(function(querySnapshot) {\r\n                    \r\n                if (querySnapshot.empty) {\r\n                    add();\r\n                } else {\r\n                    alertBoxCall('Отзыв можно оставить после оплаты услуг сервиса, но только один отзыв разрешается написать без оплаты.')\r\n                }\r\n            \r\n            })\r\n            .catch(function(error) {\r\n                console.log(\"Error getting documents: \", error);\r\n            });\r\n\r\n            function add() {\r\n\r\n                db.collection(`services/${params.id}/reviews`)\r\n                .add({\r\n                    date: firebase.firestore.FieldValue.serverTimestamp(),\r\n                    text: reviewText,\r\n                    rating: rating,\r\n                    owner: getUser.uid,\r\n                    username: getUser.displayName\r\n                })\r\n                .then(function() {\r\n                    rating = 0;\r\n                    reviewText = '';\r\n                    alertBoxCall('Спасибо, отзыв добавлен!');\r\n                })\r\n                .catch(function(error) {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n            }\r\n        } else {\r\n\r\n            alertBoxCall('Слишком короткий отзыв!');\r\n        }\r\n    }\r\n    \r\n    let replyText = '';\r\n    let reviewID;\r\n    let replyReviewBox;\r\n\r\n    function replyReview(id) {\r\n        reviewID = id;\r\n        replyReviewBox = true;\r\n    }\r\n\r\n    function replySend() {\r\n        if (replyText.length > 15) {\r\n\r\n            db.collection(`services/${params.id}/reviews/${reviewID}/reply`)\r\n            .add({\r\n                date: firebase.firestore.FieldValue.serverTimestamp(),\r\n                text: replyText,\r\n                owner: getUser.uid,\r\n                username: getUser.displayName\r\n            })\r\n            .then(function() {\r\n                replyReviewBox = false;\r\n                replyText = '';\r\n                alertBoxCall('Спасибо, ответ добавлен!');\r\n            })\r\n            .catch(function(error) {\r\n                // The document probably doesn't exist.\r\n                console.error(\"Error updating document: \", error);\r\n            });\r\n        } else {\r\n\r\n            alertBoxCall('Слишком короткий ответ!');\r\n        }\r\n    }\r\n\r\n    let recTime;\r\n    let changeTime;\r\n    let recDate = params.date? params.date : null;\r\n    let recordsBox = params.records? true : false;\r\n    let receptionBox;\r\n\r\n    let settings;\r\n    let subService;\r\n    let newSubService;\r\n\r\n    let logSub, logDate, logTime, logDesc;\r\n   \r\n    function addNewRecord() {\r\n\r\n        if(logSub && logDate && logTime && logDesc != undefined) {\r\n\r\n            db.collection(`services/${params.id}/records`).add({\r\n                clientname: getUser.displayName,\r\n                clientUID: getUser.uid,\r\n                subservice: logSub,\r\n                date: logDate,\r\n                time: logTime,\r\n                desc: logDesc\r\n            })\r\n            .then(function(docRef) {\r\n                receptionBox = false;\r\n                alertBoxCall('Вы записаны, ждите ответа мастера.');\r\n            })\r\n            .catch(function(error) {\r\n                alertBoxCall('Ошибка.');\r\n            });\r\n        } else {\r\n            alertBoxCall('Заполните все поля.')\r\n        }\r\n\r\n    }\r\n\r\n    function phoneCall(number) {\r\n        if(confirm('Позовнить?')) window.open(`tel:${number}`)\r\n    }\r\n\r\n\r\n    let notificationsOn;\r\n\r\n    function checkNotification() {\r\n        if (confirm('Включить уведомления?')) {\r\n            notificationsOn = true;\r\n            alertBoxCall('Уведомления включены.')\r\n        } else {\r\n            notificationsOn = false;\r\n            alertBoxCall('Уведомления выключены.')\r\n        }\r\n    }\r\n    \r\n    // function listenReception() {\r\n    //     db.collection(`services/${params.id}/records`)\r\n    //     .onSnapshot(function(snapshot) {\r\n    //         snapshot.docChanges().forEach(function(change) {\r\n    //             if (change.type === \"added\") {\r\n    //                 let record = change.doc.data();\r\n    //                 if (!record.confirmed) {\r\n\r\n    //                     createNotification(record.clientname, record.subservice, record.date, params.id)\r\n    //                 }\r\n    //             }\r\n    //             // if (change.type === \"modified\") {\r\n    //             //     console.log(\"Modified city: \", change.doc.data());\r\n    //             // }\r\n    //             // if (change.type === \"removed\") {\r\n    //             //     console.log(\"Removed city: \", change.doc.data());\r\n    //             // }\r\n    //         });\r\n    //     });\r\n    // }\r\n</script>\r\n\r\n<div class=\"mt-16\">\r\n<FirebaseApp {firebase}>\r\n    <User let:user>\r\n        <Doc path={`services/${params.id}`} let:data={service} let:ref={serviceRef}>\r\n\r\n            <!-- HEADER -->\r\n            <div class=\"p-2 rounded-lg shadow-lg\">\r\n\r\n                <!-- header -->\r\n                <div class=\"p-1 flex flex-row\">\r\n                    <!-- rating -->\r\n                    <div class=\"p-2 flex flex-col content-center items-center\">\r\n                        <div>\r\n                            <img src=\"./icons/star.svg\" alt=\"star\" class=\"w-8 h-8\">\r\n                        </div>\r\n                        <div class=\"mt-1 font-semibold text-center\">\r\n                            {#if serviceRating < 3}\r\n                            <span class=\" text-red-600\">\r\n                                {serviceRating}\r\n                            </span>\r\n                            {/if}\r\n                            {#if serviceRating >= 3 && serviceRating < 4}\r\n                            <span class=\" text-orange-600\">\r\n                                {serviceRating}\r\n                            </span>\r\n                            {/if}\r\n                            {#if serviceRating >= 4}\r\n                            <span class=\" text-green-600\">\r\n                                {serviceRating}\r\n                            </span>\r\n                            {/if}\r\n                        </div>\r\n                    </div>\r\n                    <!-- service name -->\r\n                    <div class=\"flex flex-grow\">\r\n                        <div class=\"p-2 my-auto mx-auto text-center\">\r\n                            <p class=\"font-semibold text-lg\">\r\n                                {service.name}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- service offer -->\r\n                <div>\r\n                    <p class=\"p-2 text-sm text-justify\">\r\n                        {service.offer}\r\n                    </p>\r\n                </div>\r\n            \r\n                <!-- if owner -->\r\n                {#if service.owner == getUser.uid}\r\n                    <div>\r\n                        <img src=\"./icons/expand_more.svg\" alt=\"options\" \r\n                        class=\" mx-auto\"\r\n                        on:click={()=> options = options ? false : true}>\r\n                    </div>\r\n                {/if}\r\n\r\n                <!-- OPTIONS -->\r\n                {#if options}\r\n                <div>\r\n                    <div class=\"option-menu\" on:click={()=> recordsBox = recordsBox ? false : true}>\r\n                        Журнал\r\n                    </div>\r\n                    <div class=\"option-menu\" on:click={()=> settings = settings ? false : true}>\r\n                        Настройки\r\n                    </div>\r\n                    {#if settings}\r\n                        <div class=\"mt-1 p-1 border border-dashed\">\r\n                            <div>\r\n                                <span class=\" text-sm\">\r\n                                    Предварительная запись через сайт:\r\n                                </span>\r\n                                {#if service.subServices}\r\n                                    {#if service.reception}\r\n                                    <span class=\" text-sm text-green-600\">Включено</span>\r\n                                    <button class=\"btn-gray\" on:click={()=> serviceRef.update({reception: false})}>отключить</button>\r\n                                    {:else}\r\n                                    <span class=\" text-sm text-gray-500\">Выключено</span>\r\n                                    <button class=\"btn-green\" on:click={()=> serviceRef.update({reception: true})}>включить</button>\r\n                                    {/if}\r\n                                {:else}\r\n                                    <span class=\" text-sm text-orange-600 italic\">\r\n                                        Сначала добавьте услугу...\r\n                                    </span>\r\n                                {/if}\r\n                            </div>\r\n                            <div>\r\n                                <span class=\" text-sm\">\r\n                                    Уведомления:\r\n                                </span>\r\n                                {#if notificationsOn}\r\n                                <span class=\" text-sm text-green-600\">Включено</span>\r\n                                {:else}\r\n                                <span class=\" text-sm text-gray-500\">Выключено</span>\r\n                                <button class=\"btn-green\" on:click={()=> checkNotification()}>включить</button>\r\n                                {/if}\r\n                            </div>\r\n                        </div>\r\n                    {/if}\r\n\r\n                    <div class=\"option-menu\" on:click={()=> subService = subService ? false : true}>\r\n                        Добавить услугу\r\n                    </div>\r\n                    {#if subService}\r\n                        <div class=\"pt-1 p-1 border border-dashed\">\r\n                            <input type=\"text\" placeholder=\"Название услуги\" bind:value={newSubService}>\r\n                            <button class=\"btn-orange\" \r\n                            on:click={()=> serviceRef.update({subServices: firebase.firestore.FieldValue.arrayUnion(newSubService)})\r\n                            .then(()=> alertBoxCall('Услуга добавлена.'))}>\r\n                            добавить</button>\r\n                        </div>\r\n                    {/if}\r\n\r\n                    <div class=\"option-menu\" on:click={()=> addBlock = addBlock ? false : true}>\r\n                        Добавить блок\r\n                    </div>\r\n                    {#if addBlock}\r\n                        <div>\r\n                            <div class=\"image-upload\">\r\n                                {#if imgURL != undefined}\r\n\r\n                                    <img class=\"img-up\" src={imgURL} alt=\"block-img\"/>\r\n\r\n                                {:else}\r\n                                    <label for=\"block-foto\">\r\n                                                \r\n                                        <p class=\"my-4\">Загрузите изображение</p>\r\n                                        <img src=\"./icons/add_photo_teal.svg\" alt=\"add_photo\" class=\"img-icon\">\r\n                                    </label>\r\n                                    <input type=\"file\" id=\"block-foto\" name=\"file\" on:change={(e) => blockFotoUpload(e, user.uid)}/>\r\n                                    \r\n                                {/if}\r\n                            </div>\r\n\r\n                            <div class=\"mt-2 text-center\">\r\n\r\n                                <input type=\"text\" bind:value={title} maxlength=\"50\">\r\n                                <input type=\"text\" bind:value={desc} maxlength=\"150\">\r\n\r\n                                {#if imgURL != undefined}\r\n                                    <button class=\"btn-green\" on:click={addNewBlock}>Добавить</button>\r\n                                {/if}\r\n                            </div>\r\n                        </div>\r\n                    {/if}\r\n                </div>\r\n                {/if}\r\n            </div>\r\n\r\n            <!-- AD BLOCKS -->\r\n            <div class=\"p-1\">    \r\n                <Collection path={serviceRef.collection('adblocks')} query={queryBlocks} let:data={blocks} let:last>\r\n                    {#each blocks as block}\r\n                    <div class=\" relative border rounded shadow-md\" on:click={() => nextBlock(last)}>\r\n\r\n                        <span class=\"absolute p-1 mt-3 bg-gray-900 text-white font-semibold uppercase opacity-75\">\r\n                            {block.title}\r\n                        </span>\r\n\r\n                        <span class=\"absolute right-0 m-2 opacity-50\">\r\n                            <img src=\"./icons/close_circle.svg\" alt=\"X\" class=\"w-8 h-8\">\r\n                        </span>\r\n\r\n                        <img src=\"{block.imgURL}\" alt=\"block-img\" class=\"img-up\">\r\n\r\n                        <hr>\r\n\r\n                        <div class=\"p-2 bg-gray-100 text-black text-sm leading-tight\">\r\n\r\n                            {block.desc}\r\n\r\n                            {#if service.owner == getUser.uid}\r\n                                <div class=\"mt-1 text-center\">\r\n                                    <button class=\"btn-opt\" on:click={()=> block.ref.delete()}>Удалить блок</button>\r\n                                </div>\r\n                            {/if}\r\n                        </div>\r\n                    </div>\r\n                    {/each}\r\n                </Collection>    \r\n            </div>\r\n\r\n            <!-- RATING -->\r\n            <div class=\"rating-container\">\r\n                <div class=\"star-container\">\r\n                    {#if rating >= 1}\r\n                        <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 1}>\r\n                    {:else}\r\n                        <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 1}>\r\n                    {/if}\r\n                    {#if rating >= 2}\r\n                        <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 2}>\r\n                    {:else}\r\n                        <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 2}>\r\n                    {/if}\r\n                    {#if rating >= 3}\r\n                        <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 3}>\r\n                    {:else}\r\n                        <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 3}>\r\n                    {/if}\r\n                    {#if rating >= 4}\r\n                        <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 4}>\r\n                    {:else}\r\n                        <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 4}>\r\n                    {/if}\r\n                    {#if rating == 5}\r\n                        <img src=\"./icons/star.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 5}>\r\n                    {:else}\r\n                        <img src=\"./icons/star_border.svg\" alt=\"star\" class=\"star\" on:click={()=> rating = 5}>\r\n                    {/if}\r\n                </div>\r\n\r\n                <div class=\"mt-1 inline-block\">\r\n                    <input type=\"text\" placeholder=\"Ваш отзыв\" bind:value={reviewText}>\r\n                    <button class=\"btn-orange\" on:click={addReview}>Добавить</button>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- REVIEWS -->\r\n            <div class=\"p-1\">\r\n                <Collection path={serviceRef.collection('reviews')} query={queryReviews} let:data={reviews} let:ref={reviewsRef} let:last>\r\n\r\n                    <div class=\"mt-1\">\r\n                        {#each reviews as review}\r\n                        <div class=\"review\">\r\n                            <p>\r\n                                <span class=\" font-semibold\">\r\n                                    {review.username} \r\n                                </span>\r\n\r\n                                <!-- stars -->\r\n                                <span class=\" float-right\">\r\n                                {#if review.rating >= 1}\r\n                                    <img src=\"./icons/star.svg\" alt=\"star\" class=\"star-small\">\r\n                                    {#if review.rating >= 2}\r\n                                        <img src=\"./icons/star.svg\" alt=\"star\" class=\"star-small\">\r\n                                        {#if review.rating >= 3}\r\n                                            <img src=\"./icons/star.svg\" alt=\"star\" class=\"star-small\">\r\n                                            {#if review.rating >= 4}\r\n                                                <img src=\"./icons/star.svg\" alt=\"star\" class=\"star-small\">\r\n                                                {#if review.rating == 5}\r\n                                                    <img src=\"./icons/star.svg\" alt=\"star\" class=\"star-small\">\r\n                                                {/if}\r\n                                            {/if}\r\n                                        {/if}\r\n                                    {/if}\r\n                                {/if}\r\n                                </span>\r\n                            </p>\r\n                            <p class=\"mt-2\">\r\n                                {review.text}\r\n                                {#if service.owner == getUser.uid}\r\n                                    <span class=\" text-teal-500 text-xs\" on:click={()=> replyReview(review.id)}>\r\n                                        Ответить\r\n                                    </span>\r\n                                {/if}\r\n                            </p>\r\n\r\n                            <!-- REPLY -->\r\n                            <Collection path={review.ref.collection('reply')} let:data={reply} let:ref={replyRef}>\r\n                                {#if reply.length >= 1}\r\n                                    {#each reply as r}\r\n                                        <div class=\"reply\">\r\n                                            <p class=\" font-semibold\">\r\n                                                {r.username}\r\n                                            </p>\r\n                                            <p class=\"mt-1\">\r\n                                                {r.text}\r\n                                            </p>\r\n                                        </div>\r\n                                    {/each}\r\n                                {/if}\r\n                            </Collection>\r\n\r\n                        </div>\r\n                        {/each}\r\n                    </div>\r\n                    \r\n                    <!-- MORE reviews -->\r\n                    <div>\r\n                        <img src=\"./icons/expand_more.svg\" alt=\"options\" \r\n                        class=\" mx-auto\"\r\n                        on:click={()=> nextReviews(last)}>\r\n                    </div>\r\n                    \r\n                    <!-- NO reviews -->\r\n                    {#if reviews.length == 0}\r\n                    <div class=\"mt-1 p-2 bg-gray-100 border rounded-md text-center\">\r\n                        <p>Отзывов нет</p>\r\n                    </div>\r\n                    {/if}\r\n\r\n                    <span slot=\"fallback\">Не удалось загрузить</span>\r\n                </Collection>\r\n            </div>\r\n\r\n            <!-- RECEPTION BUTTON-->\r\n            {#if service.reception}\r\n                <div in:scale=\"{{ duration: 1000 }}\" class=\"absolute bottom-0 left-0 w-20 h-20\">\r\n                    <div class=\"mt-3 ml-1 p-2 fixed rounded-full bg-teal-500 shadow-lg\">\r\n                        <div class=\"p-2 rounded-full bg-teal-400\">\r\n                            <img src=\"./icons/event_note.svg\" alt=\"call\" \r\n                            class=\"w-8 h-8 cursor-pointer\" on:click={()=> receptionBox = true}>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            {/if}\r\n\r\n            <!-- PHONE BUTTON -->\r\n            <div in:scale=\"{{ duration: 1000 }}\" class=\"absolute bottom-0 right-0 w-20 h-20\">\r\n                <div class=\"mt-3 ml-2 p-2 fixed rounded-full bg-green-500 shadow-lg\">\r\n                    <div class=\"p-2 rounded-full bg-green-400\">\r\n                        <a href=\"tel:{service.phone}\" on:click={()=> phoneCall(service.phone)}>\r\n                            <img src=\"./icons/phone.svg\" alt=\"call\" class=\"w-8 h-8\">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- BACK BUTTON -->\r\n            <div in:scale=\"{{ duration: 1000 }}\" id=\"back-button\" class=\"absolute bottom-0 w-40 h-20\">\r\n                <button  on:click={()=> dispatch('close')}\r\n                    class=\"mt-2 p-3 fixed rounded-full bg-gray-800 shadow-lg text-white\">\r\n                    \r\n                        Вернуться на карту\r\n                    \r\n                </button>\r\n            </div>\r\n\r\n            <!-- RECEPTION BOX -->\r\n            {#if receptionBox}\r\n                <div id=\"receptionBox\">\r\n                    <div class=\"p-2 bg-gray-100 border rounded-lg shadow-lg\">\r\n                        <div class=\"text-center\">\r\n                            <span class=\"text-lg font-semibold\">\r\n                                Записаться\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"mt-1\">\r\n                            <div>\r\n                                <span>\r\n                                    Выберите услугу:\r\n                                </span>\r\n                            </div>\r\n                            <div>\r\n                                <select class=\"p-1 rounded-lg border bg-white\" on:change={(e) => logSub = e.target.value}>\r\n                                    <option value=\"\"></option>\r\n                                    {#each service.subServices as sub}\r\n                                    <option value={sub}>{sub}</option>\r\n                                    {/each}\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"mt-1\">\r\n                                <span>\r\n                                    Выберите дату:\r\n                                </span>\r\n                            </div>\r\n                            <div>\r\n                                <input type=\"date\" bind:value={logDate}>\r\n                            </div>\r\n                            <div class=\"mt-1\">\r\n                                <span>\r\n                                    Выберите время:\r\n                                </span>\r\n                            </div>\r\n                            <div>\r\n                                <input type=\"time\" bind:value={logTime}>\r\n                            </div>\r\n                            <div class=\"mt-1\">\r\n                                <span>\r\n                                    Комментарий:\r\n                                </span>\r\n                            </div>\r\n                            <div>\r\n                                <input type=\"text\" bind:value={logDesc}>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <button class=\"btn-gray\" on:click={()=> receptionBox = false}>Отмена</button>\r\n                            <button class=\"btn-orange\" on:click={addNewRecord}>Записаться</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            {/if}\r\n\r\n            <!-- RECORDS BOX -->\r\n            {#if recordsBox}\r\n                <div id=\"recordsBox\">\r\n                    <div class=\"p-2 bg-gray-100 border rounded-lg shadow-lg\">\r\n                    <div class=\"text-center\">\r\n                        <span class=\" text-lg font-semibold\">\r\n                            Журнал\r\n                        </span>\r\n                    </div>\r\n                    <input type=\"date\" bind:value={recDate}>\r\n                    <Collection path={serviceRef.collection('records')} query={(ref) => ref.orderBy(\"time\")} let:data={records} let:ref={recRef}>\r\n                        {#each records as rec}\r\n                            {#if rec.date == recDate}\r\n                            <div class=\"mt-1 p-1 border rounded bg-white\">\r\n                                <div>\r\n                                    <span class=\" text-orange-600 font-semibold\" on:click={()=> changeTime = !changeTime? true : false}>\r\n                                        {rec.time}\r\n                                    </span>\r\n                                    <span class=\"ml-2 font-semibold\">\r\n                                        {rec.subservice}\r\n                                    </span>\r\n                                </div>\r\n                                <div class=\"mt-1 text-sm\">\r\n                                    {rec.clientname}\r\n                                    {rec.desc}\r\n                                </div>\r\n                                {#if !rec.confirmed}\r\n                                    {#if changeTime}\r\n                                        <div>\r\n                                            <input type=\"time\" bind:value={recTime}>\r\n                                        </div>\r\n                                    {/if}\r\n                                <div class=\"mt-2 text-center\">\r\n                                    {#if recTime != undefined}\r\n                                        <button class=\"btn-opt bg-orange-500\" on:click={()=> rec.ref.update({time: recTime}).then(alertBoxCall('Время изменено.'))}>\r\n                                            Изменить\r\n                                        </button>\r\n                                    {/if}\r\n                                    <button class=\"btn-opt bg-green-500\" on:click|once={()=> rec.ref.update({confirmed: true}).then(alertBoxCall('Принято.'))}>\r\n                                        Принять\r\n                                    </button>\r\n                                    <button class=\"btn-opt bg-gray-800\" on:click={()=> rec.ref.delete().then(alertBoxCall('Отменено.'))}>\r\n                                        Отменить\r\n                                    </button>\r\n                                </div>\r\n                                {/if}\r\n                            </div>\r\n                            {/if}\r\n                        {/each}\r\n                    </Collection>\r\n                    <div class=\"mt-2 text-center\">\r\n                        <button class=\"btn-gray\" on:click={()=> recordsBox = false}>Закрыть</button>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            {/if}\r\n\r\n            <span slot=\"fallback\">Не удалось загрузить</span>\r\n        </Doc>\r\n    </User>\r\n</FirebaseApp>\r\n</div>\r\n\r\n<!-- REPLY REVIEW -->\r\n    {#if replyReviewBox}\r\n        <div id=\"replyReviewBox\" class=\" fixed top-0\">\r\n\r\n            <div transition:fade=\"{{ duration: 200 }}\" class=\"p-3 border bg-white rounded-lg shadow-lg\">\r\n\r\n                <p class=\"text-center\">\r\n                    <input type=\"text\" placeholder=\"Ответ\" bind:value={replyText}>\r\n                </p>\r\n\r\n                <p class=\"mt-2 text-center\">\r\n                    <button class=\"btn-gray\" on:click={() => replyReviewBox = false}>Отмена</button>\r\n                    <button class=\"btn-orange\" on:click={() => replySend()}>Отправить</button>\r\n                </p>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    {/if}\r\n<!-- ALERT BOX -->\r\n    {#if alertBox}\r\n        <div id=\"alertBox\" class=\" fixed top-0\">\r\n\r\n            <div transition:fade=\"{{ duration: 500 }}\" class=\"p-3 border bg-white rounded-lg shadow-lg\">\r\n\r\n                <p class=\"text-center\">\r\n                    {alertBoxContent}\r\n                </p>\r\n\r\n                <p class=\"mt-2 text-center\">\r\n                    <button class=\"btn-orange\" on:click={() => alertBox = false}>Ок</button>\r\n                </p>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    {/if}\r\n\r\n<style>.reply\r\n{\n  margin-top: 0.5rem;\n  padding: 0.25rem;\n  --bg-opacity: 1;\n  background-color: #edf2f7;\n  background-color: rgba(237, 242, 247, var(--bg-opacity));\n  border-radius: 0.5rem;\n}\n\n.review\r\n{\n  margin-top: 0.25rem;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  border-width: 1px;\n  border-radius: 0.5rem;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n}\n\n.rating-container\r\n{\n  margin: 0.25rem;\n  padding: 0.5rem;\n  border-width: 1px;\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  text-align: center;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n}\n\n.star-container\r\n{\n  padding: 0.5rem;\n  text-align: center;\n}\n\n.star\r\n{\n  display: inline-block;\n  margin-left: auto;\n  margin-right: auto;\n  cursor: pointer;\n}\n\n.star-small\r\n{\n  width: 1.25rem;\n  height: 1.25rem;\n  display: inline-block;\n}\n\ninput\r\n{\n  margin-top: 0.25rem;\n  margin-bottom: 0.25rem;\n  padding: 0.25rem;\n  width: 100%;\n  --bg-opacity: 1;\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, var(--bg-opacity));\n  border-width: 1px;\n  border-radius: 0.375rem;\n}\n\n.option-menu \r\n{\n  padding: 0.5rem;\n  text-align: center;\n  border-width: 1px;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  border-radius: 0.25rem;\n}\n\n.img-icon \r\n{\n  margin-top: 0.5rem;\n  width: 5rem;\n  height: 5rem;\n  margin-left: auto;\n  margin-right: auto;\n  cursor: pointer;\n}\n\n.image-upload \r\n{\n  margin-top: 0.75rem;\n  width: 100%;\n  height: 12rem;\n  border-width: 1px;\n  --bg-opacity: 1;\n  background-color: #f7fafc;\n  background-color: rgba(247, 250, 252, var(--bg-opacity));\n  border-radius: 0.25rem;\n  text-align: center;\n  overflow: hidden;\n}\n\n.img-up\r\n{\n  height: 12rem;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n.image-upload > input\r\n{\n  display: none;\n}\n\n#back-button {\n  left: 50%;\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n#recordsBox {\n  position: absolute;\n  width: 300px;\n  height: 400px;\n  left: 50%;\n  top: 50%;\n  margin-left:-150px;\n  margin-top:-200px;\n}\n\n#receptionBox {\n  position: fixed;\n  width: 300px;\n  height: 400px;\n  left: 50%;\n  top: 50%;\n  margin-left:-150px;\n  margin-top:-200px;\n}\n\n#replyReviewBox {\n  width: 300px;\n  height: 400px;\n  left: 50%;\n  top: 50%;\n  margin-left:-150px;\n  margin-top:-200px;\n}\n\n#alertBox {\n  width: 240px;\n  height: 140px;\n  left: 50%;\n  top: 50%;\n  margin-left:-120px;\n  margin-top:-70px;\n}</style>"
  ],
  "names": [],
  "mappings": "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"
}